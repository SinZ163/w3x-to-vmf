globalseffect array eunit array xitem o=nullinteger V=0unit E=nullgroup X=nullstring O=""integer array Rinteger I=0integer array Aboolean N=falseinteger array binteger array Binteger array Cinteger array Dinteger f=0string F=""boolean G=falseboolean h=falseinteger H=0integer J=0force K=nullinteger L=0boolean M=falseinteger array Pquest array qinteger Q=0integer S=0real array Treal array Uinteger w=0location array Wlocation array ylocation array Yinteger array zitem array Zquest array vvinteger array evforce xv=nullquest array ovforce rv=nullinteger array ivforce av=nullforce nv=nullforce Vv=nullinteger array Evinteger array Xvforce Ov=nullforce Rv=nullgroup Iv=nulllocation Av=nullgroup Nv=nullgroup bv=nullunit array Bvunit array cvunit array Cvgroup array dvlocation Dv=nulleffect array fvlocation Fv=nulleffect array gveffect array Gvunit array hvtexttag array Hvgroup array jvlocation array Jvreal array kvreal array Kvforce lv=nullquest array Lvforce mv=nullforce Mv=nullforce pv=nulllocation Pv=nullforce qv=nullforce Qv=nullforce sv=nullforce Sv=nulllocation tv=nulllocation Tv=nullunit uv=nullquest array Uvinteger array wvforce Wv=nullquest array yvinteger array Yvquest array zvforce Zv=nullquest array veforce ee=nulllocation xe=nulllocation oe=nullinteger re=0force ie=nullforce ae=nullinteger array neforce Ve=nullforce Ee=nullforce Xe=nullforce Oe=nullforce Re=nullforce Ie=nullforce Ae=nullforce Ne=nullforce be=nullforce Be=nullforce ce=nullinteger array Ceinteger array deinteger array Deforce fe=nullforce Fe=nullforce ge=nullunit array Geunit array heeffect array Heeffect array jegroup array Jelocation array keunit array Keunit array leeffect array Lelocation array melocation Me=nulllocation array pelocation Pe=nullforce qe=nulllocation Qe=nulllocation se=nulllocation Se=nullforce te=nullquest array Telocation ue=nullforce Ue=nullquest array Weinteger ye=0force Ye=nullforce ze=nullforce Ze=nullforce array vxforce ex=nullforce xx=nullforce ox=nulllocation rx=nullgroup ix=nulllocation ax=nulltimer nx=nullunit array Vxquest array Exforce Xx=nullforce Ox=nullforce Rx=nullforce Ix=nullforce Ax=nulltimerdialog Nx=nullforce bx=nullinteger array Bxforce cx=nulllocation Cx=nullplayer array Dxforce fx=nullunit array Fxunit array gxunit array Gxinteger array hxunit array Hxforce jx=nullgroup array Jxforce kx=nullinteger Kx=0player array lxinteger array Lxforce mx=nullforce Mx=nullforce px=nullgroup Px=nullforce qx=nullunit array Qxunit array sxstring array Sxstring tx=""effect array Txeffect array uxlocation Ux=nulllocation wx=nullreal Wx=0integer array yxforce Yx=nullforce zx=nullinteger array Zxquest array voquest array eointeger array xointeger array oointeger ro=0integer io=0location ao=nullinteger no=0integer Vo=0unit Eo=nullinteger Xo=0timerdialog array Ootimer Ro=nullinteger Io=0location Ao=nulllocation No=nulltimer bo=nulltimerdialog Bo=nullinteger co=0integer Co=0timer do=nulltimer Do=nulltimer fo=nulltimer Fo=nulltimer go=nulltimer Go=nulltimer ho=nulltimer Ho=nulltimer jo=nulllocation Jo=nulllocation ko=nullforce Ko=nullinteger lo=0unit Lo=nullunit mo=nullinteger Mo=0location po=nullreal Po=0real qo=0string array Qoboolean so=falsegroup So=nullinteger to=0integer array Tointeger uo=0unit array Uointeger array woreal array Woreal array yoreal array Yoreal array zoreal array Zostring array vrstring array erboolean array xrinteger array rrinteger array irunit array arlocation array nrlocation array Vrreal Er=0real Xr=0force Rr=nullquest array Irforce Ar=nullinteger array Nrdialog br=nullbutton array Brinteger cr=0location Cr=nullgroup dr=nullinteger array Drgroup fr=nullgroup Fr=nullgroup gr=nullgroup Gr=nullunit array hrunit array Hrlocation array jrlocation array Jrlocation array krlightning array Krtexttag array lrunit array Lreffect array mrgroup array Mrlocation array prunit array Prgroup array qrinteger array Qrunit array srforce Sr=nullplayer array trinteger Tr=0group ur=nullquest array Urinteger array wrinteger Wr=0quest array yrquest array Yrforce zr=nullforce array Zrforce array viinteger array eiquest array xiinteger array oiquest array riinteger ii=0integer ai=0integer array niinteger array Viquest array Eiquest array Xiquest array Oiinteger array Riquest array Iiinteger array Aireal Ni=0force bi=nullforce Bi=nullreal array cireal array Cireal array direal array Direal array fireal array Fiforce array giforce array Giinteger array hiinteger array Hiforce array jiquest array Jiforce array kiinteger array Kiinteger array liforce array Ligroup array miforce array Migroup pi=nullreal Pi=0location qi=nulllocation Qi=nullgroup array silocation array Silocation array tiinteger Ti=0unit array uigroup Ui=nullhashtable wi=nullinteger Wi=0integer yi=0integer Yi=0group zi=nulllocation Zi=nulllocation va=nullgroup ea=nullforce xa=nulllocation oa=nullinteger array ragroup ia=nullunit aa=nulllocation na=nullgroup Va=nulleffect array Eagroup Xa=nulllocation Oa=nulllocation array Ragroup array Ialocation Aa=nulllocation Na=nulllocation ba=nulllocation Ba=nullgroup ca=nullgroup Ca=nullinteger da=0location Da=nullfogmodifier array faboolean Fa=falselocation array gaunit Ga=nulllocation ha=nullinteger Ha=0group ja=nulllocation Ja=nullinteger ka=0location Ka=nullgroup la=nullinteger array Lainteger ma=0integer Ma=0unit array palocation array Palocation qa=nulllocation array Qalocation sa=nulllocation Sa=nullreal ta=0real Ta=0location ua=nullgroup Ua=nullgroup wa=nullinteger array Wagroup ya=nullinteger array Yainteger array zareal array Zalocation array vninteger array enlocation array xnunit array onforce rn=nullgroup in=nulllocation an=nullreal nn=0location Vn=nulllocation array Eninteger Xn=0integer On=0rect array Rninteger In=0rect array Aninteger Nn=0location bn=nullgroup Bn=nulllocation cn=nullinteger Cn=0integer dn=0weathereffect array Dnweathereffect fn=nullinteger array Fninteger array gnforce array Gninteger hn=0integer array Hnquest array jntimer Jn=nulltimer kn=nulltimer Kn=nulltimer ln=nulltimer Ln=nulltimer mn=nulltimer Mn=nulltimer pn=nulltimer Pn=nulltimer qn=nulltimerdialog array Qnforce sn=nullforce Sn=nullplayer tn=nullforce Tn=nullforce un=nulltimer array Unforce wn=nullinteger array Wninteger yn=0integer Yn=0integer array zninteger Zn=0integer vV=0integer eV=0integer array xVunit oV=nulllocation rV=nullinteger iV=0hashtable aV=nullgroup nV=nullforce VV=nullforce EV=nullinteger array XVgroup OV=nullrect RV=nullinteger IV=0timer array AVgroup NV=nullinteger bV=0unit BV=nullboolean array cVinteger array CVgroup dV=nulllocation DV=nullinteger fV=0integer FV=0group gV=nullgroup GV=nullunit hV=nullboolean HV=falsetimer array jVtrigger array JVgroup kV=nullgroup KV=nullinteger array lVgroup LV=nullgroup mV=nullgroup MV=nullrect pV=nullrect PV=nullrect qV=nullrect QV=nullrect sV=nullrect SV=nullrect tV=nullrect TV=nullrect uV=nullrect UV=nullrect wV=nullrect WV=nullrect yV=nullrect YV=nullrect zV=nullrect ZV=nullrect vE=nullrect eE=nullrect xE=nullrect oE=nullrect rE=nullrect iE=nullrect aE=nullrect nE=nullrect VE=nullrect EE=nullrect XE=nullrect OE=nullrect RE=nullrect IE=nullrect AE=nullrect NE=nullrect bE=nullrect BE=nullrect cE=nullrect CE=nullrect dE=nullrect DE=nullrect fE=nullrect FE=nullrect gE=nullrect GE=nullrect hE=nullrect HE=nullrect jE=nullrect JE=nullrect kE=nullrect KE=nullrect lE=nullrect LE=nullrect mE=nullrect ME=nullrect pE=nullrect PE=nullrect qE=nullrect QE=nullrect sE=nullrect SE=nullrect tE=nullrect TE=nullrect uE=nullrect UE=nullrect wE=nullrect WE=nullrect yE=nullrect YE=nullrect zE=nullrect ZE=nullrect vX=nullrect eX=nullrect xX=nullrect oX=nullrect rX=nullrect iX=nullrect aX=nullrect nX=nullrect VX=nullrect EX=nullrect XX=nullrect OX=nullrect RX=nullrect IX=nullrect AX=nullrect NX=nullrect bX=nullrect BX=nullrect cX=nullrect CX=nullrect dX=nullrect DX=nullrect fX=nullrect FX=nullrect gX=nullrect GX=nullrect hX=nullrect HX=nullrect jX=nullrect JX=nullrect kX=nullrect KX=nullrect lX=nullrect LX=nullrect mX=nullrect MX=nullrect pX=nullrect PX=nullrect qX=nullrect QX=nullrect sX=nullrect SX=nullrect tX=nullrect TX=nullrect uX=nullrect UX=nullrect wX=nullrect WX=nullrect yX=nullrect YX=nullrect zX=nullrect ZX=nullrect vO=nullrect eO=nullrect xO=nullrect oO=nullrect rO=nullrect iO=nullrect aO=nullrect nO=nullrect VO=nullrect EO=nullrect XO=nullrect OO=nullrect RO=nullrect IO=nullrect AO=nullrect NO=nullrect bO=nullrect BO=nullrect cO=nullrect CO=nullrect dO=nullrect DO=nullrect fO=nullrect FO=nullrect gO=nullrect GO=nullrect hO=nullrect HO=nullrect jO=nullrect JO=nullrect kO=nullrect KO=nullrect lO=nullrect LO=nullrect mO=nullrect MO=nullrect pO=nullrect PO=nullrect qO=nullrect QO=nullrect sO=nullrect SO=nullrect tO=nullrect TO=nullrect uO=nullrect UO=nullrect wO=nullrect WO=nullrect yO=nullrect YO=nullrect zO=nullrect ZO=nullrect vR=nullrect eR=nullrect xR=nullrect oR=nullrect rR=nullrect iR=nullrect aR=nullrect nR=nullrect VR=nullrect ER=nullrect XR=nullrect OR=nullrect RR=nullrect IR=nullrect AR=nullrect NR=nullrect bR=nullrect BR=nullrect cR=nullrect CR=nullrect dR=nullrect DR=nullrect fR=nullrect FR=nullrect gR=nullrect GR=nullrect hR=nullrect HR=nullrect jR=nullrect JR=nullrect kR=nullrect KR=nullrect lR=nullrect LR=nullrect mR=nullrect MR=nullrect pR=nullrect PR=nullrect qR=nullrect QR=nullrect sR=nullrect SR=nullrect tR=nullrect TR=nullrect uR=nullrect UR=nullrect wR=nullrect WR=nullrect yR=nullrect YR=nullrect zR=nullrect ZR=nullrect vI=nullrect eI=nullrect xI=nullrect oI=nullrect rI=nullrect iI=nullrect aI=nullrect nI=nullrect VI=nullsound EI=nullsound XI=nullsound OI=nullsound RI=nullsound II=nullsound AI=nullsound NI=nullsound bI=nullsound BI=nullsound cI=nullsound CI=nullsound dI=nullsound DI=nullsound fI=nullsound FI=nullsound gI=nullsound GI=nullsound hI=nullsound HI=nullsound jI=nullsound JI=nullsound kI=nullstring KI="Sound\\Music\\mp3Music\\Orc3.mp3"sound lI=nullsound LI=nullsound mI=nullsound MI=nullstring pI="war3mapImported\\54 Battle! [Doom Dragon].mp3"sound PI=nullsound qI=nullsound QI=nulltrigger sI=nulltrigger SI=nulltrigger tI=nulltrigger TI=nulltrigger uI=nulltrigger UI=nulltrigger wI=nulltrigger WI=nulltrigger yI=nulltrigger YI=nulltrigger zI=nulltrigger ZI=nulltrigger vA=nulltrigger eA=nulltrigger xA=nulltrigger oA=nulltrigger rA=nulltrigger iA=nulltrigger aA=nulltrigger nA=nulltrigger VA=nulltrigger EA=nulltrigger XA=nulltrigger OA=nulltrigger RA=nulltrigger IA=nulltrigger AA=nulltrigger NA=nulltrigger bA=nulltrigger BA=nulltrigger cA=nulltrigger CA=nulltrigger dA=nulltrigger DA=nulltrigger fA=nulltrigger FA=nulltrigger gA=nulltrigger GA=nulltrigger hA=nulltrigger HA=nulltrigger jA=nulltrigger JA=nulltrigger kA=nulltrigger KA=nulltrigger lA=nulltrigger LA=nulltrigger mA=nulltrigger MA=nulltrigger pA=nulltrigger PA=nulltrigger qA=nulltrigger QA=nulltrigger sA=nulltrigger SA=nulltrigger tA=nulltrigger TA=nulltrigger uA=nulltrigger UA=nulltrigger wA=nulltrigger WA=nulltrigger yA=nulltrigger YA=nulltrigger zA=nulltrigger ZA=nulltrigger vN=nulltrigger eN=nulltrigger xN=nulltrigger oN=nulltrigger rN=nulltrigger iN=nulltrigger aN=nulltrigger nN=nulltrigger VN=nulltrigger EN=nulltrigger XN=nulltrigger ON=nulltrigger RN=nulltrigger IN=nulltrigger AN=nulltrigger NN=nulltrigger bN=nulltrigger BN=nulltrigger cN=nulltrigger CN=nulltrigger dN=nulltrigger DN=nulltrigger fN=nulltrigger FN=nulltrigger gN=nulltrigger GN=nulltrigger hN=nulltrigger HN=nulltrigger jN=nulltrigger JN=nulltrigger kN=nulltrigger KN=nulltrigger lN=nulltrigger LN=nulltrigger mN=nulltrigger MN=nulltrigger pN=nulltrigger PN=nulltrigger qN=nulltrigger QN=nulltrigger sN=nulltrigger SN=nulltrigger tN=nulltrigger TN=nulltrigger uN=nulltrigger UN=nulltrigger wN=nulltrigger WN=nulltrigger yN=nulltrigger YN=nulltrigger zN=nulltrigger ZN=nulltrigger vb=nulltrigger eb=nulltrigger xb=nulltrigger ob=nulltrigger rb=nulltrigger ib=nulltrigger ab=nulltrigger nb=nulltrigger Vb=nulltrigger Eb=nulltrigger Xb=nulltrigger Ob=nulltrigger Rb=nulltrigger Ib=nulltrigger Ab=nulltrigger Nb=nulltrigger bb=nulltrigger Bb=nulltrigger cb=nulltrigger Cb=nulltrigger db=nulltrigger Db=nulltrigger fb=nulltrigger Fb=nulltrigger gb=nulltrigger Gb=nulltrigger hb=nulltrigger Hb=nulltrigger jb=nulltrigger Jb=nulltrigger kb=nulltrigger Kb=nulltrigger lb=nulltrigger Lb=nulltrigger mb=nulltrigger Mb=nulltrigger pb=nulltrigger Pb=nulltrigger qb=nulltrigger Qb=nulltrigger sb=nulltrigger Sb=nulltrigger tb=nulltrigger Tb=nulltrigger ub=nulltrigger Ub=nulltrigger wb=nulltrigger Wb=nulltrigger yb=nulltrigger Yb=nulltrigger zb=nulltrigger Zb=nulltrigger vB=nulltrigger eB=nulltrigger xB=nulltrigger oB=nulltrigger rB=nulltrigger iB=nulltrigger aB=nulltrigger nB=nulltrigger VB=nulltrigger EB=nulltrigger XB=nulltrigger OB=nulltrigger RB=nulltrigger IB=nulltrigger AB=nulltrigger NB=nulltrigger bB=nulltrigger BB=nulltrigger cB=nulltrigger CB=nulltrigger dB=nulltrigger DB=nulltrigger fB=nulltrigger FB=nulltrigger gB=nulltrigger GB=nulltrigger hB=nulltrigger HB=nulltrigger jB=nulltrigger JB=nulltrigger kB=nulltrigger KB=nulltrigger lB=nulltrigger LB=nulltrigger mB=nulltrigger MB=nulltrigger pB=nulltrigger PB=nulltrigger qB=nulltrigger QB=nulltrigger sB=nulltrigger SB=nulltrigger tB=nulltrigger TB=nulltrigger uB=nulltrigger UB=nulltrigger wB=nulltrigger WB=nulltrigger yB=nulltrigger YB=nulltrigger zB=nulltrigger ZB=nulltrigger vc=nulltrigger ec=nulltrigger xc=nulltrigger oc=nulltrigger rc=nulltrigger ic=nulltrigger ac=nulltrigger nc=nulltrigger Vc=nulltrigger Ec=nulltrigger Xc=nulltrigger Oc=nulltrigger Rc=nulltrigger Ic=nulltrigger Ac=nulltrigger Nc=nulltrigger bc=nulltrigger Bc=nulltrigger cc=nulltrigger Cc=nulltrigger dc=nulltrigger Dc=nulltrigger fc=nulltrigger Fc=nulltrigger gc=nulltrigger Gc=nulltrigger hc=nulltrigger Hc=nulltrigger jc=nulltrigger Jc=nulltrigger kc=nulltrigger Kc=nulltrigger lc=nulltrigger Lc=nulltrigger mc=nulltrigger Mc=nulltrigger pc=nulltrigger Pc=nulltrigger qc=nulltrigger Qc=nulltrigger sc=nulltrigger Sc=nulltrigger tc=nulltrigger Tc=nulltrigger uc=nulltrigger Uc=nulltrigger wc=nulltrigger Wc=nulltrigger yc=nulltrigger Yc=nulltrigger zc=nulltrigger Zc=nulltrigger vC=nulltrigger eC=nulltrigger xC=nulltrigger oC=nulltrigger rC=nulltrigger iC=nulltrigger aC=nulltrigger nC=nulltrigger VC=nulltrigger EC=nulltrigger XC=nulltrigger OC=nulltrigger RC=nulltrigger IC=nulltrigger AC=nulltrigger NC=nulltrigger bC=nulltrigger BC=nulltrigger cC=nulltrigger CC=nulltrigger dC=nulltrigger DC=nulltrigger fC=nulltrigger FC=nulltrigger gC=nulltrigger GC=nulltrigger hC=nulltrigger HC=nulltrigger jC=nulltrigger JC=nulltrigger kC=nulltrigger KC=nulltrigger lC=nulltrigger LC=nulltrigger mC=nulltrigger MC=nulltrigger pC=nulltrigger PC=nulltrigger qC=nulltrigger QC=nulltrigger sC=nulltrigger SC=nulltrigger tC=nulltrigger TC=nulltrigger uC=nulltrigger UC=nulltrigger wC=nulltrigger WC=nulltrigger yC=nulltrigger YC=nulltrigger zC=nulltrigger ZC=nulltrigger vd=nulltrigger ed=nulltrigger xd=nulltrigger od=nulltrigger rd=nulltrigger id=nulltrigger ad=nulltrigger nd=nulltrigger Vd=nulltrigger Ed=nulltrigger Xd=nulltrigger Od=nulltrigger Rd=nulltrigger Id=nulltrigger Ad=nulltrigger Nd=nulltrigger bd=nulltrigger Bd=nulltrigger cd=nulltrigger Cd=nulltrigger dd=nulltrigger Dd=nulltrigger fd=nulltrigger Fd=nulltrigger gd=nulltrigger Gd=nulltrigger hd=nulltrigger Hd=nulltrigger jd=nulltrigger Jd=nulltrigger kd=nulltrigger Kd=nulltrigger ld=nulltrigger Ld=nulltrigger md=nulltrigger Md=nulltrigger pd=nulltrigger Pd=nulltrigger qd=nulltrigger Qd=nulltrigger sd=nulltrigger Sd=nulltrigger td=nulltrigger Td=nulltrigger ud=nulltrigger Ud=nulltrigger wd=nulltrigger Wd=nulltrigger yd=nulltrigger Yd=nulltrigger zd=nulltrigger Zd=nulltrigger vD=nulltrigger eD=nulltrigger xD=nulltrigger oD=nulltrigger rD=nulltrigger iD=nulltrigger aD=nulltrigger nD=nulltrigger VD=nulltrigger ED=nulltrigger XD=nulltrigger OD=nulltrigger RD=nulltrigger ID=nulltrigger AD=nulltrigger ND=nulltrigger bD=nulltrigger BD=nulltrigger cD=nulltrigger CD=nulltrigger dD=nulltrigger DD=nulltrigger fD=nulltrigger FD=nulltrigger gD=nulltrigger GD=nulltrigger hD=nulltrigger HD=nulltrigger jD=nulltrigger JD=nulltrigger kD=nulltrigger KD=nulltrigger lD=nulltrigger LD=nulltrigger mD=nulltrigger MD=nulltrigger pD=nulltrigger PD=nulltrigger qD=nulltrigger QD=nulltrigger sD=nulltrigger SD=nulltrigger tD=nulltrigger TD=nulltrigger uD=nulltrigger UD=nulltrigger wD=nulltrigger WD=nulltrigger yD=nulltrigger YD=nulltrigger zD=nulltrigger ZD=nulltrigger vf=nulltrigger ef=nulltrigger xf=nulltrigger of=nulltrigger rf=nulltrigger af=nulltrigger nf=nulltrigger Vf=nulltrigger Ef=nulltrigger Xf=nulltrigger Of=nulltrigger Rf=nulltrigger If=nulltrigger Af=nulltrigger Nf=nulltrigger bf=nulltrigger Bf=nulltrigger cf=nulltrigger Cf=nulltrigger df=nulltrigger Df=nulltrigger ff=nulltrigger Ff=nulltrigger gf=nulltrigger Gf=nulltrigger hf=nulltrigger Hf=nulltrigger jf=nulltrigger Jf=nulltrigger kf=nulltrigger Kf=nulltrigger lf=nulltrigger Lf=nullunit mf=nullunit Mf=nullunit pf=nullunit Pf=nullunit qf=nullunit Qf=nullunit sf=nullunit Sf=nullunit tf=nullunit Tf=nullunit uf=nullunit Uf=nullunit wf=nullunit Wf=nullunit yf=nullunit Yf=nullunit zf=nullunit Zf=nullunit vF=nullunit eF=nullunit xF=nullunit oF=nullunit rF=nullunit iF=nullunit aF=nullunit nF=nullunit VF=nullunit EF=nullunit XF=nullunit OF=nulldestructable RF=nulldestructable IF=nulldestructable AF=nulldestructable NF=nulldestructable bF=nulltimer BF=nullreal CF=.0real dF=.0group DF=nullforce fF=nullboolexpr FF=nullendglobalsfunction GF takes real hF returns nothinglocal real HFlocal real st=TimerGetElapsed(BF)if st<=0 thenset BF=CreateTimer()call TimerStart(BF,$F4240,false,null)endifif(hF>0)thenloopset HF=hF-TimerGetElapsed(BF)+stexitwhen HF<=0if(HF>bj_POLLED_WAIT_SKIP_THRESHOLD)thencall TriggerSleepAction(.1*HF)elsecall TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)endifendloopendifendfunctionfunction jF takes location JF,real kF,real KF returns locationreturn Location(GetLocationX(JF)+kF*Cos(KF*bj_DEGTORAD),GetLocationY(JF)+kF*Sin(KF*bj_DEGTORAD))endfunctionfunction lF takes nothing returns booleanlocal real dx=GetDestructableX(GetFilterDestructable())-CFlocal real dy=GetDestructableY(GetFilterDestructable())-dFreturn(dx*dx+dy*dy<=bj_enumDestructableRadius)endfunctionfunction LF takes real mF,location MF,code pF returns nothinglocal rect rif(mF>=0)thenset CF=GetLocationX(MF)set dF=GetLocationY(MF)set bj_enumDestructableRadius=mF*mFset r=Rect(CF-mF,dF-mF,CF+mF,dF+mF)call EnumDestructablesInRect(r,filterEnumDestructablesInCircleBJ,pF)call RemoveRect(r)set r=nullendifendfunctionfunction PF takes rect r,boolexpr qF returns groupset DF=CreateGroup()call GroupEnumUnitsInRect(DF,r,qF)call DestroyBoolExpr(qF)return DFendfunctionfunction QF takes rect r returns groupset DF=CreateGroup()call GroupEnumUnitsInRect(DF,r,FF)return DFendfunctionfunction sF takes rect r,player SF returns groupset DF=CreateGroup()set bj_groupEnumOwningPlayer=SFcall GroupEnumUnitsInRect(DF,r,filterGetUnitsInRectOfPlayer)return DFendfunctionfunction tF takes real mF,location TF,boolexpr qF returns groupset DF=CreateGroup()call GroupEnumUnitsInRangeOfLoc(DF,TF,mF,qF)return DFendfunctionfunction uF takes real mF,location TF returns groupset DF=CreateGroup()call GroupEnumUnitsInRangeOfLoc(DF,TF,mF,FF)return DFendfunctionfunction UF takes integer wF returns groupset DF=CreateGroup()call GroupEnumUnitsOfType(DF,UnitId2String(wF),FF)return DFendfunctionfunction WF takes player SF,boolexpr qF returns groupset DF=CreateGroup()call GroupEnumUnitsOfPlayer(DF,SF,qF)call DestroyBoolExpr(qF)return DFendfunctionfunction yF takes player SF,integer wF returns groupset DF=CreateGroup()set bj_groupEnumTypeId=wFcall GroupEnumUnitsOfPlayer(DF,SF,filterGetUnitsOfPlayerAndTypeId)return DFendfunctionfunction YF takes player SF returns forceset fF=CreateForce()call ForceAddPlayer(fF,SF)return fFendfunctionfunction zF takes integer ZF,group vg returns groupset bj_randomSubGroupGroup=CreateGroup()set bj_randomSubGroupWant=ZFset bj_randomSubGroupTotal=CountUnitsInGroup(vg)if(bj_randomSubGroupWant<=0 or bj_randomSubGroupTotal<=0)thenreturn bj_randomSubGroupGroupendifset bj_randomSubGroupChance=I2R(bj_randomSubGroupWant)/ I2R(bj_randomSubGroupTotal)call ForGroup(vg,function GetRandomSubGroupEnum)return bj_randomSubGroupGroupendfunctionfunction eg takes itemtype xg,integer og returns nothinglocal group gset bj_stockPickedItemType=xgset bj_stockPickedItemLevel=ogset g=CreateGroup()call GroupEnumUnitsOfType(g,"marketplace",FF)call ForGroup(g,function UpdateEachStockBuildingEnum)call DestroyGroup(g)set g=nullendfunctionfunction rg takes nothing returns nothinglocal integer pickedItemIdlocal itemtype iglocal integer ag=0local integer ng=0local integer ogset og=1loopif(bj_stockAllowedPermanent[og])thenset ng=ng+1if(GetRandomInt(1,ng)==1)thenset ig=ITEM_TYPE_PERMANENTset ag=ogendifendifif(bj_stockAllowedCharged[og])thenset ng=ng+1if(GetRandomInt(1,ng)==1)thenset ig=ITEM_TYPE_CHARGEDset ag=ogendifendifif(bj_stockAllowedArtifact[og])thenset ng=ng+1if(GetRandomInt(1,ng)==1)thenset ig=ITEM_TYPE_ARTIFACTset ag=ogendifendifset og=og+1exitwhen og>$Aendloopif(ng==0)thenset ig=nullreturnendifcall eg(ig,ag)set ig=nullendfunctionfunction Vg takes nothing returns nothingcall rg()call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INTERVAL,true,function rg)endfunctionfunction Xg takes nothing returns booleanreturn trueendfunctionfunction Ag takes nothing returns nothinglocal player p=Player($C)local unit ulocal integer unitIDlocal trigger tlocal real lifeset u=CreateUnit(p,'n005',6104.2,-12083.1,174.765)set u=CreateUnit(p,'U000',13109.9,-4424.,180.)call SetHeroLevel(u,25,false)call SetUnitState(u,UNIT_STATE_MANA,$FA)set u=CreateUnit(p,'n01D',-1259.6,10530.,317.877)set u=CreateUnit(p,'n00F',6832.9,-11081.2,333.302)set u=CreateUnit(p,'n01F',-416.3,10908.,94.397)set u=CreateUnit(p,'n00F',6884.8,-11211.4,169.557)set u=CreateUnit(p,'n00H',5328.4,-10695.4,181.708)set u=CreateUnit(p,'n005',4590.4,-13562.7,225.82)set u=CreateUnit(p,'n005',4715.8,-13550.2,165.756)set u=CreateUnit(p,'n00D',7111.5,-12556.5,343.333)set u=CreateUnit(p,'n005',6179.1,-13619.6,147.013)set u=CreateUnit(p,'n005',6092.1,-13521.7,300.562)set u=CreateUnit(p,'n005',6930.5,-13519.3,12.437)set u=CreateUnit(p,'n005',5311.3,-13078.8,48.396)set u=CreateUnit(p,'n005',8383.1,-13716.,4.724)set u=CreateUnit(p,'n005',7796.9,-11970.7,313.801)set u=CreateUnit(p,'n00D',4765.3,-10911.8,332.555)set u=CreateUnit(p,'n005',4878.1,-10865.7,244.508)set u=CreateUnit(p,'n005',7692.9,-13278.9,162.053)set u=CreateUnit(p,'n005',9238.,-12485.,80.477)set u=CreateUnit(p,'n007',13112.6,-11032.2,180.)set u=CreateUnit(p,'n006',13289.5,-6187.8,180.)set u=CreateUnit(p,'n00K',12157.3,-10830.,317.701)set u=CreateUnit(p,'n00J',11828.5,-6796.8,277.974)set u=CreateUnit(p,'n00J',12164.7,-6818.7,91.057)set u=CreateUnit(p,'n00K',12143.9,-10994.9,70.908)set u=CreateUnit(p,'n00J',11995.6,-6647.3,267.514)set u=CreateUnit(p,'n00J',12958.8,-5997.7,65.239)set u=CreateUnit(p,'n00K',12244.9,-10922.3,73.325)set u=CreateUnit(p,'n00K',12356.5,-12675.,343.114)set u=CreateUnit(p,'n00K',12521.4,-12539.5,90.772)set u=CreateUnit(p,'n00K',12701.9,-13331.6,135.081)set u=CreateUnit(p,'n00K',11316.,-12383.4,358.121)set u=CreateUnit(p,'n00K',11301.6,-12201.3,227.534)set u=CreateUnit(p,'n00K',11927.2,-12078.9,148.386)set u=CreateUnit(p,'n00K',11862.5,-13180.3,129.807)set u=CreateUnit(p,'n00K',11175.4,-11416.7,268.657)set u=CreateUnit(p,'n00D',9750.9,-10838.5,70.93)set u=CreateUnit(p,'n00D',9699.7,-10942.7,317.921)set u=CreateUnit(p,'n00K',10699.1,-10996.1,185.993)set u=CreateUnit(p,'n00K',10835.2,-10965.4,241.542)set u=CreateUnit(p,'n00K',10691.7,-10621.2,262.581)set u=CreateUnit(p,'n00K',10889.7,-11735.7,195.87)set u=CreateUnit(p,'n00K',10764.9,-11594.8,288.686)set u=CreateUnit(p,'n00K',11430.7,-10949.4,305.33)set u=CreateUnit(p,'n00J',12933.9,-6239.8,53.769)set u=CreateUnit(p,'n00J',12377.5,-6313.9,270.14)set u=CreateUnit(p,'n008',10869.2,-5598.2,232.533)set u=CreateUnit(p,'n00G',10936.5,-9421.,106.505)set u=CreateUnit(p,'n00G',10876.3,-9066.5,262.153)set u=CreateUnit(p,'n008',11002.1,-5713.6,152.418)set u=CreateUnit(p,'n008',11059.3,-5852.7,35.069)set u=CreateUnit(p,'n005',5419.8,-13052.5,210.461)set u=CreateUnit(p,'n005',4621.9,-13468.,94.958)set u=CreateUnit(p,'n00D',6993.4,-13473.8,162.603)set u=CreateUnit(p,'n00D',6876.8,-13480.4,74.753)set u=CreateUnit(p,'n005',6126.1,-11996.1,34.19)set u=CreateUnit(p,'n00F',9151.6,-12431.7,351.255)set u=CreateUnit(p,'n00F',9253.2,-12341.,3.384)set u=CreateUnit(p,'n00H',6798.,-11174.5,324.601)set u=CreateUnit(p,'n01F',1318.6,10931.4,199.034)set u=CreateUnit(p,'n008',11043.9,-4866.1,324.194)set u=CreateUnit(p,'n00G',11136.8,-8788.1,282.709)set u=CreateUnit(p,'n00G',10974.9,-8582.7,46.188)set u=CreateUnit(p,'n01F',-943.,12130.9,135.861)set u=CreateUnit(p,'n00G',11428.5,-7927.9,279.951)set u=CreateUnit(p,'n00G',11519.8,-7977.9,64.349)set u=CreateUnit(p,'n00G',11556.5,-7765.4,273.282)set u=CreateUnit(p,'n008',11216.1,-4964.5,106.516)set u=CreateUnit(p,'n008',11552.2,-4177.5,316.119)set u=CreateUnit(p,'n00E',11676.5,-9544.9,76.28)set u=CreateUnit(p,'n00E',11776.,-9622.5,297.585)set u=CreateUnit(p,'n00E',11898.6,-9631.6,343.828)set u=CreateUnit(p,'n00E',11974.2,-9491.,132.268)set u=CreateUnit(p,'n008',11662.9,-4725.4,153.055)set u=CreateUnit(p,'n008',11621.6,-4416.3,63.36)set u=CreateUnit(p,'n008',12546.4,-4433.1,159.504)set u=CreateUnit(p,'n008',12646.2,-4616.,64.327)set u=CreateUnit(p,'n000',13082.8,-8624.2,270.)set u=CreateUnit(p,'n01F',-730.6,12069.1,243.97)set u=CreateUnit(p,'n00E',12214.4,-9558.9,341.916)set u=CreateUnit(p,'n00E',12409.,-9659.8,175.116)set u=CreateUnit(p,'n00E',12359.7,-9451.5,165.437)set u=CreateUnit(p,'n00E',12720.5,-9650.1,293.893)set u=CreateUnit(p,'n00E',12577.,-9407.6,200.54)set u=CreateUnit(p,'n00E',12713.9,-9218.5,161.141)set u=CreateUnit(p,'n00E',13041.7,-9424.1,230.313)set u=CreateUnit(p,'U001',-1187.8,-9441.9,90.)call SetHeroLevel(u,45,false)call SetUnitState(u,UNIT_STATE_MANA,375)set u=CreateUnit(p,'n00T',28.2,-9458.5,90.)set u=CreateUnit(p,'n00M',7043.6,-7721.9,357.616)set u=CreateUnit(p,'n00M',6516.7,-6932.,28.576)set u=CreateUnit(p,'n00M',6436.1,-8900.3,72.534)set u=CreateUnit(p,'n00M',2386.2,-5714.,131.137)set u=CreateUnit(p,'n00M',2624.1,-4837.8,142.244)set u=CreateUnit(p,'n00M',4271.1,-4002.4,126.731)set u=CreateUnit(p,'n00M',4046.5,-5741.8,196.771)set u=CreateUnit(p,'n00M',2833.2,-6597.2,211.57)set u=CreateUnit(p,'n00M',3366.5,-6977.1,30.631)set u=CreateUnit(p,'n00R',-185.,-9187.3,340.026)set u=CreateUnit(p,'n00N',3075.1,-6848.4,359.572)set u=CreateUnit(p,'n00N',3631.8,-6489.3,342.696)set u=CreateUnit(p,'n00P',4937.9,-9549.5,33.147)set u=CreateUnit(p,'n00N',2650.9,-6054.4,253.77)set u=CreateUnit(p,'n00N',5274.3,-4865.6,171.59)set u=CreateUnit(p,'n00N',4105.,-4148.2,329.325)set u=CreateUnit(p,'n00P',4722.1,-5589.2,304.309)set u=CreateUnit(p,'n00P',4565.8,-5856.1,173.655)set u=CreateUnit(p,'n01F',-888.6,11899.5,321.404)set u=CreateUnit(p,'n00M',4043.6,-6215.3,44.716)set u=CreateUnit(p,'n00N',6463.1,-5723.1,70.644)set u=CreateUnit(p,'n00M',7213.6,-5474.1,205.725)set u=CreateUnit(p,'n00M',6682.4,-5031.7,297.123)set u=CreateUnit(p,'n00M',6229.5,-7316.6,99.88)set u=CreateUnit(p,'n00P',5163.7,-9492.6,222.81)set u=CreateUnit(p,'n00L',6495.,-6046.1,86.564)set u=CreateUnit(p,'n00P',3862.3,-5445.3,354.122)set u=CreateUnit(p,'n00L',4643.9,-4566.1,146.595)set u=CreateUnit(p,'n00L',6684.5,-8120.3,309.615)set u=CreateUnit(p,'n00L',6554.8,-7631.5,235.95)set u=CreateUnit(p,'n00L',6895.,-5527.4,81.971)set u=CreateUnit(p,'n00L',3056.8,-5270.5,173.172)set u=CreateUnit(p,'n00L',3328.7,-3821.,28.499)set u=CreateUnit(p,'n00L',3076.5,-5146.,38.168)set u=CreateUnit(p,'n00O',5805.2,-5067.,28.477)set u=CreateUnit(p,'n00L',5402.,-8292.3,252.474)set u=CreateUnit(p,'n00P',6991.5,-6322.2,110.394)set u=CreateUnit(p,'n00P',4768.6,-4076.1,13.898)set u=CreateUnit(p,'n00P',4556.,-6852.9,134.96)set u=CreateUnit(p,'n00P',5155.9,-7720.6,145.365)set u=CreateUnit(p,'n00M',5794.2,-8822.5,209.604)set u=CreateUnit(p,'n00M',5756.5,-8088.,133.818)set u=CreateUnit(p,'n00Q',4155.5,-2117.8,277.106)set u=CreateUnit(p,'n00Q',4027.9,-2451.9,343.839)set u=CreateUnit(p,'n00Q',4115.5,-2679.6,51.231)set u=CreateUnit(p,'n00Q',5557.8,-2257.6,253.012)set u=CreateUnit(p,'n00Q',4999.1,-1872.6,288.971)set u=CreateUnit(p,'n00M',5201.1,-6439.7,198.617)set u=CreateUnit(p,'n00Q',4259.9,-1114.9,180.368)set u=CreateUnit(p,'n00Q',3856.9,-850.1,234.291)set u=CreateUnit(p,'n00Q',5401.8,-1159.6,234.994)set u=CreateUnit(p,'n00Q',5078.1,-429.5,12.788)set u=CreateUnit(p,'n00Q',6269.9,-2692.3,112.767)set u=CreateUnit(p,'n00Q',6259.8,-3040.9,199.353)set u=CreateUnit(p,'n00Q',7261.4,-2906.2,211.339)set u=CreateUnit(p,'n00Q',7230.1,-3241.8,310.121)set u=CreateUnit(p,'n00L',5784.6,-7136.7,334.06)set u=CreateUnit(p,'n00Q',8115.,-2917.2,169.865)set u=CreateUnit(p,'n00Q',8069.7,-3889.8,72.193)set u=CreateUnit(p,'n00R',245.6,-9282.4,359.407)set u=CreateUnit(p,'n00Q',8469.5,-3484.7,64.14)set u=CreateUnit(p,'n00Q',5208.,-1357.7,56.384)set u=CreateUnit(p,'n01D',2336.4,10114.,136.872)set u=CreateUnit(p,'n00S',2247.9,-8710.1,20.413)set u=CreateUnit(p,'n00R',2987.4,-8457.5,242.08)set u=CreateUnit(p,'n00R',2976.7,-8827.1,257.923)set u=CreateUnit(p,'n00R',2804.9,-8623.3,52.725)set u=CreateUnit(p,'n00S',2356.9,-8542.5,228.38)set u=CreateUnit(p,'n00O',4558.3,-7835.6,15.799)set u=CreateUnit(p,'n00S',2810.2,-9677.7,334.632)set u=CreateUnit(p,'n01D',2201.4,10197.5,21.204)set u=CreateUnit(p,'n01D',-198.1,11054.,251.452)set u=CreateUnit(p,'n00S',2265.1,-8439.6,136.213)set u=CreateUnit(p,'n00S',2140.1,-9426.8,174.732)set u=CreateUnit(p,'n00R',2153.3,-9600.4,149.21)set u=CreateUnit(p,'n00R',1078.,-9750.,238.751)set u=CreateUnit(p,'n00R',1050.3,-9639.3,12.118)set u=CreateUnit(p,'n00O',4242.8,-6815.3,31.631)set u=CreateUnit(p,'n00Q',4017.3,-307.4,344.871)set u=CreateUnit(p,'n00Q',4572.9,6.,12.624)set u=CreateUnit(p,'n00Q',5670.4,-2330.6,101.737)set u=CreateUnit(p,'n00S',1531.2,-7888.3,44.683)set u=CreateUnit(p,'n00R',1649.,-8060.9,75.149)set u=CreateUnit(p,'n00R',475.2,-7805.6,297.684)set u=CreateUnit(p,'n00R',1199.1,-8435.2,59.756)set u=CreateUnit(p,'n00R',1169.5,-8605.4,59.954)set u=CreateUnit(p,'n00R',-1280.5,-7981.1,59.592)set u=CreateUnit(p,'n00R',-1137.4,-8054.7,75.654)set u=CreateUnit(p,'n00R',-1178.,-7829.7,317.591)set u=CreateUnit(p,'n00Q',6924.5,-2557.3,195.486)set u=CreateUnit(p,'n00Q',-501.,1694.6,27.423)set u=CreateUnit(p,'n00Q',5941.9,-2978.5,.802)set u=CreateUnit(p,'n01D',-213.2,10781.3,24.105)set u=CreateUnit(p,'n00Q',3712.,95.6,230.643)set u=CreateUnit(p,'n01D',-1144.8,10382.4,166.975)set u=CreateUnit(p,'n00P',4330.5,-9305.1,341.103)set u=CreateUnit(p,'n00Q',-803.9,3308.1,33.762)set u=CreateUnit(p,'n00Q',-1490.3,3941.9,320.228)set u=CreateUnit(p,'n00Q',-1297.2,3968.7,296.607)set u=CreateUnit(p,'n00Q',-1282.6,2276.8,27.774)set u=CreateUnit(p,'n00Q',2419.8,2925.6,159.032)set u=CreateUnit(p,'n00Q',2642.4,2839.3,77.632)set u=CreateUnit(p,'n00Q',2563.5,2496.5,352.474)set u=CreateUnit(p,'n00F',5899.,-11244.1,14.986)set u=CreateUnit(p,'n01F',2442.2,11532.5,327.293)set u=CreateUnit(p,'n00N',4965.2,-7831.2,37.047)set u=CreateUnit(p,'n00E',12901.4,-8885.7,130.39)set u=CreateUnit(p,'n011',9112.,3118.6,223.491)set u=CreateUnit(p,'n00R',441.4,-8081.9,60.778)set u=CreateUnit(p,'n01N',-5047.8,-4542.5,54.329)set u=CreateUnit(p,'U002',-720.1,6301.4,230.)call SetHeroLevel(u,60,false)set u=CreateUnit(p,'n00Z',10205.3,7310.3,167.667)set u=CreateUnit(p,'n00Z',9538.1,7440.7,23.215)set u=CreateUnit(p,'n00Z',8409.7,5437.6,200.825)set u=CreateUnit(p,'n00Z',7925.6,6771.3,157.714)set u=CreateUnit(p,'n00Z',5222.,7361.2,304.781)set u=CreateUnit(p,'n00Z',5607.8,6561.3,134.477)set u=CreateUnit(p,'n00Z',3920.8,6418.4,228.654)set u=CreateUnit(p,'n00Z',4025.3,6561.6,45.814)set u=CreateUnit(p,'n00Z',5054.8,5113.5,245.058)set u=CreateUnit(p,'n011',9432.,3130.,172.842)set u=CreateUnit(p,'n01T',-969.4,12988.3,360.)set u=CreateUnit(p,'n01M',-4479.4,-2415.,128.236)set u=CreateUnit(p,'n01N',-5165.1,-4306.9,75.5)set u=CreateUnit(p,'n01E',2728.9,10411.2,190.926)set u=CreateUnit(p,'n01E',1911.9,9879.4,127.775)set u=CreateUnit(p,'n00X',10609.,2759.9,309.264)set u=CreateUnit(p,'n00X',10341.7,3384.3,198.474)set u=CreateUnit(p,'n00V',9242.3,2433.5,110.295)set u=CreateUnit(p,'n011',10293.4,3000.,126.841)set u=CreateUnit(p,'n011',9070.7,2385.7,108.801)set u=CreateUnit(p,'n00W',2928.4,5052.6,80.697)set u=CreateUnit(p,'n00U',2839.9,5654.8,47.803)set u=CreateUnit(p,'n00W',2948.6,5282.1,335.807)set u=CreateUnit(p,'n00Y',2126.,6655.3,331.248)set u=CreateUnit(p,'n00W',2317.3,6729.9,311.296)set u=CreateUnit(p,'n00Y',2231.8,6863.4,7.877)set u=CreateUnit(p,'n01E',844.6,11415.1,170.612)set u=CreateUnit(p,'n018',8444.4,10518.7,59.141)set u=CreateUnit(p,'n01N',-1589.6,-2074.5,13.799)set u=CreateUnit(p,'n00Y',1914.2,7888.5,292.674)set u=CreateUnit(p,'n00Y',1615.1,7688.8,273.249)set u=CreateUnit(p,'n00U',1631.2,8031.4,252.276)set u=CreateUnit(p,'n00U',-1021.,8205.8,247.057)set u=CreateUnit(p,'n00U',-820.8,8011.1,33.421)set u=CreateUnit(p,'n00W',2287.9,6554.3,125.918)set u=CreateUnit(p,'n00U',-1178.6,7844.5,293.333)set u=CreateUnit(p,'n00Y',-1030.7,7944.2,342.037)set u=CreateUnit(p,'n00U',-1979.9,6897.6,71.259)set u=CreateUnit(p,'n00U',-1881.3,6784.4,314.966)set u=CreateUnit(p,'n00W',-2023.1,6720.7,178.731)set u=CreateUnit(p,'n01E',845.4,10448.,28.752)set u=CreateUnit(p,'n018',8637.6,10435.4,316.592)set u=CreateUnit(p,'n012',11760.5,3385.,180.)set u=CreateUnit(p,'n011',10349.6,2251.8,239.619)set u=CreateUnit(p,'n00X',9007.7,2884.,53.132)set u=CreateUnit(p,'n00V',11860.8,2189.6,32.96)set u=CreateUnit(p,'n00X',12447.6,2219.3,221.755)set u=CreateUnit(p,'n00X',12681.4,2713.5,160.054)set u=CreateUnit(p,'n00V',11828.8,2309.8,186.345)set u=CreateUnit(p,'n00V',12631.8,2857.7,24.786)set u=CreateUnit(p,'n011',12550.5,2281.7,196.705)set u=CreateUnit(p,'n011',12778.5,2791.7,187.993)set u=CreateUnit(p,'n010',4490.6,4922.8,136.652)set u=CreateUnit(p,'n010',4069.8,5255.4,307.341)set u=CreateUnit(p,'n010',4243.,5782.,116.019)set u=CreateUnit(p,'n01E',1072.6,12063.3,292.619)set u=CreateUnit(p,'n014',4092.9,6390.6,35.135)set u=CreateUnit(p,'n013',5067.3,5583.5,286.598)set u=CreateUnit(p,'n015',4979.8,6653.1,343.674)set u=CreateUnit(p,'n00Z',6350.3,7039.6,199.375)set u=CreateUnit(p,'n013',6266.4,7151.1,349.508)set u=CreateUnit(p,'n010',5123.6,7410.2,63.525)set u=CreateUnit(p,'n010',5143.3,7298.1,233.554)set u=CreateUnit(p,'n01E',318.,10852.6,30.257)set u=CreateUnit(p,'n014',5298.3,4454.8,1.417)set u=CreateUnit(p,'n015',5927.3,4986.,139.113)set u=CreateUnit(p,'n00Z',6090.1,4437.5,34.619)set u=CreateUnit(p,'n013',7247.5,4441.3,359.714)set u=CreateUnit(p,'n013',6619.3,4945.4,315.185)set u=CreateUnit(p,'n010',8452.3,4479.,188.509)set u=CreateUnit(p,'n010',8579.7,4499.,107.977)set u=CreateUnit(p,'n010',8985.,4488.5,36.882)set u=CreateUnit(p,'n010',8858.5,4733.7,206.022)set u=CreateUnit(p,'n013',8714.8,4472.6,7.647)set u=CreateUnit(p,'n015',8394.1,5973.5,33.542)set u=CreateUnit(p,'n014',8419.5,6534.5,357.352)set u=CreateUnit(p,'n01N',-5064.9,-4038.3,206.363)set u=CreateUnit(p,'n010',6912.,6928.,227.907)set u=CreateUnit(p,'n010',7480.1,7440.,26.95)set u=CreateUnit(p,'n015',8219.2,7391.6,3.922)set u=CreateUnit(p,'n00Z',9025.9,5536.,232.73)set u=CreateUnit(p,'n013',9340.5,5926.3,72.149)set u=CreateUnit(p,'n013',10033.3,6724.4,135.257)set u=CreateUnit(p,'n013',9998.,6302.1,319.02)set u=CreateUnit(p,'n014',9014.9,6879.2,332.522)set u=CreateUnit(p,'n010',9876.8,7109.3,17.238)set u=CreateUnit(p,'n010',10289.9,6489.4,255.198)set u=CreateUnit(p,'n00U',184.,8594.2,251.869)set u=CreateUnit(p,'n00U',220.2,8295.2,161.053)set u=CreateUnit(p,'n00W',372.2,8433.1,254.847)set u=CreateUnit(p,'n00V',10220.4,3426.3,38.585)set u=CreateUnit(p,'U003',12751.5,3488.7,270.)call SetHeroLevel(u,52,false)set u=CreateUnit(p,'n00V',10301.5,2331.4,344.674)set u=CreateUnit(p,'n00Y',7.2,8441.4,25.083)set u=CreateUnit(p,'n016',-7773.9,9926.,203.023)set u=CreateUnit(p,'n016',-6542.7,10389.8,246.64)set u=CreateUnit(p,'n016',-6235.8,11213.2,164.328)set u=CreateUnit(p,'n016',-5726.3,12166.9,163.976)set u=CreateUnit(p,'n017',-5064.5,10773.2,265.636)set u=CreateUnit(p,'U004',10565.1,4955.3,230.)call SetHeroLevel(u,65,false)set u=CreateUnit(p,'n017',-5391.4,8648.8,149.803)set u=CreateUnit(p,'n017',-5578.5,8407.1,86.388)set u=CreateUnit(p,'n017',-6306.,8970.3,254.528)set u=CreateUnit(p,'n01N',-4094.8,-3852.2,8.844)set u=CreateUnit(p,'n01D',2377.6,11354.4,57.175)set u=CreateUnit(p,'n017',-5152.4,10964.4,89.333)set u=CreateUnit(p,'n017',-7101.4,9873.6,20.007)set u=CreateUnit(p,'n017',-5934.3,9880.,249.397)set u=CreateUnit(p,'n016',-7085.7,11567.3,21.633)set u=CreateUnit(p,'n017',-6827.7,11776.5,84.817)set u=CreateUnit(p,'n01B',-9216.6,7445.9,323.898)set u=CreateUnit(p,'n01B',-8662.3,6745.9,20.281)set u=CreateUnit(p,'n01B',-8132.4,7691.,347.299)set u=CreateUnit(p,'n01D',2526.7,11368.3,161.284)set u=CreateUnit(p,'n01B',-7775.4,7020.8,204.319)set u=CreateUnit(p,'n01B',-10335.2,6887.8,102.088)set u=CreateUnit(p,'n019',-3578.1,9489.7,225.666)set u=CreateUnit(p,'n019',-3864.9,10671.1,316.372)set u=CreateUnit(p,'n019',-3121.8,10810.2,167.909)set u=CreateUnit(p,'n019',-3297.4,11594.8,.077)set u=CreateUnit(p,'n019',-2677.6,12324.7,306.242)set u=CreateUnit(p,'n019',-3710.1,11705.8,89.937)set u=CreateUnit(p,'n019',-3296.3,9943.8,119.326)set u=CreateUnit(p,'n019',-4218.6,9626.9,319.998)set u=CreateUnit(p,'n019',-3926.2,8951.4,209.241)set u=CreateUnit(p,'n018',7303.7,9161.2,270.854)set u=CreateUnit(p,'n01A',5075.1,9147.6,130.752)set u=CreateUnit(p,'n01A',5643.9,9167.6,309.362)set u=CreateUnit(p,'n01A',10316.9,12582.9,242.289)set u=CreateUnit(p,'n01A',6950.,8801.5,271.327)set u=CreateUnit(p,'n01A',8101.5,8747.3,28.346)set u=CreateUnit(p,'n01A',9733.7,10377.,37.355)set u=CreateUnit(p,'n018',10273.9,10110.1,95.628)set u=CreateUnit(p,'n018',9428.2,10115.3,303.034)set u=CreateUnit(p,'n01A',6736.9,10937.5,15.458)set u=CreateUnit(p,'n01A',7528.3,11949.,2.395)set u=CreateUnit(p,'n01A',6980.5,12612.6,43.397)set u=CreateUnit(p,'n01N',-2527.4,-1768.8,350.562)set u=CreateUnit(p,'n01A',6708.4,10776.2,198.815)set u=CreateUnit(p,'n01A',10269.2,12693.6,98.792)set u=CreateUnit(p,'n01N',-3849.4,-4116.9,183.313)set u=CreateUnit(p,'n01A',6084.9,11666.1,60.24)set u=CreateUnit(p,'n018',4587.2,11492.,79.499)set u=CreateUnit(p,'n01H',-10562.2,644.8,62.855)set u=CreateUnit(p,'n01C',7637.1,8768.9,184.818)set u=CreateUnit(p,'n01C',5388.8,9518.,147.924)set u=CreateUnit(p,'n01C',5375.,8848.7,355.803)set u=CreateUnit(p,'n018',7620.9,12096.5,118.052)set u=CreateUnit(p,'n018',4783.5,11512.6,298.903)set u=CreateUnit(p,'n01A',4549.4,12725.,194.936)set u=CreateUnit(p,'n01N',-2875.8,-1660.3,104.956)set u=CreateUnit(p,'n01A',4787.1,12770.4,359.275)set u=CreateUnit(p,'n01C',4521.8,12083.5,333.665)set u=CreateUnit(p,'n01C',4735.9,12125.7,354.276)set u=CreateUnit(p,'n01C',4674.,11361.3,223.853)set u=CreateUnit(p,'n01C',5483.7,9501.9,295.618)set u=CreateUnit(p,'n01C',5283.6,8858.7,211.383)set u=CreateUnit(p,'n01A',5073.8,9264.7,225.15)set u=CreateUnit(p,'n01A',5644.8,9088.2,116.14)set u=CreateUnit(p,'n01A',4687.2,12741.6,124.083)set u=CreateUnit(p,'n01A',8594.4,11745.9,136.597)set u=CreateUnit(p,'n01A',8579.,12070.2,175.391)set u=CreateUnit(p,'n01A',7722.,12083.9,36.19)set u=CreateUnit(p,'n01A',6225.2,11682.1,195.167)set u=CreateUnit(p,'n018',6343.5,12509.7,99.078)set u=CreateUnit(p,'n018',6221.7,12637.9,99.572)set u=CreateUnit(p,'n01A',7103.7,12468.7,90.31)set u=CreateUnit(p,'n018',7240.2,9036.4,332.61)set u=CreateUnit(p,'n01A',8136.5,8844.,169.799)set u=CreateUnit(p,'n01S',-10446.7,545.,60.)set u=CreateUnit(p,'n01A',7023.3,8693.5,196.222)set u=CreateUnit(p,'n01A',6986.3,8902.2,313.021)set u=CreateUnit(p,'n01C',7645.6,8869.1,117.063)set u=CreateUnit(p,'n01A',10349.2,12867.4,332.171)set u=CreateUnit(p,'U006',1049.8,-3115.9,180.)call SetHeroLevel(u,90,false)set u=CreateUnit(p,'n01A',9692.2,11468.8,290.059)set u=CreateUnit(p,'n01A',9860.2,11486.7,139.992)set u=CreateUnit(p,'n01A',9894.1,10379.6,328.93)set u=CreateUnit(p,'n01Y',-1973.2,-352.5,360.)set u=CreateUnit(p,'n01A',8493.6,10206.5,208.9)set u=CreateUnit(p,'n01A',8605.8,10744.6,102.857)set u=CreateUnit(p,'n016',-6877.,11485.4,266.8)set u=CreateUnit(p,'n016',-5745.9,12033.3,358.198)set u=CreateUnit(p,'n016',-6471.6,10298.2,160.548)set u=CreateUnit(p,'n016',-6038.,9840.4,301.068)set u=CreateUnit(p,'n017',-6992.9,9743.3,239.114)set u=CreateUnit(p,'n017',-7696.1,9834.1,114.91)set u=CreateUnit(p,'n016',-6193.4,8845.7,28.412)set u=CreateUnit(p,'n016',-5406.5,8442.1,126.654)set u=CreateUnit(p,'n016',-5028.7,10938.7,281.314)set u=CreateUnit(p,'n016',-4873.1,11572.3,35.498)set u=CreateUnit(p,'n01B',-8800.4,6780.7,5.779)set u=CreateUnit(p,'n01B',-10260.4,7044.,208.164)set u=CreateUnit(p,'n01B',-8177.1,7593.8,152.099)set u=CreateUnit(p,'n01B',-9062.3,7498.7,203.759)set u=CreateUnit(p,'n01B',-8326.,6123.4,348.014)set u=CreateUnit(p,'n01B',-6881.6,7486.5,231.368)set u=CreateUnit(p,'n01B',-8497.4,8247.8,357.473)set u=CreateUnit(p,'n019',-4065.1,8980.1,31.675)set u=CreateUnit(p,'n019',-4243.7,8371.9,26.862)set u=CreateUnit(p,'n019',-4216.8,8215.2,256.363)set u=CreateUnit(p,'U007',-11625.6,-4678.1,270.)call SetHeroLevel(u,$FA,false)set u=CreateUnit(p,'n019',-3224.3,10100.3,83.4)set u=CreateUnit(p,'n019',-3063.9,10959.8,245.607)set u=CreateUnit(p,'n019',-2767.1,12184.8,88.618)set u=CreateUnit(p,'n019',-3769.9,11556.4,187.454)set u=CreateUnit(p,'n019',-3377.7,10044.1,25.137)set u=CreateUnit(p,'n00Y',-1336.1,5862.1,290.597)set u=CreateUnit(p,'n00Y',-1094.8,5614.3,79.192)set u=CreateUnit(p,'n00U',-1475.2,5807.7,313.417)set u=CreateUnit(p,'n01Z',-11549.9,-6197.3,270.)set u=CreateUnit(p,'n00U',-1237.4,5541.6,47.232)set u=CreateUnit(p,'n00W',-1311.8,5675.6,161.965)set u=CreateUnit(p,'n020',-3191.9,-3253.7,240.)set u=CreateUnit(p,'n00E',13272.3,-8897.7,240.399)set u=CreateUnit(p,'n00E',13092.6,-9027.2,62.657)set u=CreateUnit(p,'U009',-2241.7,-6084.2,260.)call SetHeroLevel(u,$B4,false)set u=CreateUnit(p,'n024',-5681.,-7496.9,90.)set u=CreateUnit(p,'n00Q',-1297.5,4292.2,221.469)set u=CreateUnit(p,'n02A',13052.8,-1312.4,90.)set u=CreateUnit(p,'U00A',12695.9,571.4,180.)call SetHeroLevel(u,$8C,false)set u=CreateUnit(p,'U00B',-12619.2,6548.9,270.)call SetHeroLevel(u,$DC,false)set u=CreateUnit(p,'n01B',-10036.1,8084.7,202.539)set u=CreateUnit(p,'n01B',-10051.9,8243.8,339.125)set u=CreateUnit(p,'n01B',-10648.3,8832.4,239.916)set u=CreateUnit(p,'n01B',-10616.8,8626.7,329.655)set u=CreateUnit(p,'n01B',-6748.,7421.9,284.675)endfunctionfunction Ng takes nothing returns nothinglocal player p=Player($F)local unit ulocal integer unitIDlocal trigger tlocal real lifeset u=CreateUnit(p,'n009',2496.,-960.,270.)set u=CreateUnit(p,'n001',1664.,-12736.,270.)set u=CreateUnit(p,'n002',1920.,-13184.,270.)set u=CreateUnit(p,'h026',2688.,12480.,270.)set u=CreateUnit(p,'nmg1',7008.,-10912.,270.)set u=CreateUnit(p,'n009',-2240.,1216.,270.)set u=CreateUnit(p,'n001',1216.,-1216.,270.)set u=CreateUnit(p,'n002',2304.,-1792.,270.)set u=CreateUnit(p,'h01X',3456.,2688.,270.)set u=CreateUnit(p,'ncop',11584.,12928.,270.)set u=CreateUnit(p,'ncop',13376.,12928.,270.)set u=CreateUnit(p,'ncop',13120.,12928.,270.)set u=CreateUnit(p,'ncop',12864.,12928.,270.)set u=CreateUnit(p,'ncop',12608.,12928.,270.)set u=CreateUnit(p,'ncop',12352.,12928.,270.)set u=CreateUnit(p,'ncop',12096.,12928.,270.)set u=CreateUnit(p,'ncop',11840.,12928.,270.)set u=CreateUnit(p,'ncp2',224.,-12192.,270.)set u=CreateUnit(p,'ncp2',11552.,12576.,270.)set u=CreateUnit(p,'n00A',-5440.,320.,270.)set u=CreateUnit(p,'n002',-3392.,1408.,270.)set u=CreateUnit(p,'n001',-3520.,576.,270.)set u=CreateUnit(p,'n00B',-5760.,1216.,270.)set u=CreateUnit(p,'ncbc',-7968.,4096.,270.)set u=CreateUnit(p,'nmg0',6944.,-11616.,270.)set u=CreateUnit(p,'n00C',1088.,-11584.,270.)set u=CreateUnit(p,'nmg0',5152.,-10656.,270.)set u=CreateUnit(p,'h01U',-9984.,9728.,270.)set u=CreateUnit(p,'nten',7136.,-3488.,270.)set u=CreateUnit(p,'nten',7008.,-3296.,270.)set u=CreateUnit(p,'ntn2',7648.,-3488.,270.)set u=CreateUnit(p,'ntn2',7712.,-3296.,270.)set u=CreateUnit(p,'h01U',-10752.,9728.,270.)set u=CreateUnit(p,'h01U',-10624.,9728.,270.)set u=CreateUnit(p,'h01U',-10496.,9728.,270.)set u=CreateUnit(p,'n02Q',-10048.,-8256.,270.)set u=CreateUnit(p,'nnzg',4256.,-9440.,270.)set u=CreateUnit(p,'h01U',-10368.,9728.,270.)set u=CreateUnit(p,'nmg1',9568.,-10144.,270.)set u=CreateUnit(p,'nmg1',9568.,-10336.,270.)set u=CreateUnit(p,'nmg1',8800.,-9760.,270.)set u=CreateUnit(p,'nmg1',9056.,-9824.,270.)set u=CreateUnit(p,'h01U',-9728.,9728.,270.)set u=CreateUnit(p,'h01U',-9856.,9728.,270.)set u=CreateUnit(p,'ntn2',-10080.,10848.,270.)set u=CreateUnit(p,'ntn2',-10208.,10336.,270.)set u=CreateUnit(p,'ntn2',-10080.,10592.,270.)set u=CreateUnit(p,'nten',-9440.,10656.,270.)set u=CreateUnit(p,'nten',-9376.,10144.,270.)set u=CreateUnit(p,'nten',-9504.,10400.,270.)set u=CreateUnit(p,'h01U',-9600.,9728.,270.)set u=CreateUnit(p,'h01W',-8256.,9856.,270.)set u=CreateUnit(p,'h01W',-8384.,9920.,270.)set u=CreateUnit(p,'h01W',-8320.,10048.,270.)set u=CreateUnit(p,'h01W',-8320.,10176.,270.)set u=CreateUnit(p,'h01W',-8448.,10112.,270.)set u=CreateUnit(p,'h01W',-8512.,9984.,270.)set u=CreateUnit(p,'n01L',-7808.,4800.,270.)set u=CreateUnit(p,'h026',1984.,12480.,270.)set u=CreateUnit(p,'h026',2048.,12352.,270.)set u=CreateUnit(p,'h026',2816.,12608.,270.)set u=CreateUnit(p,'h026',1920.,12224.,270.)set u=CreateUnit(p,'n02P',-5632.,3712.,270.)set u=CreateUnit(p,'ntn2',-1568.,4256.,270.)set u=CreateUnit(p,'n00A',960.,-13376.,270.)endfunctionfunction bg takes nothing returns nothinglocal player p=Player($F)local unit ulocal integer unitIDlocal trigger tlocal real lifeset u=CreateUnit(p,'h02X',2208.1,-6782.3,270.)set u=CreateUnit(p,'H003',11572.1,13128.2,270.)set u=CreateUnit(p,'H005',11839.4,13130.4,270.)set u=CreateUnit(p,'H00B',12100.5,13132.5,270.)set u=CreateUnit(p,'H008',12340.2,13130.6,270.)call SetUnitState(u,UNIT_STATE_MANA,$B4)set u=CreateUnit(p,'H00A',12614.7,13128.9,270.)call SetUnitState(u,UNIT_STATE_MANA,$C3)set u=CreateUnit(p,'H007',12866.7,13124.,270.)set u=CreateUnit(p,'H009',13118.8,13124.,270.)set u=CreateUnit(p,'H006',13385.1,13128.2,270.)set u=CreateUnit(p,'nrac',-2167.2,3876.1,.67)set u=CreateUnit(p,'h02W',3841.5,2263.8,90.)set u=CreateUnit(p,'h00X',3769.3,1614.1,300.)set u=CreateUnit(p,'h02G',9050.2,-2993.2,180.)set Wf=CreateUnit(p,'h00D',-5709.3,-5428.2,180.)set wf=CreateUnit(p,'h00D',-7106.7,-3486.1,270.)set u=CreateUnit(p,'h025',-6268.2,-1844.3,130.)set u=CreateUnit(p,'h00Y',1448.3,-5939.9,90.)set u=CreateUnit(p,'n02S',6507.9,369.3,90.)set u=CreateUnit(p,'h00Z',2966.3,-620.6,270.)set u=CreateUnit(p,'h01J',12725.9,11728.6,230.)set u=CreateUnit(p,'h01I',12503.,11645.7,270.)set u=CreateUnit(p,'h01G',12136.5,11916.2,270.)set u=CreateUnit(p,'h01K',13218.,11938.1,270.)set u=CreateUnit(p,'h021',3389.3,12886.,270.)set u=CreateUnit(p,'h020',-10813.,13101.4,320.)call WaygateSetDestination(u,GetRectCenterX(EE),GetRectCenterY(EE))call WaygateActivate(u,true)set u=CreateUnit(p,'nfro',-7099.5,12110.1,181.884)set u=CreateUnit(p,'nfro',-5910.6,11937.8,155.912)set u=CreateUnit(p,'h020',10695.5,12668.3,180.)call WaygateSetDestination(u,GetRectCenterX(zV),GetRectCenterY(zV))call WaygateActivate(u,true)set u=CreateUnit(p,'nfro',-5847.4,9824.2,40.101)set u=CreateUnit(p,'h020',-7024.7,235.6,320.)call WaygateSetDestination(u,GetRectCenterX(mE),GetRectCenterY(mE))call WaygateActivate(u,true)set u=CreateUnit(p,'h02D',-3644.,-491.4,240.)set u=CreateUnit(p,'h020',-6689.8,-6167.8,180.)call WaygateSetDestination(u,GetRectCenterX(LE),GetRectCenterY(LE))call WaygateActivate(u,true)set u=CreateUnit(p,'nfro',-8510.2,7309.8,289.081)set u=CreateUnit(p,'nfro',-7229.8,9211.4,123.325)set u=CreateUnit(p,'h01O',12567.5,8694.5,90.222)set u=CreateUnit(p,'h01H',-4159.3,12754.7,330.)set u=CreateUnit(p,'h01R',-3972.9,13057.3,270.)set u=CreateUnit(p,'h01N',-6913.2,13138.2,270.)set u=CreateUnit(p,'h01M',10059.2,8534.,90.)set u=CreateUnit(p,'h01P',-3650.7,6220.8,130.)set u=CreateUnit(p,'h01Q',-541.,-13151.1,40.)set u=CreateUnit(p,'h01S',-10523.4,10364.5,313.515)set u=CreateUnit(p,'h01T',659.4,4246.6,270.)set u=CreateUnit(p,'h020',10699.8,10077.8,180.)call WaygateSetDestination(u,GetRectCenterX(xE),GetRectCenterY(xE))call WaygateActivate(u,true)set u=CreateUnit(p,'h01L',7613.4,-6934.8,100.)set u=CreateUnit(p,'h020',8521.9,10966.9,270.)call WaygateSetDestination(u,GetRectCenterX(ZV),GetRectCenterY(ZV))call WaygateActivate(u,true)set u=CreateUnit(p,'h020',9033.9,11861.7,180.)call WaygateSetDestination(u,GetRectCenterX(vE),GetRectCenterY(vE))call WaygateActivate(u,true)set u=CreateUnit(p,'h020',10052.,9261.2,270.)call WaygateSetDestination(u,GetRectCenterX(nE),GetRectCenterY(nE))call WaygateActivate(u,true)set u=CreateUnit(p,'h020',4669.9,12888.,270.)call WaygateSetDestination(u,GetRectCenterX(oE),GetRectCenterY(oE))call WaygateActivate(u,true)set u=CreateUnit(p,'h020',4896.4,9111.2,360.)call WaygateSetDestination(u,GetRectCenterX(eE),GetRectCenterY(eE))call WaygateActivate(u,true)set u=CreateUnit(p,'h020',5387.5,9692.2,270.)call WaygateSetDestination(u,GetRectCenterX(rE),GetRectCenterY(rE))call WaygateActivate(u,true)set u=CreateUnit(p,'h020',5846.6,9075.7,180.)call WaygateSetDestination(u,GetRectCenterX(aE),GetRectCenterY(aE))call WaygateActivate(u,true)set u=CreateUnit(p,'h020',5392.2,8619.1,90.)call WaygateSetDestination(u,GetRectCenterX(VE),GetRectCenterY(VE))call WaygateActivate(u,true)set u=CreateUnit(p,'h020',6432.7,8798.8,360.)call WaygateSetDestination(u,GetRectCenterX(iE),GetRectCenterY(iE))call WaygateActivate(u,true)set u=CreateUnit(p,'h022',3493.1,12744.6,230.)set u=CreateUnit(p,'h02V',3828.5,-1524.3,270.)set u=CreateUnit(p,'h02Y',-7504.3,13232.6,230.)set u=CreateUnit(p,'n02S',8158.1,3575.6,180.)set u=CreateUnit(p,'h030',-9275.,11586.3,270.)set u=CreateUnit(p,'h034',-8442.7,13244.3,270.)set u=CreateUnit(p,'h032',-9148.4,11540.,230.)set u=CreateUnit(p,'h031',2720.7,11977.2,180.)set u=CreateUnit(p,'n02S',7135.1,101.4,90.)set u=CreateUnit(p,'nrat',10898.2,-2057.3,41.958)set u=CreateUnit(p,'n02S',7734.9,2981.3,270.)set u=CreateUnit(p,'nrat',10346.6,-1347.6,101.671)set u=CreateUnit(p,'nrat',12162.4,-974.9,111.592)set u=CreateUnit(p,'n02S',6375.1,3166.2,270.)set u=CreateUnit(p,'n02S',4148.,2987.7,360.)set u=CreateUnit(p,'n02S',5231.4,1751.7,360.)set u=CreateUnit(p,'nrat',10609.4,189.1,196.013)set u=CreateUnit(p,'n02S',-5632.,-10432.,180.)set Pf=CreateUnit(p,'h02Z',-5359.,5472.6,270.)set u=CreateUnit(p,'h04D',2055.5,-4924.2,280.)set u=CreateUnit(p,'h04G',2865.6,-2468.7,280.)set u=CreateUnit(p,'h04C',8265.2,-12439.6,280.)set u=CreateUnit(p,'h04F',-3519.,6219.9,280.)set u=CreateUnit(p,'h04E',-9797.5,-11358.2,280.)set u=CreateUnit(p,'h04H',8986.,-12609.3,180.)set u=CreateUnit(p,'n030',1949.6,-12782.,151.539)endfunctionfunction Bg takes nothing returns nothinglocal player plocal unit ulocal integer unitIDlocal trigger tlocal real lifeset p=Player(0)set u=CreateUnit(p,'n003',2336.,-13152.,270.)set u=CreateUnit(p,'h02J',-5056.,128.,270.)set p=Player(1)set u=CreateUnit(p,'n003',2400.,-13152.,270.)set u=CreateUnit(p,'h02J',-4928.,128.,270.)set p=Player(2)set u=CreateUnit(p,'n003',2528.,-13152.,270.)set u=CreateUnit(p,'h02J',-4800.,128.,270.)set p=Player(3)set u=CreateUnit(p,'n003',2208.,-13216.,270.)set u=CreateUnit(p,'h02J',-4672.,128.,270.)set p=Player(4)set u=CreateUnit(p,'n003',2272.,-13152.,270.)set u=CreateUnit(p,'h02J',-4544.,128.,270.)set p=Player(5)set u=CreateUnit(p,'n003',2464.,-13152.,270.)set u=CreateUnit(p,'h02J',-3072.,1536.,270.)set p=Player(6)set u=CreateUnit(p,'n003',2208.,-13344.,270.)set u=CreateUnit(p,'h02J',-2944.,1536.,270.)set p=Player(7)set u=CreateUnit(p,'n003',2208.,-13408.,270.)set u=CreateUnit(p,'h02J',-2816.,1536.,270.)set p=Player(8)set u=CreateUnit(p,'n003',2208.,-13280.,270.)set u=CreateUnit(p,'h02J',-2688.,1536.,270.)set p=Player(9)set u=CreateUnit(p,'n003',2208.,-13152.,270.)set u=CreateUnit(p,'h02J',-2560.,1536.,270.)set p=Player($B)set u=CreateUnit(p,'n004',2432.,-13376.,270.)set u=CreateUnit(p,'hgtw',4480.,-11968.,270.)set u=CreateUnit(p,'hgtw',4224.,-11968.,270.)set u=CreateUnit(p,'hbla',3264.,-12480.,270.)set u=CreateUnit(p,'hwtw',2304.,-12800.,270.)set u=CreateUnit(p,'hwtw',2304.,-12672.,270.)set u=CreateUnit(p,'hwtw',2432.,-12544.,270.)set u=CreateUnit(p,'hwtw',2624.,-12544.,270.)set u=CreateUnit(p,'hgtw',4224.,-12480.,270.)set u=CreateUnit(p,'hgtw',4480.,-12480.,270.)set u=CreateUnit(p,'htow',1600.,.0,270.)set u=CreateUnit(p,'h03E',-6208.,3264.,270.)set u=CreateUnit(p,'n02R',-9984.,-8128.,270.)set mf=CreateUnit(p,'n00I',3200.,-11200.,270.)set Mf=CreateUnit(p,'n00I',2048.,.0,270.)set pf=CreateUnit(p,'n00I',-5632.,3008.,270.)set u=CreateUnit(p,'n026',-10240.,-7872.,270.)set u=CreateUnit(p,'hwtw',-10240.,-7552.,270.)endfunctionfunction cg takes nothing returns nothinglocal player plocal unit ulocal integer unitIDlocal trigger tlocal real lifeset p=Player($A)set u=CreateUnit(p,'n00F',8811.7,-10389.4,246.376)set u=CreateUnit(p,'n00F',8208.9,-10174.,160.504)set u=CreateUnit(p,'n00F',8703.5,-9992.,262.922)set u=CreateUnit(p,'n022',-5657.1,-8348.9,10.06)set u=CreateUnit(p,'n022',-5064.6,-7295.7,189.96)set u=CreateUnit(p,'n022',-5179.5,-7317.4,293.62)set u=CreateUnit(p,'n00H',9380.1,-9925.3,256.692)set u=CreateUnit(p,'n00H',7762.5,-10407.9,306.176)set u=CreateUnit(p,'n00H',7573.,-10824.4,11.569)set u=CreateUnit(p,'n022',-5542.5,-8348.9,56.31)set u=CreateUnit(p,'n022',-5433.1,-8338.1,293.62)set u=CreateUnit(p,'n022',-5318.2,-8316.4,189.96)set u=CreateUnit(p,'n022',-5704.7,-8244.9,224.77)set u=CreateUnit(p,'n00F',7066.4,-10391.,96.045)set u=CreateUnit(p,'n00F',8143.2,-9897.7,184.664)set u=CreateUnit(p,'n00F',8642.8,-10375.7,69.644)set u=CreateUnit(p,'n00H',9817.3,-10370.1,187.202)set u=CreateUnit(p,'n00H',9743.1,-10284.8,166.437)set u=CreateUnit(p,'n00Z',10357.7,4763.1,322.36)set u=CreateUnit(p,'n00Z',10174.1,5071.9,47.078)set u=CreateUnit(p,'n010',10130.8,4838.3,217.877)set u=CreateUnit(p,'n010',10192.,4716.7,13.206)set u=CreateUnit(p,'n01K',-4676.,-1952.1,205.41)set u=CreateUnit(p,'n01V',-11728.9,-6498.6,117.502)set u=CreateUnit(p,'n01K',-4401.3,-1207.4,81.708)set u=CreateUnit(p,'n014',7852.7,5976.2,255.693)set u=CreateUnit(p,'n013',7675.7,6040.,291.158)set u=CreateUnit(p,'n010',6535.3,5772.6,271.173)set u=CreateUnit(p,'n010',6647.7,6037.6,176.028)set u=CreateUnit(p,'n010',10062.2,4970.4,233.335)set u=CreateUnit(p,'n01G',-10491.1,1659.6,106.054)set u=CreateUnit(p,'n01G',-9710.5,950.4,344.498)set u=CreateUnit(p,'n01G',-10327.3,705.7,41.34)set u=CreateUnit(p,'n01B',-10362.1,5996.,68.04)set u=CreateUnit(p,'n01G',-9472.1,1756.8,109.79)set u=CreateUnit(p,'n01G',-9452.,461.7,161.01)set u=CreateUnit(p,'n01H',-9499.7,941.,93.134)set u=CreateUnit(p,'n01H',-10008.1,1830.2,195.914)set u=CreateUnit(p,'n01C',9841.5,10091.3,93.27)set u=CreateUnit(p,'n01H',-10212.6,1381.2,190.069)set u=CreateUnit(p,'n01H',-10633.1,2262.4,36.476)set u=CreateUnit(p,'n01C',8366.7,11828.9,237.08)set u=CreateUnit(p,'n01H',-10004.5,420.1,240.201)set u=CreateUnit(p,'n01H',-9913.6,445.4,307.835)set u=CreateUnit(p,'n01O',-3842.2,-3877.6,82.883)set u=CreateUnit(p,'n01O',-2544.8,-1466.5,320.536)set u=CreateUnit(p,'n01C',8404.1,11963.7,83.03)set u=CreateUnit(p,'n01O',-1349.5,-1961.3,337.785)set u=CreateUnit(p,'n01C',6902.8,12495.7,95.61)set u=CreateUnit(p,'n01C',6151.9,11555.,122.98)set u=CreateUnit(p,'n01O',-1719.5,-1906.7,265.822)set u=CreateUnit(p,'n01C',6842.3,10854.2,71.18)set u=CreateUnit(p,'n01V',-11385.1,-6483.1,191.992)set u=CreateUnit(p,'n01C',9803.9,11346.6,350.76)set u=CreateUnit(p,'n01C',9833.4,10234.3,65.25)set u=CreateUnit(p,'n01B',-9511.4,6073.8,333.489)set u=CreateUnit(p,'n01O',-1577.6,-243.8,227.808)set u=CreateUnit(p,'n01B',-9595.3,5998.6,191.256)set u=CreateUnit(p,'n01O',-1590.7,-558.4,104.263)set u=CreateUnit(p,'n01N',-1465.6,-369.7,146.397)set u=CreateUnit(p,'n01O',-2765.5,-1464.5,146.848)set u=CreateUnit(p,'n01P',-7409.4,-6084.5,136.202)set u=CreateUnit(p,'n01P',-7310.8,-6308.8,186.806)set u=CreateUnit(p,'n01P',-7455.2,-6211.,252.221)set u=CreateUnit(p,'n01P',-8235.9,-6797.6,196.475)set u=CreateUnit(p,'n01V',-11726.2,-6340.2,140.607)set u=CreateUnit(p,'n01P',-8345.3,-6705.5,345.838)set u=CreateUnit(p,'n01P',-7976.8,-5521.6,200.045)set u=CreateUnit(p,'n01P',-7969.3,-5677.6,299.42)set u=CreateUnit(p,'n01R',-7848.4,-5591.4,237.092)set u=CreateUnit(p,'n01R',-8124.9,-5583.7,223.392)set u=CreateUnit(p,'n01P',-8815.3,-5987.4,41.486)set u=CreateUnit(p,'n01V',-11389.8,-6321.4,323.03)set u=CreateUnit(p,'n01R',-9033.5,-5535.7,94.727)set u=CreateUnit(p,'n01R',-8143.8,-6659.,146.353)set u=CreateUnit(p,'n01R',-8281.5,-6565.9,133.005)set u=CreateUnit(p,'n01R',-8746.8,-6133.7,249.013)set u=CreateUnit(p,'n01R',-8539.1,-5885.9,57.504)set u=CreateUnit(p,'n01R',-7207.4,-6120.3,268.844)set u=CreateUnit(p,'n01K',-4604.3,-1467.6,191.014)set u=CreateUnit(p,'n01P',-8610.4,-6083.2,325.381)set u=CreateUnit(p,'n01P',-8683.8,-5882.6,159.537)set u=CreateUnit(p,'n01U',-12808.9,-6382.,207.637)set u=CreateUnit(p,'n01K',-4046.3,-2251.3,350.969)set u=CreateUnit(p,'n01K',-4907.6,-2489.6,65.437)set u=CreateUnit(p,'n01K',-5495.9,-2207.3,149.463)set u=CreateUnit(p,'n01K',-4574.4,-2033.2,248.299)set u=CreateUnit(p,'n01K',-5486.7,-2061.7,247.87)set u=CreateUnit(p,'n01K',-5628.4,-2034.,288.784)set u=CreateUnit(p,'n01K',-4042.9,-2088.1,240.597)set u=CreateUnit(p,'n01K',-4798.7,-1850.2,65.173)set u=CreateUnit(p,'n01K',-4923.2,-2657.1,97.089)set u=CreateUnit(p,'n01K',-3892.1,-1774.,272.118)set u=CreateUnit(p,'n01K',-5550.9,-2639.6,164.35)set u=CreateUnit(p,'n01K',-5664.6,-2546.9,54.823)set u=CreateUnit(p,'n01K',-5758.2,-2393.3,156.582)set u=CreateUnit(p,'n01K',-5035.,-2557.3,341.169)set u=CreateUnit(p,'n01O',-1831.5,-3141.8,301.804)set u=CreateUnit(p,'n01O',-1536.9,-3150.6,184.818)set u=CreateUnit(p,'n01O',-1278.8,-3215.1,90.255)set u=CreateUnit(p,'n01N',-1701.6,-3199.1,224.304)set u=CreateUnit(p,'n01N',-1526.8,-3353.3,142.2)set u=CreateUnit(p,'n01N',-1314.4,-3451.7,107.515)set u=CreateUnit(p,'n01O',-866.2,-4088.7,152.253)set u=CreateUnit(p,'n01O',-880.9,-4276.7,62.481)set u=CreateUnit(p,'n01N',-716.9,-4165.1,209.856)set u=CreateUnit(p,'n01N',-716.1,-4035.6,129.181)set u=CreateUnit(p,'n01O',-248.3,-3606.8,24.401)set u=CreateUnit(p,'n01O',-152.9,-3821.6,187.63)set u=CreateUnit(p,'n01N',-47.1,-3622.6,185.664)set u=CreateUnit(p,'n01N',604.5,-2967.4,294.805)set u=CreateUnit(p,'n01N',698.2,-3199.8,271.404)set u=CreateUnit(p,'n01O',397.7,-2934.6,344.663)set u=CreateUnit(p,'n01O',565.8,-3357.8,240.96)set u=CreateUnit(p,'n01O',434.7,-3145.,4.614)set u=CreateUnit(p,'n01O',-4846.5,-4210.7,351.793)set u=CreateUnit(p,'n01O',-4871.3,-4454.2,359.747)set u=CreateUnit(p,'n01O',-4877.3,-3996.,1.989)set u=CreateUnit(p,'n01O',-4094.7,-4101.2,19.534)set u=CreateUnit(p,'n01U',-12925.2,-6389.6,201.737)set u=CreateUnit(p,'n01W',-11740.5,-6594.8,240.267)set u=CreateUnit(p,'n025',-4473.4,-8437.6,130.697)set u=CreateUnit(p,'n01W',-12808.5,-6231.7,46.32)set u=CreateUnit(p,'n01W',-11404.5,-6615.1,273.7)set u=CreateUnit(p,'n025',-4731.9,-6638.5,251.485)set u=CreateUnit(p,'n01W',-12952.6,-6245.1,219.47)set u=CreateUnit(p,'n01V',-13111.2,-6136.5,296.739)set u=CreateUnit(p,'n01V',-12956.6,-6100.4,128.522)set u=CreateUnit(p,'n01V',-12795.4,-6074.7,10.141)set u=CreateUnit(p,'n025',-4719.,-6825.1,31.268)set u=CreateUnit(p,'n01V',-13136.9,-5368.3,102.659)set u=CreateUnit(p,'n01U',-12994.9,-7229.1,231.5)set u=CreateUnit(p,'n01V',-12804.8,-7217.1,351.441)set u=CreateUnit(p,'n01V',-12760.3,-7020.,170.821)set u=CreateUnit(p,'n01U',-12584.1,-7214.4,111.91)set u=CreateUnit(p,'n01W',-11732.3,-7547.3,236.422)set u=CreateUnit(p,'n01V',-13017.7,-5371.3,357.967)set u=CreateUnit(p,'n01V',-12870.7,-5365.4,344.289)set u=CreateUnit(p,'n01N',-1437.2,-2136.5,184.027)set u=CreateUnit(p,'n01V',-11857.4,-7429.7,238.235)set u=CreateUnit(p,'n01W',-11513.8,-7026.5,297.925)set u=CreateUnit(p,'n01W',-11611.1,-7028.,193.717)set u=CreateUnit(p,'n01U',-11689.3,-7134.3,324.129)set u=CreateUnit(p,'n01U',-11412.6,-7101.,315.482)set u=CreateUnit(p,'n01V',-12002.4,-7371.,208.043)set u=CreateUnit(p,'n01N',-1711.,-2109.6,136.158)set u=CreateUnit(p,'n01U',-11598.5,-7328.1,182.499)set u=CreateUnit(p,'n01N',-3222.3,-4224.9,119.832)set u=CreateUnit(p,'n01W',-12626.7,-7010.2,270.25)set u=CreateUnit(p,'n01W',-12933.3,-7036.6,40.068)set u=CreateUnit(p,'n01N',-3095.2,-4029.5,158.208)set u=CreateUnit(p,'n01V',-11672.1,-6867.1,349.903)set u=CreateUnit(p,'n01V',-11383.1,-6892.9,65.689)set u=CreateUnit(p,'n01U',-11767.2,-7256.1,91.046)set u=CreateUnit(p,'n01P',-9264.1,-5679.2,185.62)set u=CreateUnit(p,'n01P',-9150.2,-5529.4,10.954)set u=CreateUnit(p,'n01R',-9125.6,-5679.2,15.074)set u=CreateUnit(p,'n01R',-8837.9,-6973.,314.702)set u=CreateUnit(p,'n01R',-8833.9,-6793.1,275.15)set u=CreateUnit(p,'n01O',-3442.9,-3364.1,193.266)set u=CreateUnit(p,'n01O',-3034.9,-3438.6,1.417)set u=CreateUnit(p,'n01O',-3302.,-3573.4,279.105)set u=CreateUnit(p,'n01N',-1714.9,-3816.5,113.943)set u=CreateUnit(p,'n01N',-1547.8,-3874.4,289.817)set u=CreateUnit(p,'n01O',-1678.2,-3996.,59.251)set u=CreateUnit(p,'n01O',-1478.7,-1752.6,90.464)set u=CreateUnit(p,'n01V',-12748.3,-5371.3,81.29)set u=CreateUnit(p,'n01V',-13245.9,-5389.,90.409)set u=CreateUnit(p,'n01V',-11538.1,-7201.1,27.423)set u=CreateUnit(p,'n01W',-13126.2,-5477.7,42.376)set u=CreateUnit(p,'n01W',-12999.,-5487.3,.956)set u=CreateUnit(p,'n01W',-12866.8,-5487.3,182.236)set u=CreateUnit(p,'n01P',-7339.,-5642.4,173.062)set u=CreateUnit(p,'n01P',-7173.9,-5669.2,196.354)set u=CreateUnit(p,'n01P',-7647.2,-6701.7,22.567)set u=CreateUnit(p,'n01P',-7750.2,-6580.8,94.31)set u=CreateUnit(p,'n01R',-7772.,-6744.4,98.506)set u=CreateUnit(p,'n01Q',-7933.9,-3701.4,306.55)set u=CreateUnit(p,'n01Q',-7927.1,-3901.9,236.598)set u=CreateUnit(p,'n01X',-8151.,-3693.4,266.361)set u=CreateUnit(p,'n01X',-8131.7,-3813.9,130.005)set u=CreateUnit(p,'n01X',-8124.2,-3937.,41.002)set u=CreateUnit(p,'n01X',-8918.2,-3529.2,308.418)set u=CreateUnit(p,'n01X',-9032.1,-3854.5,158.757)set u=CreateUnit(p,'n01X',-9198.8,-3556.6,225.633)set u=CreateUnit(p,'n01Q',-8865.1,-3735.8,88.992)set u=CreateUnit(p,'n01Q',-9004.,-3641.9,320.47)set u=CreateUnit(p,'n01X',-10544.,-2558.5,57.262)set u=CreateUnit(p,'n01X',-10352.9,-2561.8,356.583)set u=CreateUnit(p,'n01Q',-10476.2,-2712.9,215.877)set u=CreateUnit(p,'n01K',-4140.,-1558.3,187.4)set u=CreateUnit(p,'n01K',-4032.1,-1691.,39.508)set u=CreateUnit(p,'n01Q',-10344.1,-2719.,255.682)set u=CreateUnit(p,'n01Q',-10482.5,-2412.4,8.756)set u=CreateUnit(p,'n01X',-9984.6,-1708.6,223.37)set u=CreateUnit(p,'n01X',-9995.2,-2034.9,252.265)set u=CreateUnit(p,'n01Q',-9897.,-1884.4,279.369)set u=CreateUnit(p,'n01Q',-10073.8,-1847.4,312.922)set u=CreateUnit(p,'n01U',-12812.9,-5598.1,204.385)set u=CreateUnit(p,'n01U',-12927.7,-5615.7,217.096)set u=CreateUnit(p,'n01X',-7526.1,-4740.7,25.017)set u=CreateUnit(p,'n01Q',-7502.2,-4591.8,164.47)set u=CreateUnit(p,'n01Q',-8892.9,-2073.1,127.907)set u=CreateUnit(p,'n01Q',-8894.2,-1742.1,333.885)set u=CreateUnit(p,'n01Q',-8804.8,-1854.2,108.493)set u=CreateUnit(p,'n01X',-8816.1,-1577.9,315.438)set u=CreateUnit(p,'n01X',-8615.1,-1635.5,337.95)set u=CreateUnit(p,'n01Q',-7482.,-1370.4,129.038)set u=CreateUnit(p,'n01X',-7297.2,-1380.,238.982)set u=CreateUnit(p,'n01X',-8516.7,-1505.,259.)set u=CreateUnit(p,'n01Q',-8335.1,-1495.6,226.776)set u=CreateUnit(p,'n01Q',-8627.,-1367.6,10.47)set u=CreateUnit(p,'n01X',-7403.4,-1583.7,309.253)set u=CreateUnit(p,'n01X',-9203.4,-877.1,251.529)set u=CreateUnit(p,'n023',-2710.1,-6438.7,263.61)set u=CreateUnit(p,'n01Q',-9332.2,-941.5,263.933)set u=CreateUnit(p,'n01X',-10280.6,-951.6,248.903)set u=CreateUnit(p,'n01X',-10441.4,-1084.2,226.765)set u=CreateUnit(p,'n01X',-10504.,-868.5,134.246)set u=CreateUnit(p,'n01Q',-10288.9,-820.4,312.615)set u=CreateUnit(p,'n01Q',-10246.5,-1152.9,101.605)set u=CreateUnit(p,'n01X',-10577.4,-1845.9,224.523)set u=CreateUnit(p,'n01Q',-10538.4,-1957.,210.702)set u=CreateUnit(p,'n01Q',-8128.6,-1390.2,295.684)set u=CreateUnit(p,'n01X',-7850.7,-1513.1,242.003)set u=CreateUnit(p,'n01U',-13042.3,-5618.2,316.075)set u=CreateUnit(p,'n01U',-13177.1,-5611.9,37.19)set u=CreateUnit(p,'n01K',-4990.,-1417.6,310.)set u=CreateUnit(p,'n01K',-5127.7,-1495.3,337.291)set u=CreateUnit(p,'n01K',-5453.4,-1491.8,258.296)set u=CreateUnit(p,'n01K',-5552.,-1465.5,84.575)set u=CreateUnit(p,'n01K',-4963.9,-1527.3,179.017)set u=CreateUnit(p,'n023',-2444.9,-6601.8,289.8)set u=CreateUnit(p,'n01K',-4530.3,-1615.6,345.959)set u=CreateUnit(p,'n023',-2673.9,-6270.5,43.85)set u=CreateUnit(p,'n023',-2272.2,-6554.7,224.5)set u=CreateUnit(p,'n023',-7392.4,-9176.4,327.765)set u=CreateUnit(p,'n023',-7242.,-9283.,32.51)set u=CreateUnit(p,'n023',-6296.6,-9100.9,44.705)set u=CreateUnit(p,'n023',-7163.5,-9411.6,289.916)set u=CreateUnit(p,'n023',-4726.1,-8478.4,77.006)set u=CreateUnit(p,'n023',-4359.1,-8721.,189.52)set u=CreateUnit(p,'n021',-4560.5,-8269.6,101.737)set u=CreateUnit(p,'n021',-4302.6,-8385.9,226.995)set u=CreateUnit(p,'n022',-6273.4,-8852.6,254.704)set u=CreateUnit(p,'n022',-6193.4,-8951.5,226.106)set u=CreateUnit(p,'n025',-7245.5,-9134.4,303.188)set u=CreateUnit(p,'n025',-7129.3,-9254.3,256.583)set u=CreateUnit(p,'n023',-4535.2,-8583.,257.582)set u=CreateUnit(p,'n021',-6371.8,-8896.5,62.393)set u=CreateUnit(p,'n021',-4276.1,-7234.7,152.198)set u=CreateUnit(p,'n021',-4144.1,-7136.1,71.314)set u=CreateUnit(p,'n023',-4168.6,-7400.6,310.813)set u=CreateUnit(p,'n021',-4868.5,-6678.3,190.717)set u=CreateUnit(p,'n023',-4564.2,-6742.4,25.972)set u=CreateUnit(p,'n027',9580.9,515.2,296.882)set u=CreateUnit(p,'n029',10678.7,-502.6,232.862)set u=CreateUnit(p,'n028',10642.6,343.7,123.303)set u=CreateUnit(p,'n029',9250.1,686.1,24.303)set u=CreateUnit(p,'n029',9881.7,621.6,156.758)set u=CreateUnit(p,'n028',10166.2,-407.3,106.724)set u=CreateUnit(p,'n028',10631.3,-1431.8,315.834)set u=CreateUnit(p,'n028',10376.2,-2277.6,146.397)set u=CreateUnit(p,'n028',10418.9,-1947.7,168.81)set u=CreateUnit(p,'n028',12673.6,-1998.3,103.934)set u=CreateUnit(p,'n028',12523.5,-932.1,280.951)set u=CreateUnit(p,'n028',11718.2,-2105.1,349.079)set u=CreateUnit(p,'n029',11715.1,-1870.1,284.214)set u=CreateUnit(p,'n029',12106.6,-1169.,133.367)set u=CreateUnit(p,'n029',10258.4,-2019.6,150.979)set u=CreateUnit(p,'n029',12647.7,-1759.1,40.112)set u=CreateUnit(p,'n029',10998.,-1295.3,101.176)set u=CreateUnit(p,'n027',10439.,152.6,240.289)set u=CreateUnit(p,'n027',10352.7,-630.2,113.734)set u=CreateUnit(p,'n027',10440.2,-1462.3,218.525)set u=CreateUnit(p,'n027',10619.1,-2120.3,51.692)set u=CreateUnit(p,'n027',10721.8,-2289.2,217.964)set u=CreateUnit(p,'n027',11960.8,-1862.1,73.27)set u=CreateUnit(p,'n027',12277.1,-1324.4,212.141)set u=CreateUnit(p,'n027',11515.5,-1926.9,105.659)set u=CreateUnit(p,'n028',11524.8,165.1,127.083)set u=CreateUnit(p,'n028',11882.8,651.3,19.721)set u=CreateUnit(p,'n028',12196.,780.1,255.506)set u=CreateUnit(p,'n028',12339.5,-9.2,219.448)set u=CreateUnit(p,'n028',12035.,-26.9,212.273)set u=CreateUnit(p,'n02C',-12928.3,7369.1,271.162)set u=CreateUnit(p,'n02C',-13377.6,7473.1,30.653)set u=CreateUnit(p,'n02C',-13359.7,8522.,334.621)set u=CreateUnit(p,'n02C',-12557.9,8333.4,112.503)set u=CreateUnit(p,'n02C',-12233.5,7788.3,337.148)set u=CreateUnit(p,'n02C',-11961.1,7922.7,356.858)set u=CreateUnit(p,'n02C',-12744.8,7866.6,34.674)set u=CreateUnit(p,'n02B',-12234.5,8900.7,201.419)set u=CreateUnit(p,'n02B',-12997.4,8279.4,250.364)set u=CreateUnit(p,'n02C',-12593.6,9164.2,182.115)set u=CreateUnit(p,'n02C',-12042.4,8899.5,226.193)set u=CreateUnit(p,'n02C',-12066.5,9262.5,266.416)set u=CreateUnit(p,'n02C',-11960.3,9971.2,24.753)set u=CreateUnit(p,'n02C',-12600.2,9651.1,186.927)set u=CreateUnit(p,'n02C',-12537.4,8677.2,122.556)set u=CreateUnit(p,'n02B',-13124.3,11792.1,165.108)set u=CreateUnit(p,'n02C',-12968.2,9541.7,38.673)set u=CreateUnit(p,'n02C',-13392.,10222.1,236.708)set u=CreateUnit(p,'n02C',-12734.4,10254.6,70.644)set u=CreateUnit(p,'n02C',-13247.5,11044.7,195.156)set u=CreateUnit(p,'n02C',-12469.6,10702.7,347.937)set u=CreateUnit(p,'n02C',-12595.4,11399.4,225.314)set u=CreateUnit(p,'n02C',-12832.1,11830.3,20.391)set u=CreateUnit(p,'n02C',-13114.5,12422.9,19.809)set u=CreateUnit(p,'n02C',-13367.8,12203.5,337.51)set u=CreateUnit(p,'n02C',-12305.3,12481.5,202.506)set u=CreateUnit(p,'n02C',-11952.6,11783.5,266.163)set u=CreateUnit(p,'n02C',-12284.5,12120.1,54.823)set u=CreateUnit(p,'n02C',-11954.9,12957.,153.802)set u=CreateUnit(p,'n02C',-12555.5,13101.3,127.357)set u=CreateUnit(p,'n02B',-12294.,13052.,278.413)set u=CreateUnit(p,'n02B',-12526.3,12747.9,132.345)set u=CreateUnit(p,'n02B',-13098.2,12620.5,205.989)set u=CreateUnit(p,'n02B',-12859.3,12257.6,135.422)set u=CreateUnit(p,'n02B',-12597.9,11980.6,219.415)set u=CreateUnit(p,'n02B',-11964.4,12521.3,354.342)set u=CreateUnit(p,'n02B',-12233.7,11867.6,175.918)set u=CreateUnit(p,'n02B',-12751.,11329.2,50.747)set u=CreateUnit(p,'n02B',-13365.5,11507.6,114.36)set u=CreateUnit(p,'n02B',-13002.3,10930.8,80.609)set u=CreateUnit(p,'n02B',-12591.,10829.6,15.711)set u=CreateUnit(p,'n02B',-12523.4,11077.7,28.049)set u=CreateUnit(p,'n02B',-12815.1,9291.9,258.406)set u=CreateUnit(p,'n02B',-12086.2,10589.8,101.901)set u=CreateUnit(p,'n02B',-12918.,10562.3,21.688)set u=CreateUnit(p,'n02B',-13253.4,9788.4,172.688)set u=CreateUnit(p,'n02B',-12341.3,10020.6,334.401)set u=CreateUnit(p,'n02B',-12187.2,9172.4,26.456)set u=CreateUnit(p,'n02B',-12225.3,8285.,330.578)set u=CreateUnit(p,'n02B',-13002.2,7608.1,125.215)set u=CreateUnit(p,'n02B',-12222.3,7647.6,150.177)set u=CreateUnit(p,'n02B',-11969.6,8119.9,350.013)set u=CreateUnit(p,'n02B',-13180.7,8780.2,117.744)set u=CreateUnit(p,'H023',-267.5,-6138.6,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H011',-4.7,-6134.4,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H02K',88.6,-6075.3,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H02H',-73.5,-6136.7,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H013',-330.4,-6182.,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H02M',-425.3,-6125.8,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H01C',-396.4,-6237.,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H02Q',-254.2,-6243.5,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H02L',-169.,-6202.9,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H02C',-102.7,-6202.9,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H01D',-16.2,-6200.7,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H012',88.9,-6147.6,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H01E',92.1,-6255.9,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H00I',171.9,-6314.4,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H015',157.2,-6396.,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H02O',84.9,-6477.5,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H01A',-169.,-6108.1,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H02F',51.9,-6354.4,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H02N',-49.2,-6270.,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H01B',-112.9,-6311.4,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H02P',-183.,-6309.9,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H02B',-36.5,-6370.3,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H02R',-30.3,-6530.4,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H02U',-122.7,-6404.4,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H02T',-264.7,-6386.8,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H016',-189.6,-6417.6,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H019',-234.1,-6536.6,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H018',-298.9,-6529.1,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H02E',-366.5,-6491.4,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H010',-62.1,-6443.8,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H02S',-434.3,-6534.4,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H014',-320.2,-6306.7,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H00N',-396.,-6323.8,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H01Y',-443.7,-6395.9,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H00O',-501.4,-6431.9,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H01Z',-489.6,-6325.1,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H024',-161.6,-6540.4,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H01F',-189.5,-6482.3,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'H017',-467.4,-6201.1,270.)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'n01G',-10279.2,2361.7,142.047)set u=CreateUnit(p,'n01G',-10704.1,1568.,186.466)set u=CreateUnit(p,'n01G',-9374.9,1654.7,199.441)set u=CreateUnit(p,'n01G',-10507.6,897.1,2.857)set eF=CreateUnit(p,'h03K',5242.3,2834.,180.)set u=CreateUnit(p,'n01G',-9365.9,531.7,332.27)set u=CreateUnit(p,'n01H',-9428.,980.,273.788)set u=CreateUnit(p,'n01H',-10556.2,1288.2,327.062)set xF=CreateUnit(p,'h03K',4596.7,2679.,270.)set oF=CreateUnit(p,'h03K',5125.8,2441.8,180.)set rF=CreateUnit(p,'h03K',6527.5,2425.3,180.)set iF=CreateUnit(p,'h03K',5516.9,2828.9,270.)set aF=CreateUnit(p,'h03K',5292.,2181.2,360.)set nF=CreateUnit(p,'h03M',6124.4,1784.,242.564)set VF=CreateUnit(p,'h03M',6495.6,1775.1,242.564)set EF=CreateUnit(p,'h03M',5779.9,1021.1,242.564)set yf=CreateUnit(p,'h03M',5531.5,1267.4,242.564)set OF=CreateUnit(p,'h03M',6232.1,767.9,242.564)set XF=CreateUnit(p,'h03J',7680.8,755.9,249.716)set zf=CreateUnit(p,'h03J',7056.3,1043.1,293.333)set Yf=CreateUnit(p,'h03J',7390.8,1420.,221.26)set vF=CreateUnit(p,'h03J',7448.3,2218.5,357.715)set Zf=CreateUnit(p,'h03J',7688.,2617.3,265.471)set p=Player($B)set u=CreateUnit(p,'h000',4599.1,-11967.5,360.)set u=CreateUnit(p,'h000',4610.9,-12487.3,360.)set u=CreateUnit(p,'h000',3282.9,-13028.1,163.053)set u=CreateUnit(p,'h000',3606.5,-12893.,130.664)set u=CreateUnit(p,'h000',3588.1,-13188.8,327.238)set u=CreateUnit(p,'h000',1653.2,-11536.1,17.359)set u=CreateUnit(p,'h000',1363.1,-12961.5,121.853)set u=CreateUnit(p,'h000',-393.6,-13010.2,132.994)set u=CreateUnit(p,'h000',-455.4,-11707.2,121.293)set u=CreateUnit(p,'h000',49.1,-12096.1,270.)set u=CreateUnit(p,'h000',406.2,-12094.3,270.)set u=CreateUnit(p,'h000',436.3,2074.3,270.)set u=CreateUnit(p,'h000',850.5,2074.3,270.)set u=CreateUnit(p,'h000',1735.4,-252.4,217.602)set u=CreateUnit(p,'h000',807.2,-995.8,202.374)set u=CreateUnit(p,'h000',1221.8,5282.,90.)set u=CreateUnit(p,'h000',1591.4,5280.,90.)set u=CreateUnit(p,'h00C',-4388.2,402.2,181.621)set u=CreateUnit(p,'nvil',-3711.4,4807.5,358.69)set u=CreateUnit(p,'nvl2',-4211.4,5282.8,225.)set u=CreateUnit(p,'nvlw',-4589.4,5241.4,307.2)set u=CreateUnit(p,'nvk2',-4320.4,4954.,318.61)set u=CreateUnit(p,'nvlk',-4266.1,4947.,168.12)set u=CreateUnit(p,'ndog',-4091.4,4926.9,231.58)set u=CreateUnit(p,'nvlw',2320.6,-1491.3,356.704)set u=CreateUnit(p,'nvl2',2397.2,-1410.9,270.11)set u=CreateUnit(p,'nvl2',-7745.4,3801.,118.337)set u=CreateUnit(p,'nvl2',-7817.7,3910.4,288.806)set u=CreateUnit(p,'nbee',-7579.1,5306.8,300.)set u=CreateUnit(p,'nbee',-7436.6,5084.2,160.)set u=CreateUnit(p,'nbee',-7489.4,4997.7,130.)set u=CreateUnit(p,'hhdl',-5042.6,4850.3,270.)set u=CreateUnit(p,'h000',-7167.6,5435.4,270.)set u=CreateUnit(p,'h000',-6668.8,5443.1,270.)set u=CreateUnit(p,'h000',-6170.8,3732.3,178.039)set u=CreateUnit(p,'h000',-5039.9,3414.8,270.)set u=CreateUnit(p,'h000',-4723.3,3418.8,270.)set u=CreateUnit(p,'h000',-2735.6,2803.,360.)set u=CreateUnit(p,'h000',-2710.1,2318.9,360.)set u=CreateUnit(p,'h000',-4374.5,1109.4,78.522)set u=CreateUnit(p,'h000',-2834.4,1089.7,180.)set u=CreateUnit(p,'h000',-5123.1,495.4,219.975)set Qf=CreateUnit(p,'H00H',-7966.8,927.4,50.)call SetHeroLevel(Qf,$FA,false)set u=CreateUnit(p,'h000',-6757.3,4099.3,270.)set u=CreateUnit(p,'h000',-7982.2,4675.7,360.)set u=CreateUnit(p,'h000',-5318.9,5186.8,4.636)set u=CreateUnit(p,'h000',4925.6,-3206.,50.)call SetUnitAcquireRange(u,200.)set qf=CreateUnit(p,'H00I',-7677.4,830.,90.)call SetHeroLevel(qf,$FA,false)set uf=CreateUnit(p,'H00E',-7525.,1195.7,130.)call SetHeroLevel(uf,$FA,false)set Tf=CreateUnit(p,'H00L',-6461.5,1108.5,90.)call SetHeroLevel(Tf,$FA,false)set tf=CreateUnit(p,'H00J',-4489.3,3523.7,290.)call SetHeroLevel(tf,$FA,false)set Sf=CreateUnit(p,'H00M',-4738.2,1271.1,270.)call SetHeroLevel(Sf,$FA,false)set sf=CreateUnit(p,'H00G',-3076.6,4127.5,270.)call SetHeroLevel(sf,$FA,false)set Uf=CreateUnit(p,'H00K',-7231.7,4171.3,320.)call SetHeroLevel(Uf,$FA,false)set u=CreateUnit(p,'h000',12211.6,11384.4,270.)set u=CreateUnit(p,'h000',12762.,11391.6,270.)set u=CreateUnit(p,'h000',3050.2,859.9,270.)set u=CreateUnit(p,'nvil',617.1,-478.6,238.103)set u=CreateUnit(p,'nvil',2478.3,-1495.,218.239)set u=CreateUnit(p,'nvil',881.6,-12601.4,214.152)set u=CreateUnit(p,'nvk2',-6502.1,2489.6,138.718)set u=CreateUnit(p,'nvk2',-5436.1,2590.4,24.193)set u=CreateUnit(p,'nvil',-6526.2,2885.4,300.98)set u=CreateUnit(p,'nvil',-3857.2,3193.5,173.809)set u=CreateUnit(p,'nvil',-6820.5,3703.1,55.527)set u=CreateUnit(p,'nvil',-4662.7,727.3,92.277)set u=CreateUnit(p,'nvil',-4743.2,777.3,32.575)set u=CreateUnit(p,'nvlw',-3285.3,860.8,260.01)set u=CreateUnit(p,'nvk2',-3316.1,808.7,64.184)set u=CreateUnit(p,'nvl2',-5503.6,889.4,287.049)set u=CreateUnit(p,'nvlw',-5436.4,893.9,275.513)set u=CreateUnit(p,'nvlw',-3856.4,692.1,82.026)set u=CreateUnit(p,'nvil',746.,-12578.6,353.551)set u=CreateUnit(p,'nvl2',1500.,-12867.4,355.484)set u=CreateUnit(p,'nvlw',1737.2,-11697.4,167.602)set u=CreateUnit(p,'nvlw',1671.9,-11731.9,57.405)set u=CreateUnit(p,'nvlk',-461.,-12504.2,98.078)set u=CreateUnit(p,'nvk2',-448.9,-12412.,237.938)set u=CreateUnit(p,'nvil',-403.4,-12479.9,205.67)set u=CreateUnit(p,'nvlw',-560.4,-12730.3,97.638)set u=CreateUnit(p,'n02U',-4395.8,2538.6,45.)set u=CreateUnit(p,'n02Y',-5741.1,3276.5,230.)set u=CreateUnit(p,'n02V',-7703.,4210.9,.0)set u=CreateUnit(p,'n02W',-5307.4,2864.7,252.21)set u=CreateUnit(p,'n02X',-6246.7,1846.1,158.603)endfunctionfunction Cg takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction dg takes nothing returns nothinglocal integer i=0local integer j=0loopset A[i+48]=jset b[i]=i+48set j=j+1set i=i+1exitwhen i>=$Aendloopset i=0loopset A[i+97]=jset A[i+65]=j+26set b[i+$A]=i+97set b[i+26+$A]=i+65set j=j+1set i=i+1exitwhen i>=26endloopendfunctionfunction Dg takes integer n returns integerlocal integer i=n/(256*256*256)local integer rset n=n-i*(256*256*256)set r=A[i]set i=n/(256*256)set n=n-i*(256*256)set r=r*64+A[i]set i=n/ 256set r=r*64+A[i]return r*64+A[n-i*256]endfunctionfunction fg takes integer n returns integerlocal integer i=n/(64*64*64)local integer rset n=n-i*(64*64*64)set r=b[i]set i=n/(64*64)set n=n-i*(64*64)set r=r*256+b[i]set i=n/ 64set r=r*256+b[i]return r*256+b[n-i*64]endfunctionfunction Fg takes unit u returns integerlocal integer i=0local integer n=GetUnitTypeId(u)if M==false thenset M=truecall dg()endifloopset i=i+1exitwhen i>Hif B[i]==n thenreturn iendifendloopreturn Dg(n)endfunctionfunction gg takes integer i returns integerif M==false thenset M=truecall dg()endifif i<=H thenreturn B[i]endifreturn fg(i)endfunctionfunction Gg takes item t returns integerlocal integer i=0local integer n=GetItemTypeId(t)if M==false thenset M=truecall dg()endifloopset i=i+1exitwhen i>Jif C[i]==n thenreturn iendifendloopreturn Dg(n)endfunctionfunction hg takes integer i returns integerif M==false thenset M=truecall dg()endifif i<=J thenreturn C[i]endifreturn fg(i)endfunctionfunction Hg takes string s returns stringlocal integer i=StringLength(s)local string clocal string r=""loopset i=i-1set c=SubString(s,i,i+1)if c=="a" or c=="b" or c=="c" or c=="d" or c=="e" or c=="f" or c=="g" or c=="h" or c=="j" or c=="k" or c=="m" or c=="n" or c=="o" or c=="p" or c=="q" or c=="r" or c=="s" or c=="t" or c=="u" or c=="v" or c=="w" or c=="x" or c=="y" or c=="z" or c=="2" or c=="3" or c=="4" or c=="5" or c=="6" or c=="7" or c=="8" or c=="9" thenset r="|cffffcc00"+c+"|r"+relseif c=="-" thenset r="|cffdddddd-|r"+relseset r=c+rendifexitwhen i<=0endloopreturn rendfunctionfunction jg takes string n returns integerlocal integer i=0local string s1="ABCDEFGHIJKLMNOPQRSTUVWXYZ"local string s2="abcdefghijklmnopqrstuvwxyz"local string s3="0123456789"loopif SubString(s1,i,i+1)==n thenreturn iendifif SubString(s2,i,i+1)==n thenreturn iendifset i=i+1exitwhen i>=26endloopset i=0loopif SubString(s3,i,i+1)==n thenreturn iendifset i=i+1exitwhen i>=$Aendloopreturn 0endfunctionfunction Jg takes string kg returns integerlocal integer i=0local integer j=0local string Kg=GetPlayerName(GetTriggerPlayer())if h thenloopset j=j+jg(SubString(Kg,i,i+1))set i=i+1exitwhen i>=StringLength(Kg)endloopendifset i=0loopset j=j+jg(SubString(kg,i,i+1))set i=i+1exitwhen i>=StringLength(kg)endloopreturn jendfunctionfunction lg takes nothing returns stringlocal integer ilocal integer jlocal integer klocal integer llocal integer mlocal integer Lg=StringLength(F)local integer array alocal string kg=""local string c=""local integer mg=0local integer Mg=$F4240local string pg="0123456789"set i=0loopset i=i+1exitwhen i>Iset kg=kg+I2S(R[i])+"-"endloopset kg=kg+I2S(Jg(kg))if R[1]==0 thenset kg="-"+kgendifset i=0loopset a[i]=0set i=i+1exitwhen i>='d'endloopset m=0set i=0loopset j=0loopset a[j]=a[j]*$Bset j=j+1exitwhen j>mendloopset l=0set c=SubString(kg,i,i+1)loopexitwhen SubString(pg,l,l+1)==cset l=l+1exitwhen l>9endloopset a[0]=a[0]+lset j=0loopset k=a[j]/ Mgset a[j]=a[j]-k*Mgset a[j+1]=a[j+1]+kset j=j+1exitwhen j>mendloopif k>0 thenset m=m+1endifset i=i+1exitwhen i>=StringLength(kg)endloopset kg=""loopexitwhen m<0set j=mloopexitwhen j<=0set k=a[j]/ Lgset a[j-1]=a[j-1]+(a[j]-k*Lg)*Mgset a[j]=kset j=j-1endloopset k=a[j]/ Lgset i=a[j]-k*Lgset kg=kg+SubString(F,i,i+1)set a[j]=kif a[m]==0 thenset m=m-1endifendloopset i=StringLength(kg)set mg=0set c=""loopset i=i-1set c=c+SubString(kg,i,i+1)set mg=mg+1if mg==4 and i>0 thenset c=c+"-"set mg=0endifexitwhen i<=0endloopreturn cendfunctionfunction Pg takes string s returns booleanlocal integer ilocal integer jlocal integer klocal integer llocal integer qg=0local integer mlocal integer array alocal string kg=""local integer Lg=StringLength(F)local integer mg=-1local integer Mg=$F4240local string pg="0123456789-"local string cset i=0loopset a[i]=0set i=i+1exitwhen i>='d'endloopset m=0set i=0loopset j=0loopset a[j]=a[j]*Lgset j=j+1exitwhen j>mendloopset mg=mg+1if mg==4 thenset mg=0set i=i+1endifset l=Lgset c=SubString(s,i,i+1)loopset l=l-1exitwhen l<1exitwhen SubString(F,l,l+1)==cendloopset a[0]=a[0]+lset j=0loopset k=a[j]/ Mgset a[j]=a[j]-k*Mgset a[j+1]=a[j+1]+kset j=j+1exitwhen j>mendloopif k>0 thenset m=m+1endifset i=i+1exitwhen i>=StringLength(s)endlooploopexitwhen m<0set j=mloopexitwhen j<=0set k=a[j]/ $Bset a[j-1]=a[j-1]+(a[j]-k*$B)*Mgset a[j]=kset j=j-1endloopset k=a[j]/ $Bset i=a[j]-k*$Bset kg=SubString(pg,i,i+1)+kgset a[j]=kif a[m]==0 thenset m=m-1endifendloopset i=0set j=0looploopexitwhen i>=StringLength(kg)exitwhen i>0 and SubString(kg,i,i+1)=="-" and SubString(kg,i-1,i)!="-"set i=i+1endloopif i<StringLength(kg)thenset k=iendifset qg=qg+1set R[qg]=S2I(SubString(kg,j,i))set j=i+1set i=i+1exitwhen i>=StringLength(kg)endloopset j=Jg(SubString(kg,0,k))set I=qg-1if j==R[qg]thenreturn trueendifreturn falseendfunctionfunction Qg takes nothing returns stringif G==false thenset F=StringCase(F,true)endifreturn Hg(lg())endfunctionfunction sg takes string s returns booleanif G==false thenset F=StringCase(F,true)set s=StringCase(s,true)endifif Pg(s)thenreturn trueendifreturn falseendfunctionfunction Sg takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)!=nullendfunctionfunction tg takes nothing returns nothingcall SetUnitOwner(GetEnumUnit(),Player($C),true)endfunctionfunction Tg takes nothing returns nothingcall SetDestructableInvulnerable(GetEnumDestructable(),true)endfunctionfunction ug takes nothing returns nothingcall SetPlayerFlagBJ(PLAYER_STATE_GIVES_BOUNTY,true,GetEnumPlayer())endfunctionfunction Ug takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction wg takes nothing returns nothingcall AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")call SetUnitInvulnerable(GetEnumUnit(),true)endfunctionfunction Wg takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT))!=nullendfunctionfunction yg takes nothing returns nothingcall AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")endfunctionfunction Yg takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction zg takes nothing returns nothingcall SetPlayerName(Player($A),"Bosses")call SetPlayerName(Player($B),"Silvasia Population")set Cn=1loopexitwhen Cn>$Acall SetPlayerAllianceStateBJ(Player(-1+(Cn)),Player($B),3)call SetPlayerAllianceStateBJ(Player($B),Player(-1+(Cn)),3)call SetPlayerAllianceStateBJ(Player(-1+(Cn)),Player($A),0)call SetPlayerAllianceStateBJ(Player($A),Player(-1+(Cn)),0)set Cn=Cn+1endloopset Cn=2loopexitwhen Cn>$Acall SetPlayerAllianceStateBJ(Player(-1+(Cn)),Player(0),3)call SetPlayerAllianceStateBJ(Player(0),Player(-1+(Cn)),3)set Cn=Cn+1endloopcall EnableDawnDusk(true)call PlayMusicBJ(KI)call FogEnableOn()call FogMaskEnableOn()set Q='n00C'set ye='n01L'set Wr='n02P'set ii='n02R'set ai='n02Q'set fr=WF(Player($A),Condition(function Sg))call ForGroupBJ(fr,function tg)call DestroyGroup(fr)set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=$Aloopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset Y[bj_forLoopAIndex]=GetRectCenter(AR)set Sx[bj_forLoopAIndex]=GetPlayerName(Player(-1+(bj_forLoopAIndex)))set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall EnumDestructablesInRectAll(GetWorldBounds(),function Tg)set RV=FOset y[1]=GetRectCenter(XR)set y[2]=GetRectCenter(OE)set y[3]=GetRectCenter(mR)set y[4]=GetRectCenter(aR)set y[5]=GetRectCenter(yR)set y[6]=GetRectCenter(oR)set y[7]=GetRectCenter(tX)set y[8]=GetRectCenter(rR)set y[9]=GetRectCenter(SX)set y[$A]=GetRectCenter(jO)call CreateQuestBJ(2,"Credits","TRIGSTR_234","ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp")call CreateQuestBJ(2,"Credits Extra","This map is edited by normax on the approval of one of the creators.","ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp")call CreateQuestBJ(2,"Credits Testers and Idea","TRIGSTR_15594","ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp")call CreateQuestBJ(2,"Dungeons and Loot","TRIGSTR_819","ReplaceableTextures\\CommandButtons\\BTN_CR_wGem.blp")call CreateQuestBJ(2,"Your Stash","TRIGSTR_5119","ReplaceableTextures\\CommandButtons\\BTNCage.blp")call CreateQuestBJ(2,"Limit Break System","TRIGSTR_14428","ReplaceableTextures\\CommandButtons\\BTNArcane.blp")call CreateQuestBJ(2,"Player Vs. Player Mode","TRIGSTR_5121","ReplaceableTextures\\CommandButtons\\BTNAbility_Parry.blp")call CreateQuestBJ(2,"Rite of Passage","TRIGSTR_1617","ReplaceableTextures\\CommandButtons\\BTNMaskOfDeath.blp")call CreateQuestBJ(2,"Additional Information","TRIGSTR_1378","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")call CreateQuestBJ(2,"Quests Information","TRIGSTR_11447","ReplaceableTextures\\CommandButtons\\BTNSnazzyScrollPurple.blp")call CreateQuestBJ(2,"Professions","TRIGSTR_4781","ReplaceableTextures\\CommandButtons\\BTNTomeBrown.blp")call CreateQuestBJ(2,"Commands","TRIGSTR_1500","ReplaceableTextures\\CommandButtons\\BTNScourgeBuild.blp")call CreateQuestBJ(2,"Saving/Loading","TRIGSTR_236","ReplaceableTextures\\CommandButtons\\BTNUsedSoulGem.blp")call CreateQuestBJ(2,"2nd Job Advancement","In order to change to 2nd Job, first of all you need to be a |cffffcc00Level 40|r 1st Job Class in order to do so. If you meet the requirements, then head to the City of New Lights and talk to your Class Trainer. (for e.g. if you are an Archer, then talk to the Hunter) If you do not know who your Class Trainer is, then check F9 on your specific class; your 1st, 2nd, 3rd and 4th jobs are all listed there. Once you talk to the Class Trainer, they will give you an advancement quest that you need to complete. After completing the quest, go back to your class trainer and right click on him/her, and you will successfully change your job. Bear in mind, however, that you will start at Level 1 again, but this is minor because you will be very strong, so leveling back would not pose much of a problem although it does take some time.","ReplaceableTextures\\CommandButtons\\BTNSorceressAdept.blp")call CreateQuestBJ(2,"3rd Job Advancement","TRIGSTR_5098","ReplaceableTextures\\CommandButtons\\BTNSorceressMaster.blp")call CreateQuestBJ(2,"4th Job Advancement","TRIGSTR_1615","ReplaceableTextures\\CommandButtons\\BTNScrollOfHealing.blp")call CreateQuestBJ(2,"Swordsman","TRIGSTR_242","ReplaceableTextures\\CommandButtons\\BTNTheCaptain.blp")call CreateQuestBJ(2,"Initiate","TRIGSTR_244","ReplaceableTextures\\CommandButtons\\BTNBanditMage.blp")call CreateQuestBJ(2,"Archer","TRIGSTR_240","ReplaceableTextures\\CommandButtons\\BTNHighElvenArcher.blp")call CreateQuestBJ(2,"Thief","TRIGSTR_246","ReplaceableTextures\\CommandButtons\\BTNBandit.blp")call CreateQuestBJ(2,"Templar","TRIGSTR_248","ReplaceableTextures\\CommandButtons\\BTNHuntress.blp")call CreateQuestBJ(2,"Acolyte","TRIGSTR_250","ReplaceableTextures\\CommandButtons\\BTNPriest.blp")call CreateQuestBJ(2,"Witch Hunter","TRIGSTR_252","ReplaceableTextures\\CommandButtons\\BTNSpellBreaker.blp")call CreateQuestBJ(2,"Druid","TRIGSTR_254","ReplaceableTextures\\CommandButtons\\BTNDruidOfTheTalon.blp")call ForForce(bj_FORCE_ALL_PLAYERS,function ug)call CreateTextTagLocBJ("|cff009ACDSwordsman|r",GetRectCenter(LR),.0,12.,'d','d','d',0)call CreateTextTagLocBJ("|cff009ACDInitiate|r",GetRectCenter(fO),.0,12.,'d','d','d',0)call CreateTextTagLocBJ("|cffFF69B4Archer|r",GetRectCenter(YV),.0,12.,'d','d','d',0)call CreateTextTagLocBJ("|cff009ACDThief|r",GetRectCenter(qR),.0,12.,'d','d','d',0)call CreateTextTagLocBJ("|cffFF69B4Templar|r",GetRectCenter(pR),.0,12.,'d','d','d',0)call CreateTextTagLocBJ("|Cff00ff00Acolyte|r",GetRectCenter(uV),.0,12.,'d','d','d',0)call CreateTextTagLocBJ("|cff009ACDWitch Hunter|r",GetRectCenter(WR),.0,12.,'d','d','d',0)call CreateTextTagLocBJ("|cff009ACDDruid|r",GetRectCenter(eX),.0,12.,'d','d','d',0)call CreateTextTagLocBJ("|cffffcc001st Job Change Area|r",GetRectCenter(QV),.0,12.,'d','d','d',0)set fr=WF(Player($B),Condition(function Ug))call ForGroupBJ(fr,function wg)call DestroyGroup(fr)set fr=WF(Player($F),Condition(function Wg))call ForGroupBJ(fr,function yg)call DestroyGroup(fr)call SetPlayerAllianceStateBJ(Player($A),Player($C),2)call SetPlayerAllianceStateBJ(Player($C),Player($A),2)call SetTimeOfDay(6.)call SetTimeOfDayScalePercentBJ(50.)set Fr=QF(iR)call ForGroupBJ(Fr,function Yg)call DestroyGroup(Fr)call DestroyTrigger(GetTriggeringTrigger())endfunctionfunction vG takes nothing returns nothingif bj_isSinglePlayer thenset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=$3B9ACA00loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall CreateNUnitsAtLocFacingLocBJ($2710,'hfoo',Player($C),GetRectCenter(bj_mapInitialPlayableArea),GetUnitLoc(GetTriggerUnit()))set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction xG takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='U000')or(GetUnitTypeId(GetTriggerUnit())=='U001')or(GetUnitTypeId(GetTriggerUnit())=='U003')or(GetUnitTypeId(GetTriggerUnit())=='U002')or(GetUnitTypeId(GetTriggerUnit())=='U004')or(GetUnitTypeId(GetTriggerUnit())=='U006')or(GetUnitTypeId(GetTriggerUnit())=='U009')or(GetUnitTypeId(GetTriggerUnit())=='U007')or(GetUnitTypeId(GetTriggerUnit())=='U00A')or(GetUnitTypeId(GetTriggerUnit())=='U00B')or(GetUnitTypeId(GetTriggerUnit())=='U00C')or(GetUnitTypeId(GetTriggerUnit())=='U00E')or(GetUnitTypeId(GetTriggerUnit())=='U00G')or(GetUnitTypeId(GetTriggerUnit())=='U00F')or(GetUnitTypeId(GetTriggerUnit())=='U00H')or(GetUnitTypeId(GetTriggerUnit())=='U00I')or(GetUnitTypeId(GetTriggerUnit())=='h04J')or(GetUnitTypeId(GetTriggerUnit())=='h04I')or(GetUnitTypeId(GetTriggerUnit())=='U00L')or(GetUnitTypeId(GetTriggerUnit())=='U00M')or(GetUnitTypeId(GetTriggerUnit())=='U00J')or(GetUnitTypeId(GetTriggerUnit())=='U00K')or(GetUnitTypeId(GetTriggerUnit())=='U00N')or(GetUnitTypeId(GetTriggerUnit())=='U00O')or(GetUnitTypeId(GetTriggerUnit())=='U00Q')or(GetUnitTypeId(GetTriggerUnit())=='U00R')endfunctionfunction oG takes nothing returns booleanreturn(xG())and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)endfunctionfunction rG takes nothing returns nothingcall CustomDefeatBJ(GetOwningPlayer(GetTriggerUnit()),"You have been disconnected.")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,("|cffff0000"+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+" is a noob hacker so he is autokicked from the game.")))endfunctionfunction aG takes nothing returns nothinglocal string Kg=StringCase(GetPlayerName(GetEnumPlayer()),false)local boolean nG=falseif Kg=="tetsuoasaki" or Kg=="xia0frozenzz" or Kg=="lunza" or Kg=="zol" or Kg=="stfu_newb" or Kg=="lolkittyrulz" or Kg=="thgs_nike" or Kg=="fiendish" or Kg=="sanpellegrino" or Kg=="y-not" thenset nG=trueelseif Kg=="beyondtop" or Kg=="batizta" or Kg=="da-mask" or Kg=="schwagger" or Kg=="mercilless" or Kg=="samyng" or Kg=="achae" or Kg=="sawada.tsuna" or Kg=="dark_knight101" or Kg=="satan_cyborg" thenset nG=trueelseif Kg=="blurlmblind" or Kg=="psychonutz" or Kg=="splash_mangkee" or Kg=="3xecutor" or Kg=="voo1doo" or Kg=="~reverse~" or Kg=="shadow_sworder" or Kg=="muha9" or Kg=="zamaru2008" or Kg=="xprac" thenset nG=trueelseif Kg=="tolgar" or Kg=="lamerxgamer" or Kg=="kiracious" or Kg=="fulo1" or Kg=="snaplz" or Kg=="x3maplesea" or Kg=="soa_urahara" or Kg=="nirk32" or Kg=="seb34" or Kg=="agusx" thenset nG=trueelseif Kg=="jkt-smokar" or Kg=="imveryhai" or Kg=="hells_gate" or Kg=="pado_aa" or Kg=="tagadef023" or Kg=="chengsta" or Kg=="lightsheshomaru" or Kg=="ivann" or Kg=="doomsday." or Kg=="i_am_yellow" thenset nG=trueelseif Kg=="goodboy26" or Kg=="name225" or Kg=="r3sist" or Kg=="tk.tunker" or Kg=="doomsday-" or Kg=="wraith9999" or Kg=="reaper_muffin" or Kg=="lakai]" or Kg=="mystical_07" or Kg=="gimli95" thenset nG=trueelseif Kg=="killer2521" or Kg=="kio1314" or Kg=="nothinbeter2do" or Kg=="glhpnoob" or Kg=="johncenarockz" or Kg=="0null0" or Kg=="kisamee" or Kg=="camzilla" or Kg=="lan_520" or Kg=="e_megency_unit3" thenset nG=trueelseif Kg=="love_noob" or Kg=="wiingstaizi" or Kg=="mr_paco" or Kg=="kolek_2" or Kg=="ejiv" or Kg=="beastmaster13" or Kg=="tallazndude" or Kg=="afunksquared" or Kg=="tuckermax" or Kg=="bbtandnoodles" thenset nG=trueelseif Kg=="sletcher" or Kg=="vanes-" or Kg=="bizzel" or Kg=="divineslayer" or Kg=="killer_t_t" or Kg=="dark9" or Kg=="ahwei1617" or Kg=="azuresky3224" or Kg=="icetoad81" or Kg=="rolayler" thenset nG=trueelseif Kg=="pieeater" or Kg=="loltier" or Kg=="pinktorpedo" or Kg=="o7o5o8" or Kg=="qerti" or Kg=="karhaneci" or Kg=="xx-yokiba-xx" or Kg=="manzey2" or Kg=="jackedup" or Kg=="amuhh" thenset nG=trueelseif Kg=="lordgalidaire" or Kg=="jopa_kirill" or Kg=="blazing_avenger" or Kg=="ghost13" or Kg=="kamicosa" or Kg=="crudestlilcas" or Kg=="pawliak" or Kg=="rice_balls" or Kg=="nak_2" or Kg=="cheesey124" thenset nG=trueelseif Kg=="kakashibleh" or Kg=="comnob" or Kg=="gofastboy" or Kg=="jjunior89" or Kg=="hadelen77" or Kg=="jean_2007" or Kg=="kristina" or Kg=="ryuzaki" or Kg=="foc.hell" or Kg=="fire(fox)" or Kg=="mikeymighty" thenset nG=trueelseif Kg=="owned_u7" or Kg=="aloneme" or Kg=="da.blademaster" or Kg=="avandor" or Kg=="mncsq" or Kg=="haran_rox" or Kg=="jonnybullock" or Kg=="xuxuzinhu" or Kg=="scribbles" or Kg=="sneakyinc" thenset nG=trueelseif Kg=="ike522" or Kg=="at4lante" or Kg=="kevvin" or Kg=="neo4321" or Kg=="xxgamyxx" or Kg=="marauder1" or Kg=="molinapower" or Kg=="sacreddragon" or Kg=="tearar1" or Kg=="[avg]darklord" thenset nG=trueelseif Kg=="[nwg]keegan" or Kg=="[awe]toto" or Kg=="-the-man-" or Kg=="-the-mans-son" or Kg=="lauder" or Kg=="-bloodflow-" or Kg=="manbearpig" or Kg=="gaara[jrl]" or Kg=="vageena" or Kg=="darkness_appear" thenset nG=trueelseif Kg=="rsdkl" or Kg=="pointy" or Kg=="v^ps.lacus" or Kg=="geekinpink" or Kg=="tanya55" or Kg=="syncness" or Kg=="xgrayfoxx" or Kg=="[rod]devastator" or Kg=="kingcoolryan" or Kg=="thirrin" or Kg=="wazzap" thenset nG=trueelseif Kg=="pwnedbynoob" or Kg=="[xxmatiasxx]" or Kg=="[btm]thrice" or Kg=="evil_oreo" or Kg=="hawke" or Kg=="hiddenmage2" or Kg=="tacofritocheeto" or Kg=="sillybilly_" or Kg=="call.menoob" or Kg=="holocalistic" thenset nG=trueelseif Kg=="mks-ud3l" or Kg=="you-will-die" or Kg=="bleispritze" or Kg=="dday" or Kg=="demondestiny" or Kg=="ass" or Kg=="d[o]h-metroid" or Kg=="-versa-" or Kg=="furyboy999" or Kg=="ohsnapyoulose" thenset nG=trueelseif Kg=="ban_bao" or Kg=="collin26" or Kg=="idopelemons" or Kg=="caedeus(" or Kg=="big_fat_noob" or Kg=="nigelthornberry" or Kg=="midianx" or Kg=="k4masutra" or Kg=="etyama" or Kg=="the-ape-man" thenset nG=trueelseif Kg=="lsnotec" or Kg=="mclovinu" or Kg=="nightgaze" or Kg=="andrew1007" or Kg=="summon_knight" or Kg=="beast-knight" or Kg=="rvk][darkclaw" or Kg=="stiff[ger]" or Kg=="saintanas28" or Kg=="sunken143" thenset nG=trueelseif Kg=="dota_ace" or Kg=="addacus" or Kg=="stevenliao1998" or Kg=="nguywingzr" or Kg=="marcusrc" or Kg=="2good4u_mangina" or Kg=="istealskills" or Kg=="da_owner" or Kg=="andquocdrew" or Kg=="dot^angel" thenset nG=trueelseif Kg=="[godofchaos]" or Kg=="suspectulcodrin" or Kg=="aldrig123" or Kg=="drath420" or Kg=="haracaku" or Kg=="rhoxas" or Kg=="xxholynovaxx" or Kg=="crazymimic" or Kg=="tozzavainen" or Kg=="abek" or Kg=="x-boy_1997" thenset nG=trueelseif Kg=="dark_worm" or Kg=="death_bringer" or Kg=="chinoooo" or Kg=="tinyvirus" or Kg=="lightwiz457" or Kg=="alive-" or Kg=="tdrx_joker" or Kg=="mesonoob^^" or Kg=="epic.nub" or Kg=="raulster" thenset nG=trueelseif Kg=="sunnygee" or Kg=="chaosdemon2" or Kg=="valdisls" or Kg=="_stringer_" or Kg==".zenske-" or Kg=="bradleyallen" or Kg=="socrat" or Kg=="here[2]lose" or Kg=="rm125pro2" or Kg=="frozenthong" or Kg=="ed0ss" thenset nG=trueelseif Kg=="rimix" or Kg=="foskolos" or Kg=="proster)" or Kg=="ipwneduagain" or Kg=="cuddlemaster" or Kg=="[music]jack" or Kg=="jamaica_15" or Kg=="dominick1233" or Kg=="zarron6" or Kg=="maabjerg1" thenset nG=trueelseif Kg=="gir2.0" or Kg=="linkchuk" or Kg=="[i-w]-13xtr@" or Kg=="jucarie" or Kg=="tedekay" or Kg=="e_ming" or Kg=="ajon" or Kg=="chicoluis10" thenset nG=trueendifif nG thencall CustomDefeatBJ(GetEnumPlayer(),"You are banned. Does it feel good?")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,("|cffff0000"+(GetPlayerName(GetEnumPlayer())+" has been BANNED and hence, will be autokicked from the game.")))endifendfunctionfunction VG takes nothing returns nothingcall ForForce(bj_FORCE_ALL_PLAYERS,function aG)call DestroyTrigger(GetTriggeringTrigger())endfunctionfunction XG takes nothing returns nothingcall TriggerRegisterUnitEvent(qc,GetEnumUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(NA,GetEnumUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(Pc,GetEnumUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(Qc,GetEnumUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(tc,GetEnumUnit(),EVENT_UNIT_DAMAGED)endfunctionfunction OG takes nothing returns nothingset dr=QF(bj_mapInitialPlayableArea)call ForGroupBJ(dr,function XG)call DestroyGroup(dr)set Aa=GetRectCenter(DE)call IssuePointOrderByIdLoc(oF,$D0016,Aa)call RemoveLocation(Aa)set Aa=GetRectCenter(fE)call IssuePointOrderByIdLoc(rF,$D0016,Aa)call RemoveLocation(Aa)set Aa=GetRectCenter(FE)call IssuePointOrderByIdLoc(eF,$D0016,Aa)call RemoveLocation(Aa)set Aa=GetRectCenter(gE)call IssuePointOrderByIdLoc(xF,$D0016,Aa)call RemoveLocation(Aa)set Aa=GetRectCenter(GE)call IssuePointOrderByIdLoc(iF,$D0016,Aa)call RemoveLocation(Aa)set Aa=GetRectCenter(hE)call IssuePointOrderByIdLoc(aF,$D0016,Aa)call RemoveLocation(Aa)set Aa=GetRectCenter(JO)call IssuePointOrderByIdLoc(nF,$D0016,Aa)call RemoveLocation(Aa)set Aa=GetRectCenter(kO)call IssuePointOrderByIdLoc(VF,$D0016,Aa)call RemoveLocation(Aa)set Aa=GetRectCenter(KO)call IssuePointOrderByIdLoc(OF,$D0016,Aa)call RemoveLocation(Aa)set Aa=GetRectCenter(lO)call IssuePointOrderByIdLoc(EF,$D0016,Aa)call RemoveLocation(Aa)set Aa=GetRectCenter(LO)call IssuePointOrderByIdLoc(yf,$D0016,Aa)call RemoveLocation(Aa)set Aa=GetRectCenter(ZX)call IssuePointOrderByIdLoc(XF,$D0016,Aa)call RemoveLocation(Aa)set Aa=GetRectCenter(vO)call IssuePointOrderByIdLoc(zf,$D0016,Aa)call RemoveLocation(Aa)set Aa=GetRectCenter(eO)call IssuePointOrderByIdLoc(Zf,$D0016,Aa)call RemoveLocation(Aa)set Aa=GetRectCenter(xO)call IssuePointOrderByIdLoc(Yf,$D0016,Aa)call RemoveLocation(Aa)set Aa=GetRectCenter(oO)call IssuePointOrderByIdLoc(vF,$D0016,Aa)call RemoveLocation(Aa)call DestroyTrigger(GetTriggeringTrigger())endfunctionfunction IG takes nothing returns nothingcall SetPlayerMaxHeroesAllowed(0,GetOwningPlayer(GetSoldUnit()))call SelectUnitForPlayerSingle(GetSoldUnit(),GetOwningPlayer(GetSoldUnit()))endfunctionfunction NG takes nothing returns nothingcall CustomDefeatBJ(GetEnumPlayer(),"Use -load to load instead.")endfunctionfunction bG takes nothing returns nothingcall ForForce(bj_FORCE_ALL_PLAYERS,function NG)endfunctionfunction cG takes nothing returns booleanreturn(IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit())))and(GetUnitTypeId(GetTriggerUnit())!='h00Z')endfunctionfunction CG takes nothing returns nothingcall IssueImmediateOrderById(GetAttacker(),$D0004)endfunctionfunction DG takes nothing returns nothingcall CreateMultiboardBJ(3,$B,"|cffFFD700Player Statistics|r")call MultiboardSetItemStyleBJ(bj_lastCreatedMultiboard,0,0,true,true)call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,1,1,"|cffFFD700Players|r")call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,2,1,"|cffff0000PvP Points|r")call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,3,1,"|Cff00ff00Profession|r")call MultiboardSetItemWidthBJ(bj_lastCreatedMultiboard,1,0,15.)call MultiboardSetItemWidthBJ(bj_lastCreatedMultiboard,2,0,8.)call MultiboardSetItemWidthBJ(bj_lastCreatedMultiboard,3,0,8.)call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,1,2,("|cffff0303"+GetPlayerName(Player(0))))call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,1,3,("|cff0042ff"+GetPlayerName(Player(1))))call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,1,4,("|cff1ce6b9"+GetPlayerName(Player(2))))call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,1,5,("|cff540081"+GetPlayerName(Player(3))))call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,1,6,("|cfffffc01"+GetPlayerName(Player(4))))call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,1,7,("|cfffe8a0e"+GetPlayerName(Player(5))))call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,1,8,("|cff20c000"+GetPlayerName(Player(6))))call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,1,9,("|cffe55bb0"+GetPlayerName(Player(7))))call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,1,$A,("|cff959697"+GetPlayerName(Player(8))))call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,1,$B,("|cff7ebff1"+GetPlayerName(Player(9))))set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=$Aloopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,2,(bj_forLoopAIndex+1),"0")call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,3,(bj_forLoopAIndex+1),"0")set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall MultiboardSetItemIconBJ(bj_lastCreatedMultiboard,1,0,"ReplaceableTextures\\CommandButtons\\BTN_CR_TEST_ICON_TWO.blp")call MultiboardSetItemIconBJ(bj_lastCreatedMultiboard,2,0,"ReplaceableTextures\\CommandButtons\\BTNAbility_BackStab.blp")call MultiboardSetItemIconBJ(bj_lastCreatedMultiboard,3,0,"ReplaceableTextures\\CommandButtons\\BTNSorceressAdept.blp")call MultiboardDisplay(bj_lastCreatedMultiboard,true)call DestroyTrigger(GetTriggeringTrigger())endfunctionfunction FG takes nothing returns nothingset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=$Aloopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,2,(bj_forLoopAIndex+1),I2S(hx[(1+GetPlayerId(Player(-1+(bj_forLoopAIndex))))]))call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,3,(bj_forLoopAIndex+1),I2S(Fn[(1+GetPlayerId(Player(-1+(bj_forLoopAIndex))))]))set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction GG takes nothing returns booleanreturn(GetItemType(GetManipulatedItem())==ITEM_TYPE_POWERUP)endfunctionfunction hG takes nothing returns nothingcall ForceAddPlayer(Ae,GetOwningPlayer(GetTriggerUnit()))endfunctionfunction jG takes nothing returns booleanreturn(GetItemType(GetManipulatedItem())==ITEM_TYPE_POWERUP)endfunctionfunction JG takes nothing returns nothingcall ForceRemovePlayer(Ae,GetOwningPlayer(GetTriggerUnit()))endfunctionfunction KG takes nothing returns nothingset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=$Aloopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerAllianceBJ(Player(0),ALLIANCE_SHARED_CONTROL,false,Player(-1+(bj_forLoopAIndex)))call SetPlayerAllianceBJ(Player(1),ALLIANCE_SHARED_CONTROL,false,Player(-1+(bj_forLoopAIndex)))call SetPlayerAllianceBJ(Player(2),ALLIANCE_SHARED_CONTROL,false,Player(-1+(bj_forLoopAIndex)))call SetPlayerAllianceBJ(Player(3),ALLIANCE_SHARED_CONTROL,false,Player(-1+(bj_forLoopAIndex)))call SetPlayerAllianceBJ(Player(4),ALLIANCE_SHARED_CONTROL,false,Player(-1+(bj_forLoopAIndex)))call SetPlayerAllianceBJ(Player(5),ALLIANCE_SHARED_CONTROL,false,Player(-1+(bj_forLoopAIndex)))call SetPlayerAllianceBJ(Player(6),ALLIANCE_SHARED_CONTROL,false,Player(-1+(bj_forLoopAIndex)))call SetPlayerAllianceBJ(Player(7),ALLIANCE_SHARED_CONTROL,false,Player(-1+(bj_forLoopAIndex)))call SetPlayerAllianceBJ(Player(8),ALLIANCE_SHARED_CONTROL,false,Player(-1+(bj_forLoopAIndex)))call SetPlayerAllianceBJ(Player(9),ALLIANCE_SHARED_CONTROL,false,Player(-1+(bj_forLoopAIndex)))set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction LG takes nothing returns nothingcall ClearTextMessagesBJ(YF(GetTriggerPlayer()))endfunctionfunction MG takes nothing returns booleanreturn(gn[(1+GetPlayerId(GetTriggerPlayer()))]!=0)endfunctionfunction pG takes nothing returns nothingset gn[(1+GetPlayerId(GetTriggerPlayer()))]=0set Fn[(1+GetPlayerId(GetTriggerPlayer()))]=0set Hn[(1+GetPlayerId(GetTriggerPlayer()))]=0call DisplayTimedTextToForce(YF(GetTriggerPlayer()),8.,"|cffffcc00You have successfully unlearned your current Profession.|r")endfunctionfunction qG takes nothing returns nothingcall DisplayTimedTextToForce(YF(GetTriggerPlayer()),5.,("|cffffcc00Game Time:|r "+(R2S(Ni)+" seconds.")))endfunctionfunction sG takes nothing returns booleanreturn(dn==1)endfunctionfunction SG takes nothing returns booleanreturn(dn==2)endfunctionfunction tG takes nothing returns booleanreturn(dn==3)endfunctionfunction TG takes nothing returns booleanreturn(dn==4)endfunctionfunction uG takes nothing returns booleanreturn(dn==5)endfunctionfunction UG takes nothing returns booleanreturn(dn==6)endfunctionfunction wG takes nothing returns booleanreturn(dn==7)endfunctionfunction WG takes nothing returns booleanreturn(dn==8)endfunctionfunction yG takes nothing returns nothingcall EnableWeatherEffect(fn,false)call RemoveWeatherEffect(fn)set dn=GetRandomInt(1,8)if(sG())thencall AddWeatherEffectSaveLast(GetWorldBounds(),'RAhr')endifif(SG())thencall AddWeatherEffectSaveLast(GetWorldBounds(),'RLlr')endifif(tG())thencall AddWeatherEffectSaveLast(GetWorldBounds(),'SNbs')endifif(TG())thencall AddWeatherEffectSaveLast(GetWorldBounds(),'SNls')endifif(uG())thencall AddWeatherEffectSaveLast(GetWorldBounds(),'WNcw')endifif(UG())thencall AddWeatherEffectSaveLast(GetWorldBounds(),'LRaa')endifif(wG())thencall AddWeatherEffectSaveLast(GetWorldBounds(),'WOlw')endifif(WG())thenendifset fn=bj_lastCreatedWeatherEffectcall EnableWeatherEffect(fn,true)endfunctionfunction zG takes nothing returns booleanreturn(GetSpellAbilityId()=='A0AC')endfunctionfunction ZG takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),rn)==false)endfunctionfunction vh takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),rn))endfunctionfunction eh takes nothing returns nothingif(ZG())thencall ForceAddPlayer(rn,GetOwningPlayer(GetTriggerUnit()))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00Item is now inactive.|r")returnendifif(vh())thencall ForceRemovePlayer(rn,GetOwningPlayer(GetTriggerUnit()))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00Item is now active.|r")endifendfunctionfunction oh takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction rh takes nothing returns nothingcall DisplayTextToForce(YF(GetTriggerPlayer()),("Current Movement Speed: |cffffcc00"+R2S(GetUnitMoveSpeed(GetEnumUnit()))))endfunctionfunction ih takes nothing returns nothingset gr=WF(GetTriggerPlayer(),Condition(function oh))call ForGroupBJ(gr,function rh)call DestroyGroup(gr)endfunctionfunction nh takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction Vh takes nothing returns nothingcall GroupRemoveUnit(mi[bj_forLoopAIndex],GetEnumUnit())endfunctionfunction Eh takes nothing returns booleanreturn(CountUnitsInGroup(mi[bj_forLoopAIndex])==0)endfunctionfunction Xh takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),Mi[bj_forLoopAIndex]))endfunctionfunction Oh takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction Rh takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),qe))endfunctionfunction Ih takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction Ah takes nothing returns nothingcall UnitRemoveAbility(GetEnumUnit(),'B017')call SetUnitInvulnerable(GetEnumUnit(),false)call PauseUnit(GetEnumUnit(),false)endfunctionfunction Nh takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction bh takes nothing returns nothingcall UnitRemoveAbility(GetEnumUnit(),'B017')call SetUnitInvulnerable(GetEnumUnit(),false)call PauseUnit(GetEnumUnit(),false)endfunctionfunction Bh takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),fx))endfunctionfunction ch takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),kx))endfunctionfunction Ch takes nothing returns nothingcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,("|cffff8c00"+(GetPlayerName(GetTriggerPlayer())+"|r has left the game.")))call DestroyTimerDialog(Oo[(1+GetPlayerId(GetTriggerPlayer()))])call ForceRemovePlayer(Ze,GetTriggerPlayer())set pi=WF(GetTriggerPlayer(),Condition(function nh))set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=Inloopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(Xh())thencall ForceRemovePlayer(Mi[bj_forLoopAIndex],GetTriggerPlayer())call ForGroupBJ(pi,function Vh)if(Eh())thenset w=bj_forLoopAIndexcall TriggerExecute(Rd)endifendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall ForGroupBJ(pi,function Oh)if(Rh())thencall DestroyTimerDialog(Nx)call ForceRemovePlayer(qe,GetTriggerPlayer())call DisableTrigger(CD)endifif(ch())thenif(Bh())thenset Kx=(1+GetPlayerId(GetTriggerPlayer()))call ForGroupBJ(WF(Dx[Kx],Condition(function Nh)),function bh)call SetPlayerAllianceStateBJ(Dx[Kx],GetTriggerPlayer(),3)call ForceRemovePlayer(jx,Dx[Kx])call ForceRemovePlayer(fx,Dx[Kx])call ForceRemovePlayer(kx,Dx[Kx])set Dx[Kx]=Player($F)elseset Kx=Lx[(1+GetPlayerId(GetTriggerPlayer()))]call ForGroupBJ(WF(lx[Kx],Condition(function Ih)),function Ah)call SetPlayerAllianceStateBJ(lx[Kx],GetTriggerPlayer(),3)call ForceRemovePlayer(jx,lx[Kx])call ForceRemovePlayer(fx,lx[Kx])call ForceRemovePlayer(kx,lx[Kx])set lx[Kx]=Player($F)endifendifcall DestroyGroup(pi)endfunctionfunction Dh takes nothing returns nothingset B[1]='H007'set B[2]='H004'set B[3]='H00B'set B[4]='H006'set B[5]='H005'set B[6]='H001'set B[7]='H002'set B[8]='H003'set B[9]='H00A'set B[$A]='H008'set B[$B]='H009'set B[$C]='H00H'set B[$D]='H00K'set B[$E]='H00E'set B[$F]='H00F'set B[16]='H00G'set B[17]='H00J'set B[18]='H00I'set B[19]='H00L'set B[20]='H00M'set B[21]='H011'set B[22]='H010'set B[23]='H012'set B[24]='H013'set B[25]='H01D'set B[26]='H01C'set B[27]='H015'set B[28]='H014'set B[29]='H01F'set B[30]='H01E'set B[31]='H01B'set B[32]='H01A'set B[33]='H017'set B[34]='H016'set B[35]='H019'set B[36]='H018'set B[37]='H023'set B[38]='H024'set B[39]='H02C'set B[40]='H02B'set B[41]='H02E'set B[42]='H02F'set B[43]='H02K'set B[44]='H02H'set B[45]='H02M'set B[46]='H02Q'set B[47]='H02L'set B[48]='H02O'set B[49]='H02N'set B[50]='H02P'set B[51]='H02R'set B[52]='H02S'set H=52set C[1]='I003'set C[2]='I001'set C[3]='I002'set C[4]='I008'set C[5]='I009'set C[6]='I00B'set C[7]='I007'set C[8]='I00C'set C[9]='I006'set C[$A]='I004'set C[$B]='I00D'set C[$C]='I00E'set C[$D]='I005'set C[$E]='I00G'set C[$F]='I00H'set C[16]='I00J'set C[17]='I00I'set C[18]='I00A'set C[19]='I00F'set C[20]='I00R'set C[21]='I00P'set C[22]='I00O'set C[23]='I00M'set C[24]='I00L'set C[25]='I00Q'set C[26]='I00N'set C[27]='I00S'set C[28]='I01G'set C[29]='I01F'set C[30]='I01D'set C[31]='I01E'set C[32]='I01L'set C[33]='I01U'set C[34]='I023'set C[35]='I01X'set C[36]='I01H'set C[37]='I024'set C[38]='I01S'set C[39]='I01K'set C[40]='I020'set C[41]='I021'set C[42]='I01I'set C[43]='I01T'set C[44]='I01Q'set C[45]='I01R'set C[46]='I01J'set C[47]='I01P'set C[48]='I01Z'set C[49]='I022'set C[50]='I01M'set C[51]='I01Y'set C[52]='I01O'set C[53]='I01N'set C[54]='I01V'set C[55]='I01W'set C[56]='I026'set C[57]='I02F'set C[58]='I029'set C[59]='I02C'set C[60]='I02H'set C[61]='I02G'set C[62]='I02D'set C[63]='I02A'set C[64]='I02B'set C[65]='I02E'set C[66]='I02I'set C[67]='I02K'set C[68]='I02J'set C[69]='I032'set C[70]='I031'set C[71]='I02W'set C[72]='I02P'set C[73]='I02Q'set C[74]='I02Z'set C[75]='I02X'set C[76]='I02S'set C[77]='I02L'set C[78]='I02U'set C[79]='I02T'set C[80]='I02N'set C[81]='I02V'set C[82]='I02Y'set C[83]='I02O'set C[84]='I02R'set C[85]='I02M'set C[86]='I030'set C[87]='I033'set C[88]='I034'set C[89]='I039'set C[90]='I036'set C[91]='I037'set C[92]='I03A'set C[93]='I03C'set C[94]='I03B'set C[95]='I035'set C[96]='I038'set C[97]='I03G'set C[98]='I03F'set C[99]='I03I'set C['d']='I03H'set C['e']='I03L'set C['f']='I03N'set C['g']='I03R'set C['h']='I03V'set C['i']='I03Q'set C['j']='I03M'set C['k']='I03T'set C['l']='I03K'set C['m']='I03U'set C['n']='I03S'set C['o']='I046'set C['p']='I047'set C['q']='I03X'set C['r']='I03W'set C['s']='I044'set C['t']='I03Y'set C['u']='I045'set C['v']='I041'set C['w']='I042'set C['x']='I040'set C['y']='I03Z'set C['z']='I043'set C['{']='I03P'set C['|']='I03O'set C['}']='I04N'set C[$7E]='I04O'set C[$7F]='I04P'set C[$80]='I04J'set C[$81]='I04H'set C[$82]='I04L'set C[$83]='I04K'set C[$84]='I04M'set C[$85]='I04Z'set C[$86]='I04W'set C[$87]='I04V'set C[$88]='I04Y'set C[$89]='I04X'set C[$8A]='I056'set C[$8B]='I054'set C[$8C]='I053'set C[$8D]='I059'set C[$8E]='I058'set C[$8F]='I052'set C[$90]='I05A'set C[$91]='I055'set C[$92]='I051'set C[$93]='I050'set C[$94]='I057'set C[$95]='I05F'set C[$96]='I05H'set C[$97]='I05G'set C[$98]='I05J'set C[$99]='I05K'set C[$9A]='I05L'set C[$9B]='I05M'set C[$9C]='I05N'set J=$9Cset D[1]='A005'set D[2]='A004'set D[3]='A000'set D[4]='A001'set D[5]='A003'set D[6]='A002'set D[7]='A008'set D[8]='A006'set D[9]='A009'set D[$A]='A007'set D[$B]='A00M'set D[$C]='A00L'set D[$D]='A00K'set D[$E]='A00N'set D[$F]='A00G'set D[16]='A00E'set D[17]='A00H'set D[18]='A00F'set D[19]='A00A'set D[20]='A00D'set D[21]='A00B'set D[22]='A00C'set D[23]='A00R'set D[24]='A00S'set D[25]='A00T'set D[26]='A00U'set D[27]='A010'set D[28]='A012'set D[29]='A00Z'set D[30]='A011'set D[31]='A00W'set D[32]='A00X'set D[33]='A00V'set D[34]='A00Y'set D[35]='A01K'set D[36]='A01J'set D[37]='A01I'set D[38]='A01B'set D[39]='A01E'set D[40]='A01F'set D[41]='A01G'set D[42]='A01H'set D[43]='A017'set D[44]='A016'set D[45]='A015'set D[46]='A018'set D[47]='A01C'set D[48]='A01D'set D[49]='A019'set D[50]='A01A'set D[51]='A01T'set D[52]='A01U'set D[53]='A01V'set D[54]='A01W'set D[55]='A01Y'set D[56]='A020'set D[57]='A01Z'set D[58]='A01X'set D[59]='A01Q'set D[60]='A01P'set D[61]='A01R'set D[62]='A01S'set D[63]='A01O'set D[64]='A01N'set D[65]='A01M'set D[66]='A01L'set D[67]='A034'set D[68]='A03U'set D[69]='A03D'set D[70]='A037'set D[71]='A03X'set D[72]='A068'set D[73]='A044'set D[74]='A045'set D[75]='A033'set D[76]='A03F'set D[77]='A04A'set D[78]='A03P'set D[79]='A030'set D[80]='A03S'set D[81]='A03T'set D[82]='A03A'set D[83]='A02V'set D[84]='A031'set D[85]='A03J'set D[86]='A03H'set D[87]='A02Z'set D[88]='A03E'set D[89]='A03I'set D[90]='A04H'set D[91]='A04D'set D[92]='A04F'set D[93]='A03G'set D[94]='A02W'set D[95]='A039'set D[96]='A040'set D[97]='A03C'set D[98]='A038'set D[99]='A03M'set D['d']='A036'set D['e']='A043'set D['f']='A041'set D['g']='A042'set D['h']='A03Q'set D['i']='A04B'set D['j']='A049'set D['k']='A04C'set D['l']='A03N'set D['m']='A03B'set D['n']='A03R'set D['o']='A03O'set D['p']='A047'set D['q']='A046'set D['r']='A048'set D['s']='A02X'set D['t']='A03K'set D['u']='A03L'set D['v']='A035'set D['w']='A02Y'set D['x']='A032'set D['y']='A04Y'set D['z']='A04G'set D['{']='A04E'set D['|']='A02T'set D['}']='A02U'set D[$7E]='A04P'set D[$7F]='A04T'set D[$80]='A04W'set D[$81]='A04S'set D[$82]='A07A'set D[$83]='A04Q'set D[$84]='A04U'set D[$85]='A04X'set D[$86]='A03V'set D[$87]='A04Z'set D[$88]='A052'set D[$89]='A055'set D[$8A]='A05I'set D[$8B]='A051'set D[$8C]='A054'set D[$8D]='A050'set D[$8E]='A056'set D[$8F]='A064'set D[$90]='A06B'set D[$91]='A03Y'set D[$92]='A065'set D[$93]='A062'set D[$94]='A069'set D[$95]='A066'set D[$96]='A067'set D[$97]='A06A'set D[$98]='A07U'set D[$99]='A07O'set D[$9A]='A07T'set D[$9B]='A07R'set D[$9C]='A07S'set D[$9D]='A07L'set D[$9E]='A07Q'set D[$9F]='A07N'set D[$A0]='A07P'set D[$A1]='A07M'set D[$A2]='A07I'set D[$A3]='A07G'set D[$A4]='A07F'set D[$A5]='A07H'set D[$A6]='A07K'set D[$A7]='A07E'set D[$A8]='A09L'set D[$A9]='A07C'set D[$AA]='A07D'set D[$AB]='A07B'set D[$AC]='A075'set D[$AD]='A073'set D[$AE]='A076'set D[$AF]='A071'set D[$B0]='A070'set D[$B1]='A078'set D[$B2]='A072'set D[$B3]='A077'set D[$B4]='A074'set D[$B5]='A07W'set D[$B6]='A07X'set D[$B7]='A080'set D[$B8]='A07Y'set D[$B9]='A07Z'set D[$BA]='A084'set D[$BB]='A086'set D[$BC]='A081'set D[$BD]='A082'set D[$BE]='A085'set D[$BF]='A06V'set D[$C0]='A06X'set D[$C1]='A06Y'set D[$C2]='A06W'set D[$C3]='A06Z'set D[$C4]='A058'set D[$C5]='A06S'set D[$C6]='A02H'set D[$C7]='A06T'set D[$C8]='A06U'set f=$C8set F="ZWAJKLMNOPQRSTUVabcdefghjkmnopqrs8765432XYBCDEFGHtuvwxyz9"set G=trueset h=trueset M=falseset O=""set R[1]=0set I=1set N=falseset A[1]=0set b[1]=0call DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Fh takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),Sv)==false)and(IsPlayerInForce(GetTriggerPlayer(),sv)==false)and(IsPlayerInForce(GetTriggerPlayer(),Ae)==false)and(IsPlayerInForce(GetTriggerPlayer(),kx)==false)endfunctionfunction gh takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction Gh takes nothing returns booleanreturn(GetUnitAbilityLevelSwapped(D[bj_forLoopBIndex],GetEnumUnit())>0)endfunctionfunction hh takes nothing returns nothingset I=(I+1)set E=GetEnumUnit()set R[I]=Fg(E)set I=(I+1)set R[I]=GetHeroXP(GetEnumUnit())set I=(I+1)set R[I]=R2I(GetLocationX(GetUnitLoc(GetEnumUnit())))set I=(I+1)set R[I]=R2I(GetLocationY(GetUnitLoc(GetEnumUnit())))set bj_forLoopBIndex=1set bj_forLoopBIndexEnd=floopexitwhen bj_forLoopBIndex>bj_forLoopBIndexEndif(Gh())thenset I=(I+1)set R[I]=bj_forLoopBIndexset I=(I+1)set R[I]=GetUnitAbilityLevelSwapped(D[bj_forLoopBIndex],GetEnumUnit())endifset bj_forLoopBIndex=bj_forLoopBIndex+1endloopendfunctionfunction Hh takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction jh takes nothing returns booleanreturn(IsItemOwned(UnitItemInSlotBJ(GetEnumUnit(),io)))endfunctionfunction Jh takes nothing returns nothingset I=(I+1)set R[I]=UnitInventoryCount(GetEnumUnit())set io=1loopexitwhen io>6if(jh())thenset I=(I+1)set o=UnitItemInSlotBJ(GetEnumUnit(),io)set R[I]=Gg(o)set I=(I+1)set R[I]=GetItemCharges(UnitItemInSlotBJ(GetEnumUnit(),io))endifset io=io+1endloopendfunctionfunction kh takes nothing returns booleanreturn(IsItemOwned(UnitItemInSlotBJ(GetEnumUnit(),bj_forLoopAIndex)))endfunctionfunction Kh takes nothing returns nothingset I=(I+1)set R[I]=UnitInventoryCount(GetEnumUnit())set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=6loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(kh())thenset I=(I+1)set o=UnitItemInSlotBJ(GetEnumUnit(),bj_forLoopAIndex)set R[I]=Gg(o)set I=(I+1)set R[I]=GetItemCharges(UnitItemInSlotBJ(GetEnumUnit(),bj_forLoopAIndex))endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction lh takes nothing returns booleanreturn(GetItemType(UnitItemInSlotBJ(GetEnumUnit(),io))==ITEM_TYPE_PURCHASABLE)endfunctionfunction Lh takes nothing returns booleanreturn(IsItemOwned(UnitItemInSlotBJ(GetEnumUnit(),io)))endfunctionfunction mh takes nothing returns nothingset io=1loopexitwhen io>6if(Lh())thenif(lh())thencall RemoveItem(UnitItemInSlotBJ(GetEnumUnit(),io))endifendifset io=io+1endloopendfunctionfunction Mh takes nothing returns booleanreturn(GetItemType(UnitItemInSlotBJ(GetEnumUnit(),bj_forLoopAIndex))==ITEM_TYPE_PURCHASABLE)endfunctionfunction ph takes nothing returns booleanreturn(IsItemOwned(UnitItemInSlotBJ(GetEnumUnit(),bj_forLoopAIndex)))endfunctionfunction Ph takes nothing returns nothingset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=6loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(ph())thenif(Mh())thencall RemoveItem(UnitItemInSlotBJ(GetEnumUnit(),bj_forLoopAIndex))endifendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction qh takes nothing returns nothingcall DisableTrigger(GetTriggeringTrigger())set F="OPQRSTUVZWAJKLMNtuvwxyz9abcdefghjkmnopqrs8765432XYBCDEFGH"call SetPlayerName(GetTriggerPlayer(),Sx[(1+GetPlayerId(GetTriggerPlayer()))])set I=0set I=(I+1)set R[I]=Nr[(1+GetPlayerId(GetTriggerPlayer()))]set I=(I+1)set R[I]=Dr[(1+GetPlayerId(GetTriggerPlayer()))]set I=(I+1)set R[I]=GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)set I=(I+1)set R[I]=Fn[(1+GetPlayerId(GetTriggerPlayer()))]set I=(I+1)set R[I]=gn[(1+GetPlayerId(GetTriggerPlayer()))]set I=(I+1)set R[I]=Hn[(1+GetPlayerId(GetTriggerPlayer()))]set X=WF(GetTriggerPlayer(),Condition(function gh))set I=(I+1)set R[I]=CountUnitsInGroup(X)call ForGroupBJ(X,function hh)set O=Qg()call QuestMessageBJ(YF(GetTriggerPlayer()),8,"Hero Code: |cff87ceeb(Codes are case-sensitive and are restricted to the Player's Username.)|r")call DisplayTimedTextToForce(YF(GetTriggerPlayer()),300.,O)call GF(1.)set F="AmnopqrsJKLMNOPQRSTUV8765432DEFGHZWtuvwxyzXYBCabcdefghjk9"set I=1set R[I]=GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)set I=(I+1)set R[I]=GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)set I=(I+1)set R[I]=hx[(1+GetPlayerId(GetTriggerPlayer()))]set X=WF(GetTriggerPlayer(),Condition(function Hh))set Px=yF(GetTriggerPlayer(),'h02J')call ForGroupBJ(X,function Jh)call ForGroupBJ(Px,function Kh)set O=Qg()call QuestMessageBJ(YF(GetTriggerPlayer()),8,"Item Code: |cff87ceeb(Codes are case-sensitive and are restricted to the Player's Username.)|r")call DisplayTimedTextToForce(YF(GetTriggerPlayer()),300.,O)call ForGroupBJ(X,function mh)call ForGroupBJ(Px,function Ph)call EnableTrigger(GetTriggeringTrigger())endfunctionfunction sh takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),K)==false)and(IsPlayerInForce(GetTriggerPlayer(),EV)==false)and(IsPlayerInForce(GetTriggerPlayer(),Ze)==false)and(IsPlayerInForce(GetTriggerPlayer(),kx)==false)and(SubStringBJ(GetEventPlayerChatString(),1,6)==GetEventPlayerChatStringMatched())and(StringLength(GetEventPlayerChatString())>6)endfunctionfunction Sh takes nothing returns booleanreturn(N==false)endfunctionfunction th takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction Th takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction uh takes nothing returns nothingset F="OPQRSTUVZWAJKLMNtuvwxyz9abcdefghjkmnopqrs8765432XYBCDEFGH"set O=SubStringBJ(GetEventPlayerChatString(),7,StringLength(GetEventPlayerChatString()))set N=sg(O)if(Sh())thencall DisplayTextToForce(YF(GetTriggerPlayer()),"|cffffcc00Load Failed. Please recheck your code.|r")returnelsecall DisplayTextToForce(YF(GetTriggerPlayer()),"|cffffcc00Load Successful.|r")endifcall SetPlayerMaxHeroesAllowed(0,GetTriggerPlayer())call ForceAddPlayer(K,GetTriggerPlayer())call ForGroupBJ(WF(GetTriggerPlayer(),Condition(function th)),function Th)set S=Iset I=1set Nr[(1+GetPlayerId(GetTriggerPlayer()))]=R[I]set I=(I+1)set Dr[(1+GetPlayerId(GetTriggerPlayer()))]=R[I]set I=(I+1)call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED,R[I])set I=(I+1)set Fn[(1+GetPlayerId(GetTriggerPlayer()))]=R[I]set I=(I+1)set gn[(1+GetPlayerId(GetTriggerPlayer()))]=R[I]set I=(I+1)set Hn[(1+GetPlayerId(GetTriggerPlayer()))]=R[I]set I=(I+1)set bj_forLoopBIndex=1set bj_forLoopBIndexEnd=R[I]loopexitwhen bj_forLoopBIndex>bj_forLoopBIndexEndset I=(I+1)set L=gg(R[I])call CreateNUnitsAtLoc(1,L,GetTriggerPlayer(),Y[(1+GetPlayerId(GetTriggerPlayer()))],bj_UNIT_FACING)set I=(I+1)call SetHeroXP(bj_lastCreatedUnit,R[I],false)set I=(I+1)call SetUnitPositionLoc(bj_lastCreatedUnit,Location(I2R(R[I]),I2R(R[(I+1)])))set I=(I+1)set I=(I+1)loopexitwhen I>Sset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=R[(I+1)]loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SelectHeroSkill(bj_lastCreatedUnit,D[R[I]])set bj_forLoopAIndex=bj_forLoopAIndex+1endloopset I=I+1endloopset bj_forLoopBIndex=bj_forLoopBIndex+1endloopendfunctionfunction wh takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),qx)==false)and(IsPlayerInForce(GetTriggerPlayer(),EV)==false)and(IsPlayerInForce(GetTriggerPlayer(),Ze)==false)and(IsPlayerInForce(GetTriggerPlayer(),kx)==false)and(IsPlayerInForce(GetTriggerPlayer(),sv)==false)and(SubStringBJ(GetEventPlayerChatString(),1,7)==GetEventPlayerChatStringMatched())and(StringLength(GetEventPlayerChatString())>7)endfunctionfunction Wh takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),K)==false)endfunctionfunction yh takes nothing returns booleanreturn(N==false)endfunctionfunction Yh takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction zh takes nothing returns nothingset Qx[(1+GetPlayerId(GetTriggerPlayer()))]=GetEnumUnit()endfunctionfunction Zh takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction vH takes nothing returns nothingset sx[(1+GetPlayerId(GetTriggerPlayer()))]=GetEnumUnit()endfunctionfunction eH takes nothing returns booleanreturn(GetItemType(bj_lastCreatedItem)==ITEM_TYPE_PURCHASABLE)endfunctionfunction xH takes nothing returns booleanreturn(R[I]<='d')endfunctionfunction oH takes nothing returns nothingset I=(I+1)set bj_forLoopBIndex=1set bj_forLoopBIndexEnd=R[I]loopexitwhen bj_forLoopBIndex>bj_forLoopBIndexEndset I=(I+1)set V=hg(R[I])call UnitAddItemByIdSwapped(V,sx[(1+GetPlayerId(GetTriggerPlayer()))])set I=(I+1)if(xH())thencall SetItemCharges(bj_lastCreatedItem,R[I])elseif(eH())thencall SetItemCharges(bj_lastCreatedItem,'d')elsecall SetItemCharges(bj_lastCreatedItem,R[I])endifendifset bj_forLoopBIndex=bj_forLoopBIndex+1endloopendfunctionfunction rH takes nothing returns booleanreturn(GetItemType(bj_lastCreatedItem)==ITEM_TYPE_PURCHASABLE)endfunctionfunction iH takes nothing returns booleanreturn(R[I]<='d')endfunctionfunction aH takes nothing returns nothingset I=(I+1)set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=R[I]loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset I=(I+1)set V=hg(R[I])call UnitAddItemByIdSwapped(V,Qx[(1+GetPlayerId(GetTriggerPlayer()))])set I=(I+1)if(iH())thencall SetItemCharges(bj_lastCreatedItem,R[I])elseif(rH())thencall SetItemCharges(bj_lastCreatedItem,'d')elsecall SetItemCharges(bj_lastCreatedItem,R[I])endifendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction nH takes nothing returns nothingif(Wh())thencall DisplayTimedTextToForce(YF(GetTriggerPlayer()),5.,"|cffff0000Load your Hero code before loading your Item Code.|r")returnendifset F="AmnopqrsJKLMNOPQRSTUV8765432DEFGHZWtuvwxyzXYBCabcdefghjk9"set O=SubStringBJ(GetEventPlayerChatString(),8,StringLength(GetEventPlayerChatString()))set N=sg(O)if(yh())thencall DisplayTextToForce(YF(GetTriggerPlayer()),"|cffffcc00Load Failed. Please recheck your code.|r")returnelsecall DisplayTextToForce(YF(GetTriggerPlayer()),"|cffffcc00Load Successful.|r")endifcall ForceAddPlayer(qx,GetTriggerPlayer())set I=1call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD,R[I])set I=(I+1)call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER,R[I])set I=(I+1)set hx[(1+GetPlayerId(GetTriggerPlayer()))]=R[I]set Px=yF(GetTriggerPlayer(),'h02J')set X=WF(GetTriggerPlayer(),Condition(function Yh))call ForGroupBJ(yF(GetTriggerPlayer(),'h02J'),function zh)call ForGroupBJ(WF(GetTriggerPlayer(),Condition(function Zh)),function vH)set ro=1loopexitwhen ro>6call RemoveItem(UnitItemInSlotBJ(Qx[(1+GetPlayerId(GetTriggerPlayer()))],ro))call RemoveItem(UnitItemInSlotBJ(sx[(1+GetPlayerId(GetTriggerPlayer()))],ro))set ro=ro+1endloopcall ForGroupBJ(X,function oH)call ForGroupBJ(Px,function aH)endfunctionfunction EH takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),1,7)==GetEventPlayerChatStringMatched())and(StringLength(GetEventPlayerChatString())>7)endfunctionfunction XH takes nothing returns booleanreturn(N==false)endfunctionfunction OH takes nothing returns nothingset F="OPQRSTUVZWAJKLMNtuvwxyz9abcdefghjkmnopqrs8765432XYBCDEFGH"set O=SubStringBJ(GetEventPlayerChatString(),8,StringLength(GetEventPlayerChatString()))set N=sg(O)if(XH())thencall DisplayTextToForce(YF(GetTriggerPlayer()),"|cffffcc00Your code is not valid! Recheck your code!|r")elsecall DisplayTextToForce(YF(GetTriggerPlayer()),"|cffffcc00Your code is valid!|r")endifendfunctionfunction IH takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),1,8)==GetEventPlayerChatStringMatched())and(StringLength(GetEventPlayerChatString())>8)endfunctionfunction AH takes nothing returns booleanreturn(N==false)endfunctionfunction NH takes nothing returns nothingset F="AmnopqrsJKLMNOPQRSTUV8765432DEFGHZWtuvwxyzXYBCabcdefghjk9"set O=SubStringBJ(GetEventPlayerChatString(),9,StringLength(GetEventPlayerChatString()))set N=sg(O)if(AH())thencall DisplayTextToForce(YF(GetTriggerPlayer()),"|cffffcc00Your code is not valid! Recheck your code!|r")elsecall DisplayTextToForce(YF(GetTriggerPlayer()),"|cffffcc00Your code is valid!|r")endifendfunctionfunction BH takes nothing returns nothingset Ni=(Ni+.01)endfunctionfunction CH takes nothing returns booleanreturn(IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO))!=nullendfunctionfunction dH takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetEventDamageSource()),Bi)==false)endfunctionfunction DH takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetEventDamageSource()),bi))endfunctionfunction fH takes nothing returns nothingif(DH())thenif(dH())thencall ForceAddPlayer(Bi,GetOwningPlayer(GetEventDamageSource()))set Ci[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=Niset Di[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=(Di[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]+GetEventDamage())elsecall ForceRemovePlayer(Bi,GetOwningPlayer(GetEventDamageSource()))call ForceRemovePlayer(bi,GetOwningPlayer(GetEventDamageSource()))set ci[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=(Ni-Ci[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))])set di[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=(Di[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]+GetEventDamage())set fi[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=(di[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]/ 2.)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetEventDamageSource())),8.,("|cffffcc00Damage Dealt|r: "+R2S(fi[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))])))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetEventDamageSource())),8.,("|cffffcc00Time Taken|r: "+R2S(ci[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))])))set Fi[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=(fi[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]/ ci[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))])call DisplayTimedTextToForce(YF(GetOwningPlayer(GetEventDamageSource())),8.,("|cffffcc00Damage Per Second|r: "+R2S(Fi[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))])))set Di[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=.0endifendifendfunctionfunction gH takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),bi)==false)endfunctionfunction GH takes nothing returns nothingcall ForceAddPlayer(bi,GetTriggerPlayer())call DisplayTimedTextToForce(YF(GetTriggerPlayer()),15.,"|cffffcc00Damage Per Second Calculator Enabled. Hit any target twice, and it will display your DPS. Bear in mind that real values are not infinite, so values might be shown as 1.499 instead of 1.5.|r")call DisplayTimedTextToForce(YF(GetTriggerPlayer()),15.,"|cffff0000Note: The DPS Calculator is only effective for single attacks. Spells that affect more than one unit (AoE, Cleave, etc) will produce unreliable results.|r")endfunctionfunction HH takes nothing returns nothingset Rn[1]=NOset Rn[2]=NEset Rn[3]=QXset Rn[4]=wOset Rn[5]=nRset Rn[6]=YOset Rn[7]=QRset Rn[8]=TXset Rn[9]=DRset Rn[$A]=sVset Rn[$B]=cOset Rn[$C]=zEset Rn[$D]=oIset An[1]=bOset An[2]=bEset An[3]=sXset An[4]=WOset An[5]=VRset An[6]=zOset An[7]=sRset An[8]=uXset An[9]=fRset An[$A]=SVset An[$B]=COset An[$C]=ZEset An[$D]=oIcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction JH takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H002')endfunctionfunction kH takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H001')endfunctionfunction KH takes nothing returns booleanreturn(GetBooleanOr(JH(),kH()))endfunctionfunction lH takes nothing returns nothingset Av=GetRectCenter(PV)call SetUnitPositionLoc(GetTriggerUnit(),Av)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),12.,"|cffffcc00Make sure that you are a level 10 Novice, and that your gender fits the specific class you are changing into.")call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),Av,0)call RemoveLocation(Av)endfunctionfunction mH takes nothing returns nothingset Av=GetRectCenter(qV)call SetUnitPositionLoc(GetTriggerUnit(),Av)call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),Av,0)call RemoveLocation(Av)endfunctionfunction pH takes nothing returns booleanreturn(GetUnitTypeId(GetEnteringUnit())=='H002')and(GetHeroLevel(GetEnteringUnit())>=$A)endfunctionfunction PH takes nothing returns nothingcall SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetEnteringUnit(),'H003',2)set x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastReplacedUnitcall AddSpecialEffectTargetUnitBJ("overhead",x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff8c00Congratulations! You have advanced to the 1st Job!|r")call SetUnitPositionLoc(x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetRectCenter(qV))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(qV),0)call SelectUnitForPlayerSingle(x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(OI)call TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction QH takes nothing returns booleanreturn(GetUnitTypeId(GetEnteringUnit())=='H002')and(GetHeroLevel(GetEnteringUnit())>=$A)endfunctionfunction sH takes nothing returns nothingcall SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetEnteringUnit(),'H005',2)set x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastReplacedUnitcall AddSpecialEffectTargetUnitBJ("overhead",x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff8c00Congratulations! You have advanced to the 1st Job!|r")call SetUnitPositionLoc(x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetRectCenter(qV))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(qV),0)call SelectUnitForPlayerSingle(x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(OI)call TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction tH takes nothing returns booleanreturn(GetUnitTypeId(GetEnteringUnit())=='H001')and(GetHeroLevel(GetEnteringUnit())>=$A)endfunctionfunction TH takes nothing returns nothingcall SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetEnteringUnit(),'H00B',2)set x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastReplacedUnitcall AddSpecialEffectTargetUnitBJ("overhead",x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff8c00Congratulations! You have advanced to the 1st Job!|r")call SetUnitPositionLoc(x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetRectCenter(qV))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(qV),0)call SelectUnitForPlayerSingle(x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(OI)call TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction UH takes nothing returns booleanreturn(GetUnitTypeId(GetEnteringUnit())=='H002')and(GetHeroLevel(GetEnteringUnit())>=$A)endfunctionfunction wH takes nothing returns nothingcall SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetEnteringUnit(),'H008',2)set x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastReplacedUnitcall AddSpecialEffectTargetUnitBJ("overhead",x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff8c00Congratulations! You have advanced to the 1st Job!|r")call SetUnitPositionLoc(x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetRectCenter(qV))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(qV),0)call SelectUnitForPlayerSingle(x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(OI)call TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction yH takes nothing returns booleanreturn(GetUnitTypeId(GetEnteringUnit())=='H001')and(GetHeroLevel(GetEnteringUnit())>=$A)endfunctionfunction YH takes nothing returns nothingcall SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetEnteringUnit(),'H00A',2)set x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastReplacedUnitcall AddSpecialEffectTargetUnitBJ("overhead",x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff8c00Congratulations! You have advanced to the 1st Job!|r")call SetUnitPositionLoc(x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetRectCenter(qV))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(qV),0)call SelectUnitForPlayerSingle(x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(OI)call TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction ZH takes nothing returns booleanreturn(GetHeroLevel(GetEnteringUnit())>=$A)endfunctionfunction vj takes nothing returns booleanreturn(GetUnitTypeId(GetEnteringUnit())=='H002')endfunctionfunction ej takes nothing returns booleanreturn(GetUnitTypeId(GetEnteringUnit())=='H001')endfunctionfunction xj takes nothing returns nothingcall SetHeroLevelBJ(GetTriggerUnit(),1,false)if(vj())thencall ReplaceUnitBJ(GetEnteringUnit(),'H007',2)endifif(ej())thencall ReplaceUnitBJ(GetEnteringUnit(),'H004',2)endifset x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastReplacedUnitcall AddSpecialEffectTargetUnitBJ("overhead",x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff8c00Congratulations! You have advanced to the 1st Job!|r")call SetUnitPositionLoc(x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetRectCenter(qV))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(qV),0)call SelectUnitForPlayerSingle(x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(OI)call TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction rj takes nothing returns booleanreturn(GetUnitTypeId(GetEnteringUnit())=='H002')and(GetHeroLevel(GetEnteringUnit())>=$A)endfunctionfunction ij takes nothing returns nothingcall SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetEnteringUnit(),'H009',2)set x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastReplacedUnitcall AddSpecialEffectTargetUnitBJ("overhead",x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff8c00Congratulations! You have advanced to the 1st Job!|r")call SetUnitPositionLoc(x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetRectCenter(qV))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(qV),0)call SelectUnitForPlayerSingle(x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(OI)call TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction nj takes nothing returns booleanreturn(GetUnitTypeId(GetEnteringUnit())=='H002')and(GetHeroLevel(GetEnteringUnit())>=$A)endfunctionfunction Vj takes nothing returns nothingcall SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetEnteringUnit(),'H006',2)set x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastReplacedUnitcall AddSpecialEffectTargetUnitBJ("overhead",x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff8c00Congratulations! You have advanced to the 1st Job!|r")call SetUnitPositionLoc(x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetRectCenter(qV))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(qV),0)call SelectUnitForPlayerSingle(x[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(OI)call TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction Xj takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H003')and(GetOrderTargetUnit()==tf)and(GetHeroLevel(GetTriggerUnit())>=40)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),xv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Oj takes nothing returns nothingcall ForceAddPlayer(xv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebWell, well well...Another hopeful wanting to be a Knight. Tell you what, in order to be initiated into the Order of Silvasia's Finest Knights, you will have to demostrate your chivalry and skill. If you can kill Frostfang, who resides in the Ice Dungeon southeast of here, I'll initiate you into our Order. Now get moving, soldier!")call PlaySoundBJ(AI)call CreateQuestBJ(0,("2nd Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"Blast! Why does everything have to be so hard? I have to kill Frostfang in order to advance into a Knight. Let's hope he's friendly...","ReplaceableTextures\\CommandButtons\\BTNHire.blp")set ov[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction Ij takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='U000')and(GetUnitTypeId(GetKillingUnit())=='H003')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),xv))endfunctionfunction Aj takes nothing returns nothingcall ForceAddPlayer(rv,GetOwningPlayer(GetKillingUnit()))call QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc002nd Job Advancement Quest Completed|r.")endfunctionfunction bj takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H003')and(GetOrderTargetUnit()==tf)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),rv))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Bj takes nothing returns nothingcall ForceRemovePlayer(xv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(rv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebWell done! My men were secretly watching you; don't ask how. In any case, you are now fully initiated into our order! Congratulations...Knight. Perhaps one day when you are strong enough, we shall speak again.")call PlaySoundBJ(XI)call DestroyQuest(ov[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H00J',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction Cj takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00A')and(GetOrderTargetUnit()==Uf)and(GetHeroLevel(GetTriggerUnit())>=40)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),xv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction dj takes nothing returns nothingcall ForceAddPlayer(xv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebYoung one, I can feel the psionic potential within you. Do you wish to become an ArchTemplar and wield greater psionic powers and master a higher level of warp blade arts? If so, go out there and kill 15 bandits. Return to me when the deed is done.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("2nd Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"In order to become an ArchTemplar, I need to achieve perfection in my skills. I must kill 15 Bandits.","ReplaceableTextures\\CommandButtons\\BTNHire.blp")set ov[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction fj takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='n00Q')and(GetUnitTypeId(GetKillingUnit())=='H00A')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),xv))endfunctionfunction Fj takes nothing returns booleanreturn(iv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=$F)endfunctionfunction gj takes nothing returns nothingset iv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(iv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(Fj())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc002nd Job Advancement Quest Completed|r.")call ForceAddPlayer(rv,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(iv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Bandit(s) killed."))endifendfunctionfunction hj takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00A')and(GetOrderTargetUnit()==Uf)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),rv))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Hj takes nothing returns nothingcall ForceRemovePlayer(xv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(rv,GetOwningPlayer(GetTriggerUnit()))set iv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebYou did extremely well, padawan. From here on out, you shall be an ArchTemplar. Bear in mind, however, that you should choose your skills wisely, according to which 3rd job class you want to be. Not having the required skills needed of you when you try to advance will result in failure.")call PlaySoundBJ(XI)call DestroyQuest(ov[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H00K',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction Jj takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H008')and(GetOrderTargetUnit()==Tf)and(GetHeroLevel(GetTriggerUnit())>=40)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),xv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction kj takes nothing returns nothingcall ForceAddPlayer(xv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebWhat are you doing here, Thief? Auditioning to become a rogue? Hrrh, I must first give you a little test. See, I have this little problem; pesky little bandits outside the city and even outside of Espenia Town have been robbing travelers and innocent people of their money, and as a member of the Thieves Guild, I cannot stand by and let these bastards ruin our name. So YOU are going to get rid of 15 of them for me. If you do, I shall formally initiate you into our guild as one of our own.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("2nd Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"Bandits are ruining the Thieves' Guild name by robbing innocent people. I must kill 15 Bandits, to teach them a lesson and to be initiated into the Guild.","ReplaceableTextures\\CommandButtons\\BTNHire.blp")set ov[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction lj takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='n00Q')and(GetUnitTypeId(GetKillingUnit())=='H008')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),xv))endfunctionfunction Lj takes nothing returns booleanreturn(iv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=$F)endfunctionfunction mj takes nothing returns nothingset iv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(iv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(Lj())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc002nd Job Advancement Quest Completed|r.")call ForceAddPlayer(rv,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(iv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Bandit(s) killed."))endifendfunctionfunction pj takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H008')and(GetOrderTargetUnit()==Tf)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),rv))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Pj takes nothing returns nothingcall ForceRemovePlayer(xv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(rv,GetOwningPlayer(GetTriggerUnit()))set iv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebHa ha! That'll teach those cunts a lesson not to mess with the Thieves' Guild indirectly! As for you, you have shown yourself to be truly capable, so I shall formally accept you into our Guild as a rogue. Work hard, and we'll probably meet each other again someday.")call PlaySoundBJ(XI)call DestroyQuest(ov[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H00L',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction Qj takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00B')and(GetOrderTargetUnit()==sf)and(GetHeroLevel(GetTriggerUnit())>=40)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),xv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction sj takes nothing returns nothingcall ForceAddPlayer(xv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebHello there, fellow archer. I see you are pretty skilled in the ways of the bow. Hold on there, though; I won't let you into the Hunters' Guild so easily. You've got to prove that you can hunt. I'll tell you what, I'll go easy on you and not ask you to bring back proof of the deed, but I'll be sending some of my members to watch you from afar while you perform the task. Hunt down 5 Frost Wolves and 5 Polar Furbolgs. Do not ask where to find them; a skilled Hunter is able to track down her prey in any situation.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("2nd Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I need to hunt down 5 Polar Furbolgs and 5 Frost Wolves. Where can I find them? Probably somewhere cold, hence the name...","ReplaceableTextures\\CommandButtons\\BTNHire.blp")set ov[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction tj takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='n00J')and(GetUnitTypeId(GetKillingUnit())=='H00B')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),xv))endfunctionfunction Tj takes nothing returns booleanreturn(Ev[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=5)endfunctionfunction uj takes nothing returns nothingset Ev[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(Ev[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(Tj())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00Wolves Requirement Completed|r.")call ForceAddPlayer(Ov,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(Ev[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Wolf/Wolves killed."))endifendfunctionfunction wj takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='n008')and(GetUnitTypeId(GetKillingUnit())=='H00B')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),xv))endfunctionfunction Wj takes nothing returns booleanreturn(Xv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=5)endfunctionfunction yj takes nothing returns nothingset Xv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(Xv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(Wj())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00Furbolg Requirement Completed|r.")call ForceAddPlayer(rv,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(Xv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Furbolg(s) killed."))endifendfunctionfunction zj takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00B')and(GetOrderTargetUnit()==sf)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ov))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),rv))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Zj takes nothing returns nothingcall ForceRemovePlayer(xv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Ov,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(rv,GetOwningPlayer(GetTriggerUnit()))set Xv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0set Ev[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebThat was a spectacular hunt! I didn't expect you to find them...and so deftly done as well! Very well, archer. You have proven your mantle and skill in hunting. From now onwards, you shall be a Hunter, and be part of the Hunters' Guild. I hope we meet again.")call PlaySoundBJ(XI)call DestroyQuest(ov[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H00G',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction eJ takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H007')endfunctionfunction xJ takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H004')endfunctionfunction oJ takes nothing returns booleanreturn(GetBooleanOr(eJ(),xJ()))and(GetOrderTargetUnit()==uf)and(GetHeroLevel(GetTriggerUnit())>=40)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Rv)==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),av)==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),nv)==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Vv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction rJ takes nothing returns nothingcall ForceAddPlayer(Rv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebAre you here to advance into a Cleric? My child, the path of light is easy to stray from, and being a faithful servant to the Highfather and Melitele is no easy task. That being said, I will need you to prove your devotion to the light. Seek out Skypper and follow his instructions. When you are done, return to me.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("2nd Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I must prove to the father that I will not stray from the righteous path and continue to be a faithful servant of the light. I must seek out Skypper and follow his instructions.","ReplaceableTextures\\CommandButtons\\BTNHire.blp")set ov[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction aJ takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='n00C')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Rv))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction nJ takes nothing returns nothingcall ForceRemovePlayer(Rv,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(av,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Skypper|r : |cff87ceebOh, so the Father has sent you to me? Ah, yes...well, go talk to Bob the Master Craftsman and then come back to me. Hurry along, now.")call QuestSetDescription(ov[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Skypper says I need to talk to Bob the Master Craftsman, who should be in the city.")endfunctionfunction EJ takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='n00B')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),av))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction XJ takes nothing returns nothingcall ForceRemovePlayer(av,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(nv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Bob the Master Craftsman|r : |cff87ceebWhat? Skypper sent you? Oh it must be about that...well, go back to Skypper and tell him that I will complete it as soon as possible.")call QuestSetDescription(ov[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I should go back to Skypper now.")endfunctionfunction RJ takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='n00C')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),nv))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction IJ takes nothing returns nothingcall ForceRemovePlayer(nv,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Vv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Skypper|r : |cff87ceebHmm, back already? Must be tiring for you to run up and down, heh. Anyways, you've done what I asked. Tell the Father that you have \"done the Highfather's will\", as proof of the deed.")call QuestSetDescription(ov[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I should go back to the Father, so I can advance my class.")endfunctionfunction NJ takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H007')endfunctionfunction bJ takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H004')endfunctionfunction BJ takes nothing returns booleanreturn(GetBooleanOr(NJ(),bJ()))and(GetOrderTargetUnit()==uf)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Vv))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction cJ takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H007')endfunctionfunction CJ takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H004')endfunctionfunction dJ takes nothing returns nothingcall ForceRemovePlayer(Vv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebNicely done, my child. I sent you on that long run because I needed to know that you are really devoted to the light and would remain true to constant prayer. You have...\"passed\" my test, and shall henceforth be a Cleric, and spread the good word.")call PlaySoundBJ(XI)call DestroyQuest(ov[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)if(cJ())thencall ReplaceUnitBJ(GetTriggerUnit(),'H00E',2)endifif(CJ())thencall ReplaceUnitBJ(GetTriggerUnit(),'H00F',2)endifcall SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction fJ takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H006')and(GetOrderTargetUnit()==Qf)and(GetHeroLevel(GetTriggerUnit())>=40)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction FJ takes nothing returns nothingcall DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebYou seem to have mastered the ways of balance and tranquility, young one. So from here on out, you shall be an ArchDruid. When choosing your skills, make sure you know what you want to be. If you go for Elemental skills, then you are on the path to becoming a powerful Shaman. If you go for Shapeshifting skills, however, then you are aiming to become a swift Shapeshifter.")call PlaySoundBJ(XI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H00H',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction GJ takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H005')and(GetOrderTargetUnit()==qf)and(GetHeroLevel(GetTriggerUnit())>=40)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction hJ takes nothing returns nothingcall DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebI can feel the immense power growing within you, initiate! You have mastered the sources well, and shall be an initiate no longer. As a mage, the spells you cast shall inflict greater damage than ever before.")call PlaySoundBJ(XI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H00I',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction jJ takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H009')and(GetOrderTargetUnit()==Sf)and(GetHeroLevel(GetTriggerUnit())>=40)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction JJ takes nothing returns nothingcall DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebAh, a novice Witch Hunter! We differ from the rest, you know, as mutants. Although we seek to ferret out justice and destroy monsters, we are after all, mutants and different from the rest. This is a very difficult path, Witch Hunter, but from now onwards, you shall be a slayer.")call PlaySoundBJ(XI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H00M',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction KJ takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00L')and(GetOrderTargetUnit()==Tf)and(GetHeroLevel(GetTriggerUnit())>=99)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction lJ takes nothing returns nothingcall ForceAddPlayer(lv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebHmm, I see you've gotten stronger...way stronger than when I first met you. This is good. However, I am afraid I cannot advance you anymore. You need a letter of recommendation to prove that you are worthy to join the higher ranks...and now it is time. You have to choose - the ways of the assassin or the Stalker. Seek out the loner Assassin Jim if you wish to be an assassin - he's usually in the woods training. Or you can choose to find the Stalker Raynor; he has a secret base somewhere in the Forgotten Woods. Find them; complete their tasks, and bring back to me a letter of recommendation. Choose one path, and never look back again for you can no longer choose the other. May Shadow Hide You.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("3rd Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"TRIGSTR_5131","ReplaceableTextures\\CommandButtons\\BTNSell.blp")set Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction mJ takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00L')and(GetUnitTypeId(GetOrderTargetUnit())=='h00Y')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction MJ takes nothing returns nothingcall ForceAddPlayer(mv,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Stalker Raynor|r : |cff87ceebWell, well, well, what do we have here? Another hopeful? We don't just initiate anyone into the high-ups of the Thieves' Guild you know. Unlike the Assassins' Guild, we don't just kill; we take pleasure in the hunt itself. Prove yourself to me; hunt down and kill a villager called Rufio. Stalk him; stalk him and end his pathetic life...and only then shall you have my recommendation.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to find a villager named Rufio and kill him. I should search in the towns and cities.")endfunctionfunction PJ takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='h00Z')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),mv))and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),pv)==false)endfunctionfunction qJ takes nothing returns nothingcall ForceAddPlayer(pv,GetOwningPlayer(GetKillingUnit()))call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I killed the old villager, Rufio. It wasn't hard...in fact, it was... pleasurable. Heh.")call DisplayTimedTextToForce(YF(GetOwningPlayer(GetKillingUnit())),5.,"|cffffcc00You have killed Rufio|r.")endfunctionfunction sJ takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='h00Y')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),mv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),pv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Qv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction SJ takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())!=6)endfunctionfunction tJ takes nothing returns nothingif(SJ())thencall ForceAddPlayer(Qv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(NI)call UnitAddItemByIdSwapped('I00U',GetTriggerUnit())call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Stalker Raynor|r : |cff87ceebWell done, Rogue! Did you make him squeal like the pig he is? I bet you did. So, you fufilled the task as promised...so you shall have my...recommendation. Welcome to the TRUE Thieves' Guild...Stalker.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I have it! I have the recommendation! Now to get back to my Class Trainer...")elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),7.,"|cffff0000Inventory full! Cannot receive recommendation!|r")endifendfunctionfunction uJ takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00L')and(GetUnitTypeId(GetOrderTargetUnit())=='h00X')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction UJ takes nothing returns nothingcall ForceAddPlayer(qv,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Jim the Assassin|r : |cff87ceebWho dares to disturb my training? Ah, you're here for a letter of recommendation, right? It just so happens I have a task for you. There is a...certain monster that needs to be killed. His name is Stitches; an abomination spawned of a dark necromancer. Kill him and bring me his dagger. It should not be a problem for you if you wish to enter the Assassin's Guild.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to kill Stitches and bring Stitches' Dagger to Jim to gain a letter of recommendation.")endfunctionfunction WJ takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='h00X')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),qv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),pv)==false)and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00O'))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction yJ takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())!=6)endfunctionfunction YJ takes nothing returns nothingif(yJ())thencall PlaySoundBJ(NI)call ForceAddPlayer(pv,GetOwningPlayer(GetTriggerUnit()))call UnitAddItemByIdSwapped('I00T',GetTriggerUnit())call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Jim the Assassin|r : |cff87ceebNicely done, rogue. Keep the dagger; I was merely testing your prowess...you have passed. Here is my recommendation. Welcome to the Assassins' Guild, guildmate.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I have it! I have the recommendation! Now to get back to my Class Trainer...")elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),7.,"|cffff0000Inventory full! Cannot receive recommendation!|r")endifendfunctionfunction ZJ takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00J')and(GetOrderTargetUnit()==tf)and(GetHeroLevel(GetTriggerUnit())>=99)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction vk takes nothing returns nothingcall ForceAddPlayer(lv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebAh, I was expecting you, Knight. Have you come for a promotion? I understand that the King himself has heard of your heroic deeds, and would like to speak to you, but only if you wish to join his royal army and become an Imperial Knight. However, if you wish to opt to become a defender of evil, then I suggest you speak to Emry the Crusader. Now please, enter the cathedral beside me and choose wisely before speaking to them.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("3rd Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"TRIGSTR_5296","ReplaceableTextures\\CommandButtons\\BTNSell.blp")set Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction xk takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00J')and(GetUnitTypeId(GetOrderTargetUnit())=='h01I')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction ok takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())!=6)endfunctionfunction rk takes nothing returns nothingif(ok())thencall PlaySoundBJ(NI)call ForceAddPlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00King Foltest|r : |cff87ceebAh, please dispense with the formalities, Knight. I have heard of your deeds throughout the land; ridding the land of the wicked monsters and making Silvasia a much safer place. What I offer to you now is a chance to join the ranks of my Royal Army and become an Imperial Knight. Here, take this letter and give it to your Class Trainer. You deserve it.")call UnitAddItemByIdSwapped('I00W',GetTriggerUnit())call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I got a recommendation letter from the King himself. What an honor.")elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),7.,"|cffff0000Inventory full! Cannot receive recommendation!|r")endifendfunctionfunction ak takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00J')and(GetUnitTypeId(GetOrderTargetUnit())=='h01J')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction nk takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())!=6)endfunctionfunction Vk takes nothing returns nothingif(nk())thencall PlaySoundBJ(NI)call ForceAddPlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Emry the Crusader|r : |cff87ceebYou have arrived. Perfect. I assume you are ready to become a crusader and help the people of Silvasia. Usually I would task you with killing some monsters. But you have already killed much during your travels so I will test you no more. Take this letter with my blessings and go.")call UnitAddItemByIdSwapped('I00V',GetTriggerUnit())call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I obtained the letter from Emry. Its time to advance.")call PlaySoundAtPointBJ(BI,'d',GetUnitLoc(GetTriggerUnit()),0)call GF(10.)call PlaySoundAtPointBJ(cI,'d',GetUnitLoc(GetTriggerUnit()),0)elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),7.,"|cffff0000Inventory full! Cannot receive recommendation!|r")endifendfunctionfunction Xk takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00K')and(GetOrderTargetUnit()==Uf)and(GetHeroLevel(GetTriggerUnit())>=99)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Ok takes nothing returns nothingcall ForceAddPlayer(lv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebSo we meet again, fellow Templar. I am afraid I cannot advance you unless I receive a letter of recommendation from some of our Masters. But now is the time to choose, young one. Will you follow the path of the light and become a powerful spellcasting High Templar? Eva is waiting for you in the marshlands. Or will you follow the path of darkness and become a double Warp blader; a Dark Templar? Sinclaire is meditating in the dark grove north of here. Your decision will change you forever and you will draw upon the psionic powers of the light or dark based on it. Choose well.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("3rd Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"TRIGSTR_5315","ReplaceableTextures\\CommandButtons\\BTNSell.blp")set Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction Ik takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00K')and(GetUnitTypeId(GetOrderTargetUnit())=='h01H')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Ak takes nothing returns booleanreturn(GetUnitAbilityLevelSwapped('A01Y',GetTriggerUnit())==30)and(GetUnitAbilityLevelSwapped('A020',GetTriggerUnit())==30)endfunctionfunction Nk takes nothing returns nothingif(Ak())thencall ForceAddPlayer(ie,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Sinclaire the Dark One|r : |cff87ceebI can see from your stance that you have mastered the basic arts of Warp Blade techniques...but that is not enough to impress me. I have discovered that the once docile Owlkin here have been driven to madness because of this dark taint. In order to purify it, you must relieve their suffering. Kill 15 of them and it should prove sufficient.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to relieve 15 of the Enraged Owlkins here of their suffering.")elsecall DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Sinclaire the Dark One|r : |cffff0000You are not well learned enough in the Warp Blade techniques. Master all of them first before returning to me.")endifendfunctionfunction Bk takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n019')and(UnitHasItemOfTypeBJ(GetKillingUnit(),'I012')==false)and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),ie))endfunctionfunction ck takes nothing returns booleanreturn(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=$F)endfunctionfunction Ck takes nothing returns nothingset ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(ck())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc003rd Job Advancement Quest Completed|r.")call ForceAddPlayer(pv,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Enraged Owlkin(s) killed."))endifendfunctionfunction Dk takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='h01H')and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I012')==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),ie))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),pv))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction fk takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())!=6)endfunctionfunction Fk takes nothing returns nothingif(fk())thencall PlaySoundBJ(NI)call UnitAddItemByIdSwapped('I012',GetTriggerUnit())call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Sinclaire the Dark One|r : |cff87ceebPerfectly done. You might just make a decent Dark Templar yet...Here's your letter of recommendation.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I have it! I have the recommendation! Now to get back to my Class Trainer...")elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),7.,"|cffff0000Inventory full! Cannot receive recommendation!|r")endifendfunctionfunction Gk takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00K')and(GetUnitTypeId(GetOrderTargetUnit())=='h01N')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction hk takes nothing returns booleanreturn(GetUnitAbilityLevelSwapped('A01X',GetTriggerUnit())==30)and(GetUnitAbilityLevelSwapped('A01Z',GetTriggerUnit())==30)endfunctionfunction Hk takes nothing returns nothingif(hk())thencall ForceAddPlayer(ae,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Eva of the High Council|r : |cff87ceebI can feel your psionic powers, fellow Templar. Now is the time to put them to the test. Kill 20 of the Lizardmen here and you shall receive my recommendation.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to kill 20 Lizardmen.")elsecall DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Eva of the High Council|r : |cffff0000No, you are not ready yet, fellow Templar. You need to master all of your Psionic Arts first before returning to me.")endifendfunctionfunction Jk takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n016')and(UnitHasItemOfTypeBJ(GetKillingUnit(),'I011')==false)and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),ae))endfunctionfunction kk takes nothing returns booleanreturn(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=20)endfunctionfunction Kk takes nothing returns nothingset ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(kk())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc003rd Job Advancement Quest Completed|r.")call ForceAddPlayer(pv,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Lizardman/Lizardmen killed."))endifendfunctionfunction Lk takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='h01N')and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I011')==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),ae))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),pv))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction mk takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())!=6)endfunctionfunction Mk takes nothing returns nothingif(mk())thencall PlaySoundBJ(NI)call UnitAddItemByIdSwapped('I011',GetTriggerUnit())call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Eva of the High Council|r : |cff87ceebNicely done. You have the makings of a powerful High Templar...Here's your letter of recommendation.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I have it! I have the recommendation! Now to get back to my Class Trainer...")elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),7.,"|cffff0000Inventory full! Cannot receive recommendation!|r")endifendfunctionfunction Pk takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00I')and(GetOrderTargetUnit()==qf)and(GetHeroLevel(GetTriggerUnit())>=99)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction qk takes nothing returns nothingcall ForceAddPlayer(lv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebI can feel your powers, young one! You are truly gifted and highly skilled in the Arcane Arts! At this rate you might even become one of the best mages in the land. However, I am afraid I cannot advance you without a letter of recommendation. First off, you should have in mind what class you would like to go to. Would you like to become a powerful mage wielding the powers of the arcane arts; a Wizard? Or would you like to become an extremely adaptable Sage, wielding the Arcane arts according to different situations? Seek out the Wizard Hannah in the Mage's Tower if you wish to become a Wizard. She is young, but she is one of our most promising masters. If you would like to be a Sage, speak to Master Ember in the Arcane Sanctuary. He is a good friend of Eve, who is the strongest mage in Silvasia if you've never heard of her and his powers are immense as well, even if he is not as powerful as Eve herself.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("3rd Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"TRIGSTR_5319","ReplaceableTextures\\CommandButtons\\BTNSell.blp")set Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction sk takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00I')and(GetUnitTypeId(GetOrderTargetUnit())=='h01O')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Sk takes nothing returns nothingcall ForceAddPlayer(Oe,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Wizard Hannah|r : |cff87ceebGoodness me! You're here for a recommendation? Well, I can't just give away one, if you know what I mean. First off, I need you to do something for me. I need to acquire a certain...item, for my research. It is a power shard. Based on its powerful qualities, I can imagine that it will be difficult to obtain it, but I know that the Free Market sells some... As for its price, you will handle all payment. Think of it as...the price for a letter of recommendation.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to obtain a power shard. I can either buy it at the Free Market or obtain some by other means...")endfunctionfunction Tk takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='h01O')and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00X')==false)and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=1)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Oe))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction uk takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())!=6)endfunctionfunction Uk takes nothing returns nothingif(uk())thencall PlaySoundBJ(NI)call AdjustPlayerStateBJ(-1,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)call UnitAddItemByIdSwapped('I00X',GetTriggerUnit())call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Wizard Hannah|r : |cff87ceebWow, you managed to obtain a power shard eh? I'll just take that from you then. Well, you did what I asked, so I believe you earned this letter.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I have it! I have the recommendation! Now to get back to my Class Trainer...")elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),7.,"|cffff0000Inventory full! Cannot receive recommendation!|r")endifendfunctionfunction Wk takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00I')and(GetUnitTypeId(GetOrderTargetUnit())=='h01M')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction yk takes nothing returns nothingcall ForceAddPlayer(Ve,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Master Ember|r : |cff87ceebYou managed to get this far...well done, mage. However, as you have seen, the Arcane Sanctuary is no longer as peaceful as it should be. It has been overrun with minions from another dimension and I want them gone. However, since you're here, it makes things easier abit. Kill 30 of the minions, and you shall earn my recommendation.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to kill 30 minions in the Arcane Sanctuary. Any of them will suffice.")endfunctionfunction zk takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01A')or(GetUnitTypeId(GetDyingUnit())=='n01C')or(GetUnitTypeId(GetDyingUnit())=='n018')endfunctionfunction Zk takes nothing returns booleanreturn(zk())and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Ve))and(UnitHasItemOfTypeBJ(GetKillingUnit(),'I00Y')==false)endfunctionfunction vK takes nothing returns booleanreturn(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=30)endfunctionfunction eK takes nothing returns nothingset ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(vK())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc003rd Job Advancement Quest Completed|r.")call ForceAddPlayer(pv,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Minion(s) killed."))endifendfunctionfunction oK takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='h01M')and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00Y')==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),pv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ve))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction rK takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())!=6)endfunctionfunction iK takes nothing returns nothingif(rK())thencall PlaySoundBJ(NI)call UnitAddItemByIdSwapped('I00Y',GetTriggerUnit())call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Master Ember|r : |cff87ceebWell done. I shall test you no more. You have my thanks, so take this letter of recommendation. You have certainly earned it.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I have it! I have the recommendation! Now to get back to my Class Trainer...")elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),7.,"|cffff0000Inventory full! Cannot receive recommendation!|r")endifendfunctionfunction nK takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00M')and(GetOrderTargetUnit()==Sf)and(GetHeroLevel(GetTriggerUnit())>=99)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction VK takes nothing returns nothingcall ForceAddPlayer(lv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebYou have come. I understand that you are ready, young one? Well, we shall see. Seek out the Witcher Berengar if you wish to become a Witcher. He can be found somewhere in the Forgotten Woods if I'm not wrong. If you seek to become an Inquisitor, speak to Count Crowley and you can join his fanatical group of demon-hunting slayers. He can be found in the Cathedral right here in this city. Find them, and bring back to me a letter of recommendation. I shall be waiting.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("3rd Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"TRIGSTR_5317","ReplaceableTextures\\CommandButtons\\BTNSell.blp")set Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction XK takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00M')and(GetUnitTypeId(GetOrderTargetUnit())=='h01L')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction OK takes nothing returns nothingcall ForceAddPlayer(Ne,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Berengar the Witcher|r : |cff87ceebA letter of recommendation? Hmm, you might just do the trick... Very well, kill these monsters right here in the Forgotten Forest. Kill 50 of them, and I shall hand you a letter of recommendation.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to kill 50 monsters in the Forgotten Forest.")endfunctionfunction IK takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n00L')or(GetUnitTypeId(GetDyingUnit())=='n00P')or(GetUnitTypeId(GetDyingUnit())=='n00M')or(GetUnitTypeId(GetDyingUnit())=='n00N')or(GetUnitTypeId(GetDyingUnit())=='n00O')endfunctionfunction AK takes nothing returns booleanreturn(IK())and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Ne))and(UnitHasItemOfTypeBJ(GetKillingUnit(),'I015')==false)endfunctionfunction NK takes nothing returns booleanreturn(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=50)endfunctionfunction bK takes nothing returns nothingset ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(NK())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc003rd Job Advancement Quest Completed|r.")call ForceAddPlayer(pv,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Monster(s) killed."))endifendfunctionfunction cK takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00M')and(GetUnitTypeId(GetOrderTargetUnit())=='h01L')and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I015')==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),pv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ne))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction CK takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())!=6)endfunctionfunction dK takes nothing returns nothingif(CK())thencall PlaySoundBJ(NI)call UnitAddItemByIdSwapped('I015',GetTriggerUnit())call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Berengar the Witcher|r : |cff87ceebNicely done...I did not think you would have succeeded. Anyways, here is your recommendation. You have certainly earned it.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I have it! I have the recommendation! Now to get back to my Class Trainer...")elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),7.,"|cffff0000Inventory full! Cannot receive recommendation!|r")endifendfunctionfunction fK takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00M')and(GetUnitTypeId(GetOrderTargetUnit())=='h01K')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction FK takes nothing returns nothingcall ForceAddPlayer(be,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Count Crowley|r : |cff87ceebWell, well well. You seek a letter of recommendation? Very well...prove yourself to me. Kill 15 Lizardman Sorcerers and I shall deem you worthy.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to kill 15 Lizardman Sorcerers.")endfunctionfunction GK takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n017')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),be))and(UnitHasItemOfTypeBJ(GetKillingUnit(),'I017')==false)endfunctionfunction hK takes nothing returns booleanreturn(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=$F)endfunctionfunction HK takes nothing returns nothingset ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(hK())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc003rd Job Advancement Quest Completed|r.")call ForceAddPlayer(pv,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Lizardman Sorcerer(s) killed."))endifendfunctionfunction JK takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00M')and(GetUnitTypeId(GetOrderTargetUnit())=='h01K')and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I017')==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),pv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),be))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction kK takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())!=6)endfunctionfunction KK takes nothing returns nothingif(kK())thencall PlaySoundBJ(NI)call UnitAddItemByIdSwapped('I017',GetTriggerUnit())call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Count Crowley|r : |cff87ceebBrilliant execution of those demons! Yes...yes...you might do. Very well, here is my recommendation! Never forget to vanquish all monsters and demons you find! Without exception!")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I have it! I have the recommendation! Now to get back to my Class Trainer...")elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),7.,"|cffff0000Inventory full! Cannot receive recommendation!|r")endifendfunctionfunction LK takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00E')endfunctionfunction mK takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00F')endfunctionfunction MK takes nothing returns booleanreturn(GetBooleanOr(LK(),mK()))and(GetOrderTargetUnit()==uf)and(GetHeroLevel(GetTriggerUnit())>=99)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction pK takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00E')endfunctionfunction PK takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00F')endfunctionfunction qK takes nothing returns nothingcall ForceAddPlayer(lv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(AI)if(pK())thencall DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebAh my child. You have arrived. Speak to the High Priest Stendarr for he has a task for you. Complete the task, and you shall gain a letter of recommendation which will prove that you are worthy to further spread the Highfather's word. Go now, he is waiting in the Cathedral right here in this city.")call CreateQuestBJ(0,("3rd Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I must speak to the High Priest Stendarr, for he has a task for me. I need to complete it and gain a letter of recommendation.","ReplaceableTextures\\CommandButtons\\BTNSell.blp")set Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendifif(PK())thencall DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebWelcome, young Cleric. You have been rather diligent in spreading the goddess Melitele's word. That is good, for now has come the time for you to further advance. The Priestess Shari has personally asked for you. She is waiting right outside of the City; just turn right at the first junction after passing the northern gates. Go, go and speak to her, and if she finds you worthy she will hand you a letter of recommendation, which you shall bring to me if you wish to advance.")call CreateQuestBJ(0,("3rd Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I must speak to the Priestess Shari. She has sent for me, and I must do my best to aid her, so she might find me worthy and write a letter of recommendation for me. She can be found just outside of the City, turning right at the very first junction.","ReplaceableTextures\\CommandButtons\\BTNSell.blp")set Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendifendfunctionfunction sK takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00E')and(GetUnitTypeId(GetOrderTargetUnit())=='h01G')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction SK takes nothing returns nothingcall ForceAddPlayer(Be,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Stendarr|r : |cff87ceebYes, cleric. I have been expecting you. The people have been whispering tales of your exploits, and I must say, I am impressed. But now is not the time for idle chatter. You see, in order to obtain a letter of recommendation, you must first go through what we call the \"Rites of the Highfather\". It is standard procedure for all male clerics who wish to advance into the higher classes of the Church. Speak to Priestess Shari and she shall guide you further.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to speak to Priestess Shari.")endfunctionfunction TK takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00E')and(GetUnitTypeId(GetOrderTargetUnit())=='h01P')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Be))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),pv)==false)and(Ce[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==0)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction uK takes nothing returns nothingset Ce[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=1call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Priestess Shari|r : |cff87ceebStendarr sent you to me? Well, I can't help you much my child. I only handle the female clerics...but if its the Rites of the Highfather you seek...well. There is a...fountain northwest of here. It is filled with holy water said to have been blessed by the Highfather himself! But it was also because of it that caused the town to be raided by power hungry bandits seeking the source of the Holy Water's power. But the Highfather does not tolerate such insolence, and so the legend goes that the bandits were struck down by holy light that fateful day. But the town remains scorched until today, a shadow of its former glory...and yet the fountain still brims! Bring me the Holy Water from that fountain, so we can perform the Rites.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to obtain Holy Water from a fountain that still brims with life in a scorched town. Priestess Shari said it was northwest of here, but that couldn't be right...could it?")endfunctionfunction wK takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00E')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Be))and(Ce[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)endfunctionfunction WK takes nothing returns nothingset Ce[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=2call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00You have obtained some Holy Water from the fountain.|r")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to get back to Priestess Shari.")endfunctionfunction YK takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00E')and(GetUnitTypeId(GetOrderTargetUnit())=='h01P')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Be))and(Ce[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==2)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction zK takes nothing returns nothingset Ce[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=3call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Priestess Shari|r : |cff87ceebWell done...this holy water will be the covenant in which to bless you. But that is not enough. We need one more...talk to Skypper. He will provide you with details in which to find the Altar of the Highfather. Oh and, don't forget to pray and pour the holy water over the altar first before pouring it over your head. Do it correctly and return to the Highfather.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to talk to Skypper to find the location of the Altar of the Highfather.")endfunctionfunction vl takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00E')and(GetUnitTypeId(GetOrderTargetUnit())=='n00C')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Be))and(Ce[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==3)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction el takes nothing returns nothingset Ce[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=4call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Skypper|r : |cff87ceebHow should I know where...oh...you mean THAT altar? Hrrnh...I think I last saw it near the Bandit camps in the forests near Espenia Town. Didn't think much of it because it looked more like a throne to me. Sorry I can't be of much help.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"TRIGSTR_5764")endfunctionfunction ol takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00E')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Be))and(Ce[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==4)endfunctionfunction rl takes nothing returns nothingset Ce[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=5call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00You pray silently and pour the holy water over the Altar before pouring it over your head. Instantly, you feel as if you are shining brightly like gold.|r")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to get back to the High Priest Stendarr and tell him I have completed the Rites of the Highfather.")endfunctionfunction al takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00E')and(GetUnitTypeId(GetOrderTargetUnit())=='h01G')and(Ce[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==5)and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I014')==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction nl takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())!=6)endfunctionfunction Vl takes nothing returns nothingif(nl())thencall PlaySoundBJ(NI)call ForceAddPlayer(pv,GetOwningPlayer(GetTriggerUnit()))set Ce[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0call UnitAddItemByIdSwapped('I014',GetTriggerUnit())call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Stendarr|r : |cff87ceebI can see the Blessing of the Highfather on you. Well done. How did it feel; the power of the Highfather coming over you? Here is my recommendation. Bring it to your Class Trainer. You are ready to join the true Church, my friend.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I have it! I have the recommendation! Now to get back to my Class Trainer...")elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),7.,"|cffff0000Inventory full! Cannot receive recommendation!|r")endifendfunctionfunction Xl takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00F')and(GetUnitTypeId(GetOrderTargetUnit())=='h01P')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Ol takes nothing returns nothingcall ForceAddPlayer(ce,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Priestess Shari|r : |cff87ceebAh, child of Melitele, I have been awaiting your arrival. To enter our Order, you must first be blessed by Melitele herself. But Melitele also wants some proof of your devotion, dear. Collect the Holy Water from a fountain brimming with life northwest of here in a ruined town. Vanquish 10 Wraiths and Spectres and collect their remains. Once you have all of these, go to the Altar of Melitele near the road leading to the Mountain Dungeons. It is well hidden, but you should be able to find it. Once there, pray and pour the Holy Water over yourself after sacrificing the remains of the foul creatures. Return to me when you are done.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"TRIGSTR_5780")endfunctionfunction Il takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),ce))and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),pv)==false)endfunctionfunction Al takes nothing returns booleanreturn(de[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=$A)endfunctionfunction Nl takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n015')endfunctionfunction bl takes nothing returns booleanreturn(De[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=$A)endfunctionfunction Bl takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n014')endfunctionfunction cl takes nothing returns nothingif(Nl())thenset de[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(de[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(Al())thencall ForceAddPlayer(Fe,GetOwningPlayer(GetKillingUnit()))call QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00I have the remains of 10 Wraiths|r.")elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(de[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Wraith(s) killed."))endifendifif(Bl())thenset De[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(De[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(bl())thencall ForceAddPlayer(fe,GetOwningPlayer(GetKillingUnit()))call QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00I have the remains of 10 Spectres|r.")elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(De[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Spectre(s) killed."))endifendifendfunctionfunction dl takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00F')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),ce))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),ge)==false)endfunctionfunction Dl takes nothing returns nothingcall ForceAddPlayer(ge,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00You have obtained some Holy Water from the fountain.|r")endfunctionfunction Fl takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00F')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),fe))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Fe))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),ge))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),pv)==false)endfunctionfunction gl takes nothing returns nothingcall ForceAddPlayer(pv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00You pray silently and pour the Holy Water over your head after offering the remains of the foul creatures to the altar. Instantly, you hear Melitele speaking to you and saying, \"I bless you, my daughter, in the name of the father, the son, and the holy spirit.\"|r")endfunctionfunction hl takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00F')and(GetUnitTypeId(GetOrderTargetUnit())=='h01P')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),pv))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I016')==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Hl takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())!=6)endfunctionfunction jl takes nothing returns nothingif(Hl())thencall PlaySoundBJ(NI)call UnitAddItemByIdSwapped('I016',GetTriggerUnit())call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Priestess Shari|r : |cff87ceebYes, child. Melitele has blessed you and that is a good sign. Few of us have been blessed and spoken to by Melitele herself. After all that you did and all that has happened, I am pleased to welcome you to our humble Order and present you with this letter of recommendation. Go forth, sister, and spread the word!")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I have it! I have the recommendation! Now to get back to my Class Trainer...")elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),7.,"|cffff0000Inventory full! Cannot receive recommendation!|r")endifendfunctionfunction kl takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00H')and(GetOrderTargetUnit()==Qf)and(GetHeroLevel(GetTriggerUnit())>=99)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Kl takes nothing returns nothingcall ForceAddPlayer(lv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebVery good. You have achieved harmony and balance within your training, ArchDruid. But I am afraid this is nearly the end of your path. Based on the skills you've developed through your training, you would have to choose; is the path of the Shapeshifter the one you want? Or is the path of the Shaman the path you seek? It is not some great task that you must do to achieve it, but only that you seek to achieve it. Speak to the Shaman Maz'tha in the Dark Grove north of here; he shall guide you in your training to tame the storms. Or you may wish to speak to the Shapeshifter Firzen; he can be found in the Snowy Town due far southeast of the city. He has great knowledge in shapeshifting and is a disciple of the great Fenrir himself. Learn from him, and it will serve you well.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("3rd Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"TRIGSTR_5334","ReplaceableTextures\\CommandButtons\\BTNSell.blp")set Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction Ll takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00H')and(GetUnitTypeId(GetOrderTargetUnit())=='h01R')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction ml takes nothing returns nothingcall ForceAddPlayer(Ee,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Shaman Maz'tha|r : |cff87ceebYou are here. I know what it is you seek, Archdruid, but I cannot give it to you until you can prove your worth. Usually I would ask you to attempt to tame the storms of Vajima, but this is a special case. I am to purify this grove, but I cannot do so because of the native Owlkins here. They are driven to madness by the taint, and they must be put out of their suffering. Kill 15 of them for me, and you shall receive my recommendation.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to end the suffering of 15 of the Enraged Owlkins here.")endfunctionfunction pl takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n019')and(UnitHasItemOfTypeBJ(GetKillingUnit(),'I013')==false)and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Ee))endfunctionfunction Pl takes nothing returns booleanreturn(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=$F)endfunctionfunction ql takes nothing returns nothingset ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(Pl())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc003rd Job Advancement Quest Completed|r.")call ForceAddPlayer(pv,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Enraged Owlkin(s) slain."))endifendfunctionfunction sl takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00H')and(GetUnitTypeId(GetOrderTargetUnit())=='h01R')and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I013')==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ee))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),pv))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Sl takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())!=6)endfunctionfunction tl takes nothing returns nothingif(Sl())thencall PlaySoundBJ(NI)call UnitAddItemByIdSwapped('I013',GetTriggerUnit())call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Shaman Maz'tha|r : |cff87ceebAlthough it is sad that their lives were involved in this mess, it was necessary. You have worked hard for this, so you have earned my recommendation. Take it.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I have it! I have the recommendation! Now to get back to my Class Trainer...")elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),7.,"|cffff0000Inventory full! Cannot receive recommendation!|r")endifendfunctionfunction ul takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00H')and(GetUnitTypeId(GetOrderTargetUnit())=='h01Q')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Ul takes nothing returns nothingcall ForceAddPlayer(Xe,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Firzen|r : |cff87ceebAnother Archdruid wanting a letter of recommendation? Well, I'm busy so I'm going to give you an easy task. Hunt down 10 Snap Dragons and you shall have my recommendation.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to kill 10 Snap Dragons.")endfunctionfunction Wl takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01B')and(UnitHasItemOfTypeBJ(GetKillingUnit(),'I018')==false)and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Xe))endfunctionfunction yl takes nothing returns booleanreturn(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=$A)endfunctionfunction Yl takes nothing returns nothingset ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(yl())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc003rd Job Advancement Quest Completed|r.")call ForceAddPlayer(pv,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Snap Dragon(s) slain."))endifendfunctionfunction Zl takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00H')and(GetUnitTypeId(GetOrderTargetUnit())=='h01Q')and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I018')==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Xe))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),pv))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction vL takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())!=6)endfunctionfunction eL takes nothing returns nothingif(vL())thencall PlaySoundBJ(NI)call UnitAddItemByIdSwapped('I018',GetTriggerUnit())call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Firzen|r : |cff87ceebNot bad. It was an easy task, but I am a man of my word. Take this, but don't expect to become great just because you're a shapeshifter. You must be one with your form to truly shine.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I have it! I have the recommendation! Now to get back to my Class Trainer...")elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),7.,"|cffff0000Inventory full! Cannot receive recommendation!|r")endifendfunctionfunction oL takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00G')and(GetOrderTargetUnit()==sf)and(GetHeroLevel(GetTriggerUnit())>=99)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction rL takes nothing returns nothingcall ForceAddPlayer(lv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebGreetings, fellow Hunter. It is good to see you again, but now is the time to choose. From here on out, you will shape your destiny into something much greater! Bring me a letter of recommendation from either the marksman Luna, who resides in Brokelyn Camp northwest of here, or the famed Tracker, Naisha, who is currently located somewhere in the Mountains. Choose your path well and may our destinies interwine someday.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("3rd Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"TRIGSTR_5336","ReplaceableTextures\\CommandButtons\\BTNSell.blp")set Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction aL takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00G')and(GetUnitTypeId(GetOrderTargetUnit())=='h01S')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction nL takes nothing returns nothingcall ForceAddPlayer(Re,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Luna|r : |cff87ceebWhy have you bothered me, Hunter? I do not have time for the likes of...What? A recommendation? From me? Do you know who I am? Well, it doesn't matter, does it? If you want a letter of recommendation, you have to prove that you are worthy of it. After all, people whom I recommended can't be useless can they? Hunt down the Lord of Puzzles and end his life. Bring me his bony hand and you shall receive my recommendation.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to hunt down and slay the Lord of Puzzles. From his name, I can infer that he is probably a dungeon boss...")endfunctionfunction EL takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U004')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Re))and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),pv)==false)endfunctionfunction XL takes nothing returns nothingcall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00I have received his bony hand|r.")call ForceAddPlayer(pv,GetOwningPlayer(GetKillingUnit()))endfunctionfunction RL takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00G')and(GetUnitTypeId(GetOrderTargetUnit())=='h01S')and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00Z')==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),pv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Re))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction IL takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())!=6)endfunctionfunction AL takes nothing returns nothingif(IL())thencall PlaySoundBJ(NI)call UnitAddItemByIdSwapped('I00Z',GetTriggerUnit())call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Luna|r : |cff87ceebHmm, it appears you do have some skill. Very well; he was no easy feat so you have definitely earned this letter of recommendation.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I have it! I have the recommendation! Now to get back to my Class Trainer...")elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),7.,"|cffff0000Inventory full! Cannot receive recommendation!|r")endifendfunctionfunction bL takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00G')and(GetUnitTypeId(GetOrderTargetUnit())=='h01T')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),lv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mv)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction BL takes nothing returns nothingcall ForceAddPlayer(Ie,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Naisha|r : |cff87ceebAh, you have arrived for a letter of recommendation, isn't that right? Very well, it appears I have a small task for you. Near to us is a mountain dungeon. I want you to enter it and slay the centaurs in there. Kill 15 of them and you shall receive my recommendation.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I need to kill the centaurs inhabiting the Mountain Dungeon. Any of them will do, but I need to kill at least 15 of them.")endfunctionfunction CL takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n00W')or(GetUnitTypeId(GetDyingUnit())=='n00U')or(GetUnitTypeId(GetDyingUnit())=='n00Y')endfunctionfunction dL takes nothing returns booleanreturn(CL())and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Ie))and(UnitHasItemOfTypeBJ(GetKillingUnit(),'I010')==false)endfunctionfunction DL takes nothing returns booleanreturn(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=$F)endfunctionfunction fL takes nothing returns nothingset ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(DL())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc003rd Job Advancement Quest Completed|r.")call ForceAddPlayer(pv,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(ne[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Centaur(s) killed."))endifendfunctionfunction gL takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H00G')and(GetUnitTypeId(GetOrderTargetUnit())=='h01T')and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I010')==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),pv))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ie))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction GL takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())!=6)endfunctionfunction hL takes nothing returns nothingif(GL())thencall PlaySoundBJ(NI)call UnitAddItemByIdSwapped('I010',GetTriggerUnit())call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Naisha|r : |cff87ceebWell done. Here is your letter of recommendation.")call QuestSetDescription(Lv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I have it! I have the recommendation! Now to get back to my Class Trainer...")elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),7.,"|cffff0000Inventory full! Cannot receive recommendation!|r")endifendfunctionfunction jL takes nothing returns booleanreturn(GetOrderTargetUnit()==Tf)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction JL takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00U'))endfunctionfunction kL takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00T'))endfunctionfunction KL takes nothing returns nothingif(JL())thencall ForceRemovePlayer(mv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Qv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(pv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(lv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(EI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00U'))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebYou...you have the recommendation? I...I am impressed...Nobody has come this far in ages...you truly are an asset to the Guild. Welcome, Stalker.")call ReplaceUnitBJ(GetTriggerUnit(),'H010',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyQuest(Lv[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])set e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastCreatedEffectcall GF(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])endifif(kL())thencall ForceRemovePlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(lv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(qv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(pv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(EI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00T'))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebI am impressed. Jim doesn't just hand recommendations over to just anyone. He takes his work seriously, as do you. From here on out, you are a rogue no more. You join the ranks of the Assassins' Guild as an assassin yourself. Congrats, but don't get cocky, fledgling.")call ReplaceUnitBJ(GetTriggerUnit(),'H011',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyQuest(Lv[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])set e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastCreatedEffectcall GF(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])endifendfunctionfunction LL takes nothing returns booleanreturn(GetOrderTargetUnit()==tf)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction mL takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00W'))endfunctionfunction ML takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00V'))endfunctionfunction pL takes nothing returns nothingif(mL())thencall ForceRemovePlayer(lv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(EI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00W'))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebCongratulations. I would not think the King would give you a letter of recommendation if he did not trust your abilities. Welcome to the Royal Army, Knight.")call ReplaceUnitBJ(GetTriggerUnit(),'H012',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyQuest(Lv[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])set e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastCreatedEffectcall GF(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])endifif(ML())thencall ForceRemovePlayer(lv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(EI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00V'))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebCongratulations; Emry must really think highly of you. I salute you, Crusader! You outrank me now...well done.")call ReplaceUnitBJ(GetTriggerUnit(),'H013',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyQuest(Lv[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])set e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastCreatedEffectcall GF(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])endifendfunctionfunction qL takes nothing returns booleanreturn(GetOrderTargetUnit()==Uf)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction QL takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I012'))endfunctionfunction sL takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I011'))endfunctionfunction SL takes nothing returns nothingif(QL())thencall ForceRemovePlayer(lv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(ie,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(pv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(EI)call SetHeroLevelBJ(GetTriggerUnit(),1,true)call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I012'))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebSinclaire has never given a letter of recommendation to anyone for a very long time now...I believe she must think that you are truly worthy. Welcome, Dark Templar.")call ReplaceUnitBJ(GetTriggerUnit(),'H01C',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyQuest(Lv[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])set e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastCreatedEffectcall GF(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])endifif(sL())thencall ForceRemovePlayer(lv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(ae,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(pv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(EI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I011'))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebOh my...You have Eva's recommendation? Very nicely done! Eva has been known to hold nothing back whenever handing a fellow Templar a task. I believe that an advancement is in order...")call ReplaceUnitBJ(GetTriggerUnit(),'H01D',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyQuest(Lv[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])set e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastCreatedEffectcall GF(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])endifendfunctionfunction TL takes nothing returns booleanreturn(GetOrderTargetUnit()==qf)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction uL takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00X'))endfunctionfunction UL takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00Y'))endfunctionfunction wL takes nothing returns nothingif(uL())thencall ForceRemovePlayer(lv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Oe,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(EI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00X'))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebWell done. Master Hannah must really like you to give you a letter of recommendation. Go forth, wizard.")call ReplaceUnitBJ(GetTriggerUnit(),'H017',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyQuest(Lv[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])set e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastCreatedEffectcall GF(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])endifif(UL())thencall ForceRemovePlayer(lv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Ve,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(pv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(EI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00Y'))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebWell done. Master Ember must think highly of you...Sage.")call ReplaceUnitBJ(GetTriggerUnit(),'H016',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyQuest(Lv[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])set e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastCreatedEffectcall GF(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])endifendfunctionfunction yL takes nothing returns booleanreturn(GetOrderTargetUnit()==Qf)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction YL takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I013'))endfunctionfunction zL takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I018'))endfunctionfunction ZL takes nothing returns nothingif(YL())thencall ForceRemovePlayer(lv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Ee,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(pv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(EI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I013'))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebI am astonished. Shaman Maz'tha has always been strict whenever handing out recommendations, but you certainly have done it. Well done, Shaman!")call ReplaceUnitBJ(GetTriggerUnit(),'H019',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyQuest(Lv[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])set e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastCreatedEffectcall GF(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])endifif(zL())thencall ForceRemovePlayer(lv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Xe,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(pv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(EI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I018'))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebI am impressed. Very well, you shall be a Shapeshifter from now onwards.")call ReplaceUnitBJ(GetTriggerUnit(),'H018',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyQuest(Lv[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])set e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastCreatedEffectcall GF(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])endifendfunctionfunction em takes nothing returns booleanreturn(GetOrderTargetUnit()==sf)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction xm takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00Z'))endfunctionfunction om takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I010'))endfunctionfunction rm takes nothing returns nothingif(xm())thencall ForceRemovePlayer(lv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Re,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(pv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(EI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00Z'))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebYou...You got a letter of recommendation from Luna? You must be a peerless hunter...Luna hasn't given anyone a letter of recommendation in 5 years! Very impressive, Marksman.")call ReplaceUnitBJ(GetTriggerUnit(),'H015',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyQuest(Lv[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])set e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastCreatedEffectcall GF(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])endifif(om())thencall ForceRemovePlayer(lv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Ie,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(pv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(EI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I010'))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebNicely done! Naisha must really respect your skills...you are now a Tracker; congratulations.")call ReplaceUnitBJ(GetTriggerUnit(),'H014',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyQuest(Lv[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])set e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastCreatedEffectcall GF(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])endifendfunctionfunction am takes nothing returns booleanreturn(GetOrderTargetUnit()==uf)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction nm takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I014'))endfunctionfunction Vm takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I016'))endfunctionfunction Em takes nothing returns nothingif(nm())thencall ForceRemovePlayer(lv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Be,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(pv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(EI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I014'))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebThe High Priest Stendarr's recommendation himself! I can hardly believe my eyes! Welcome to the Church, Priest!")call ReplaceUnitBJ(GetTriggerUnit(),'H01B',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyQuest(Lv[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])set e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastCreatedEffectcall GF(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])endifif(Vm())thencall ForceRemovePlayer(lv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(ce,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(fe,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Fe,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(ge,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(pv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(EI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I016'))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebOh my! B-Blessed and s-spoken to b-by Melitele herself?! What...an...honor! You are truly a child of the light to have been worthy of such honor. Go forth and spread the good news, Matriarch! For you have certainly earned the gods' favor today.")call ReplaceUnitBJ(GetTriggerUnit(),'H01A',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyQuest(Lv[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])set e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastCreatedEffectcall GF(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])endifendfunctionfunction Om takes nothing returns booleanreturn(GetOrderTargetUnit()==Sf)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Rm takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I015'))endfunctionfunction Im takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I017'))endfunctionfunction Am takes nothing returns nothingif(Rm())thencall ForceRemovePlayer(lv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Ne,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(pv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(EI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I015'))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebBerengar handed you a letter of recommendation, eh? Nicely done...Witcher.")call ReplaceUnitBJ(GetTriggerUnit(),'H01F',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyQuest(Lv[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])set e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastCreatedEffectcall GF(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])endifif(Im())thencall ForceRemovePlayer(lv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Mv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(be,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(pv,GetOwningPlayer(GetTriggerUnit()))call PlaySoundBJ(EI)call SetHeroLevelBJ(GetTriggerUnit(),1,false)call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I017'))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Class Trainer|r : |cff87ceebYou completed a task for Count Crowley? Just between you and me, the Count's a pretty insane man. He's a demon-hunting fanatic and would do anything to vanquish evil. I hope you know what you're doing; joining his ranks as an Inquisitor yourself.")call ReplaceUnitBJ(GetTriggerUnit(),'H01E',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyQuest(Lv[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])set e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastCreatedEffectcall GF(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))])endifendfunctionfunction bm takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H016')and(GetUnitTypeId(GetOrderTargetUnit())=='h021')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(GetHeroLevel(GetTriggerUnit())>=$96)endfunctionfunction Bm takes nothing returns nothingcall ForceAddPlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(ze,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Eve|r : |cff87ceebI am impressed you have found me, fellow magician. But I will not impart to you my Arcane knowledges so easily. Prove yourself to me. Transverse the Rite of Passage - successfully, and I shall teach you the strongest arcane spell ever - Twilight's Eve.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("4th Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to transverse the Rite of Passage successfully.","ReplaceableTextures\\PassiveButtons\\PASBTNGenericSpellImmunity.blp")set Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction Cm takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H016')and(GetUnitTypeId(GetOrderTargetUnit())=='h021')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ye))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction dm takes nothing returns nothingcall ForceRemovePlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Ye,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(ze,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Eve|r : |cff87ceebYou have achieved an astounding feat by successfully transversing the Rite of Passage and I am pleased to teach you the strongest Arcane spells of all...including the ultimate spell, Twilight's Eve. However, you must have a very strong willpower in order to learn it. I wish you the best of luck, ArchSage.")call DestroyQuest(Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H023',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction fm takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H017')and(GetUnitTypeId(GetOrderTargetUnit())=='h025')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(GetHeroLevel(GetTriggerUnit())>=$96)endfunctionfunction Fm takes nothing returns nothingcall ForceAddPlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(ze,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Arthur the Seeker|r : |cff87ceebYou have come, seeking answers...but it has a price. The knowledge of how to summon legendary gods are highly valued. I shall teach you them...if you can transverse the Rite of Passage successfully.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("4th Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to transverse the Rite of Passage successfully.","ReplaceableTextures\\PassiveButtons\\PASBTNGenericSpellImmunity.blp")set Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction Gm takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H017')and(GetUnitTypeId(GetOrderTargetUnit())=='h025')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ye))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction hm takes nothing returns nothingcall ForceRemovePlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Ye,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(ze,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Arthur the Seeker|r : |cff87ceebYou've done it. I am amazed. Very well, I shall impart to you magical knowledge even Kings can't buy. Welcome to a much longer road, White Wizard.")call DestroyQuest(Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H024',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction jm takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H01B')or(GetUnitTypeId(GetTriggerUnit())=='H01A')endfunctionfunction Jm takes nothing returns booleanreturn(jm())and(GetUnitTypeId(GetOrderTargetUnit())=='h02D')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(GetHeroLevel(GetTriggerUnit())>=$96)endfunctionfunction km takes nothing returns nothingcall ForceAddPlayer(te,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00The Ancient One|r : |cff87ceebAre you surprised by my appearance, young one? I am blessed indeed to hold the the greatest secrets of Holy magic and be granted them by the Highfather himself. But secrets of such value has a price. I shall teach you the holiest of all magics, the greatest of all known restoration spells...if you go on the Holy Pilgrimage. Visit the Altar of Melitele, the Shrine of the Highfather, the Holy Fountain, the Statue of Peace and return to me. Oh, and don't forget to bring each of the holy sites a power shard for sacrificial purposes. Do this, and return to me.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("4th Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"TRIGSTR_4343","ReplaceableTextures\\PassiveButtons\\PASBTNGenericSpellImmunity.blp")set Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction lm takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H01B')or(GetUnitTypeId(GetTriggerUnit())=='H01A')endfunctionfunction Lm takes nothing returns booleanreturn(lm())and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ox)==false)and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=1)endfunctionfunction mm takes nothing returns nothingcall AdjustPlayerStateBJ(-1,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)call ForceAddPlayer(Ox,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00You sacrificed a power shard at the fountain and received its blessing.|r")endfunctionfunction pm takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H01B')or(GetUnitTypeId(GetTriggerUnit())=='H01A')endfunctionfunction Pm takes nothing returns booleanreturn(pm())and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ix)==false)and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=1)endfunctionfunction qm takes nothing returns nothingcall AdjustPlayerStateBJ(-1,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)call ForceAddPlayer(Ix,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00You sacrificed a power shard at the Shrine and received its blessing.|r")endfunctionfunction sm takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H01B')or(GetUnitTypeId(GetTriggerUnit())=='H01A')endfunctionfunction Sm takes nothing returns booleanreturn(sm())and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ax)==false)and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=1)endfunctionfunction tm takes nothing returns nothingcall AdjustPlayerStateBJ(-1,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)call ForceAddPlayer(Ax,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00You sacrificed a power shard at the Statue and received its blessing.|r")endfunctionfunction um takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H01B')or(GetUnitTypeId(GetTriggerUnit())=='H01A')endfunctionfunction Um takes nothing returns booleanreturn(um())and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Rx)==false)and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=1)endfunctionfunction wm takes nothing returns nothingcall AdjustPlayerStateBJ(-1,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)call ForceAddPlayer(Rx,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00You sacrificed a power shard at the Altar and received its blessing.|r")endfunctionfunction ym takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='h02D')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ox))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ix))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Rx))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ax))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Ym takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H01B')endfunctionfunction zm takes nothing returns nothingcall ForceRemovePlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Ox,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Ix,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Rx,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Ax,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00The Ancient One|r : |cff87ceebYou have completed your pilgrimage...well done. I can see the 4 Holy Blessings bestowed upon you. All right, I shall teach you the highest mysteries of Holy and Restoration spells...congratulations.")call DestroyQuest(Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)if(Ym())thencall ReplaceUnitBJ(GetTriggerUnit(),'H02C',2)elsecall ReplaceUnitBJ(GetTriggerUnit(),'H02B',2)endifcall SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction vM takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H015')and(GetUnitTypeId(GetOrderTargetUnit())=='h01S')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(GetHeroLevel(GetTriggerUnit())>=$96)endfunctionfunction eM takes nothing returns nothingcall ForceAddPlayer(te,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Luna|r : |cff87ceebYou again? Hmm, you look as if you are an accomplished marksman. Very well... I shall give you a simple test. Head over to the Summit of Mount Twilight and enter the Rite of Passage. Complete it and you will reach the Unknown Regions. Thats not all, young one. What I want is for you to kill the Abominable Hydra...and return to me. Good luck.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("4th Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to kill the Abominable Hydra.","ReplaceableTextures\\PassiveButtons\\PASBTNGenericSpellImmunity.blp")set Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction oM takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U006')and(GetUnitTypeId(GetKillingUnit())=='H015')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),te))endfunctionfunction rM takes nothing returns nothingcall ForceAddPlayer(bx,GetOwningPlayer(GetKillingUnit()))call QuestSetDescription(Te[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))],"I should get back to Luna and tell her I have killed the Abominable Hydra.")call QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00I have killed the Leviathan. Now to return to Luna|r.")endfunctionfunction aM takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H015')and(GetUnitTypeId(GetOrderTargetUnit())=='h01S')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),bx))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction nM takes nothing returns nothingcall ForceRemovePlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(bx,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Luna|r : |cff87ceebAhh yes...you have proven yourself to be far better than I expected. Very well. I shall teach you the finest bow arts you can possibly learn.")call DestroyQuest(Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H02E',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction EM takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H014')and(GetUnitTypeId(GetOrderTargetUnit())=='h02G')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(GetHeroLevel(GetTriggerUnit())>=$96)endfunctionfunction XM takes nothing returns nothingcall ForceAddPlayer(te,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Delia|r : |cff87ceebWho are you? You wish to be a Monster Hunter? Well, I might teach you a thing or two, but you must prove to me your worth. Enter the Rite of Passage and kill at least 50 monsters there and return to me.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("4th Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to kill 50 monsters in the Rite of Passage.","ReplaceableTextures\\PassiveButtons\\PASBTNGenericSpellImmunity.blp")set Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction RM takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01I')or(GetUnitTypeId(GetDyingUnit())=='n01J')endfunctionfunction IM takes nothing returns booleanreturn(RM())and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),te))and(GetUnitTypeId(GetKillingUnit())=='H014')endfunctionfunction AM takes nothing returns booleanreturn(Bx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=50)endfunctionfunction NM takes nothing returns nothingset Bx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(Bx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(AM())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc004th Job Advancement Quest Completed|r.")call ForceAddPlayer(cx,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(Bx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Monster(s) killed."))endifendfunctionfunction BM takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H014')and(GetUnitTypeId(GetOrderTargetUnit())=='h02G')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),cx))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction cM takes nothing returns nothingcall ForceRemovePlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(cx,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Delia|r : |cff87ceebWell done! I believe you are worthy of some new skills...")call DestroyQuest(Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H02F',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction dM takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H012')and(GetUnitTypeId(GetOrderTargetUnit())=='h022')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(GetHeroLevel(GetTriggerUnit())>=$96)endfunctionfunction DM takes nothing returns nothingcall ForceAddPlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(ze,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Rain|r : |cff87ceebWhy do you interrupt my meditation? What? Champion? Why should I impart to you the strongest sword techniques in Silvasia? If you are so bent on becoming a champion, then transverse the Rite of Passage successfully and return to me.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("4th Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to transverse the Rite of Passage successfully.","ReplaceableTextures\\PassiveButtons\\PASBTNGenericSpellImmunity.blp")set Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction FM takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H012')and(GetUnitTypeId(GetOrderTargetUnit())=='h022')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ye))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction gM takes nothing returns nothingcall ForceRemovePlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Ye,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(ze,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Rain|r : |cff87ceebNot bad, kid. Very well then, I shall impart onto you the strongest sword techniques, including the legendary Asura Strike technique. However, it consumes all your mana if used, so make sure you plan when to use it.")call DestroyQuest(Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H02H',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction hM takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H013')and(GetUnitTypeId(GetOrderTargetUnit())=='h02V')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(GetHeroLevel(GetTriggerUnit())>=$96)endfunctionfunction HM takes nothing returns nothingcall ForceAddPlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(ze,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Siegfried|r : |cff87ceebYou took so much trouble finding me just to become an Avenger? Very well...I shall grant you your wish. But first, I must know whether you have trained hard enough. Transverse the Rite of Passage successfully and return to me, so I may evaluate your skill.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("4th Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to transverse the Rite of Passage successfully.","ReplaceableTextures\\PassiveButtons\\PASBTNGenericSpellImmunity.blp")set Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction JM takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H013')and(GetUnitTypeId(GetOrderTargetUnit())=='h02V')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ye))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction kM takes nothing returns nothingcall ForceRemovePlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Ye,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(ze,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Siegfried|r : |cff87ceebWell done, crusader. But you should know the way of an avenger is not like that of a champion. We protect our allies from battle, and we sacrifice ourselves if necessary. As such, I hope you use your skills to protect others, and follow the true path of an Avenger.")call DestroyQuest(Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H02K',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction lM takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H011')and(GetUnitTypeId(GetOrderTargetUnit())=='h02X')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(GetHeroLevel(GetTriggerUnit())>=$96)endfunctionfunction LM takes nothing returns nothingcall ForceAddPlayer(te,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Raven|r : |cff87ceebWhat is it you want, assassin? What? You want to be like me? I have mastered the skills of the shadow until I no longer look...human. Do you still want to be like me? If so, then go to the Unknown Regions and kill 50 dark elves. Do this and return to me.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("4th Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to kill 50 Dark Elves.","ReplaceableTextures\\PassiveButtons\\PASBTNGenericSpellImmunity.blp")set Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction MM takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01R')or(GetUnitTypeId(GetDyingUnit())=='n01P')endfunctionfunction pM takes nothing returns booleanreturn(MM())and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),te))and(GetUnitTypeId(GetKillingUnit())=='H011')endfunctionfunction PM takes nothing returns booleanreturn(yx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=50)endfunctionfunction qM takes nothing returns nothingset yx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(yx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(PM())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc004th Job Advancement Quest Completed|r.")call ForceAddPlayer(Yx,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(yx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Dark Elf/Elves killed."))endifendfunctionfunction sM takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H011')and(GetUnitTypeId(GetOrderTargetUnit())=='h02X')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Yx))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction SM takes nothing returns nothingcall ForceRemovePlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Yx,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Raven|r : |cff87ceebImpressive. Here, take this phantom blade and use it. It'll serve you well in the hidden arts of assassination and the shadow. Remember; a phantom assassin is weak in direct combat. If you can't kill him in a hit, you're half-dead.")call DestroyQuest(Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H02N',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction TM takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H010')and(GetUnitTypeId(GetOrderTargetUnit())=='h02W')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(GetHeroLevel(GetTriggerUnit())>=$96)endfunctionfunction uM takes nothing returns nothingcall ForceAddPlayer(te,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Nazgul|r : |cff87ceebHahahaha! You've got great guts to speak to me. If you're here to become a master stalker - forget it. You must be ready to give up your humanity like I did, so you can train in the forbidden arts of stalking. If you're ready to do that, then kill Lord De Seis and return to me.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("4th Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to kill Lord De Seis. I think I can find him in the Unknown Regions...","ReplaceableTextures\\PassiveButtons\\PASBTNGenericSpellImmunity.blp")set Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction wM takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n024')and(GetUnitTypeId(GetKillingUnit())=='H010')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),te))endfunctionfunction WM takes nothing returns nothingcall ForceAddPlayer(zx,GetOwningPlayer(GetKillingUnit()))call QuestSetDescription(Te[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))],"I should get back to Nazgul and tell him I have killed Lord De Seis and am willing to lose my humanity...")call QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00I have killed Lord De Seis. I should get back to Nazgul|r.")endfunctionfunction YM takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H010')and(GetUnitTypeId(GetOrderTargetUnit())=='h02W')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),zx))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction zM takes nothing returns nothingcall ForceRemovePlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(zx,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Nazgul|r : |cff87ceebGood! Good...I see you are eager to give up your humanity for power...that is highly intriguing, for one such as you. Come, wear this cloak and become one with the darkness...")call DestroyQuest(Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H02O',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction vp takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H01F')and(GetUnitTypeId(GetOrderTargetUnit())=='h030')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(GetHeroLevel(GetTriggerUnit())>=$96)endfunctionfunction ep takes nothing returns nothingcall ForceAddPlayer(te,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Morden Tor|r : |cff87ceebAh, you have come to learn the final styles of the witcher's blade then? Learning the styles is not the hard part - the hard part is to tune yourself with the blade. Go to Mount Twilight south of here and kill 80 ogres. Only then shall you receive any training.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("4th Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to kill 80 Ogres.","ReplaceableTextures\\PassiveButtons\\PASBTNGenericSpellImmunity.blp")set Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction op takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01X')or(GetUnitTypeId(GetDyingUnit())=='n01Q')endfunctionfunction rp takes nothing returns booleanreturn(op())and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),te))and(GetUnitTypeId(GetKillingUnit())=='H01F')endfunctionfunction ip takes nothing returns booleanreturn(Zx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=80)endfunctionfunction ap takes nothing returns nothingset Zx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(Zx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(ip())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc004th Job Advancement Quest Completed|r.")call ForceAddPlayer(zx,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(Zx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Ogre(s) killed."))endifendfunctionfunction Vp takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H01F')and(GetUnitTypeId(GetOrderTargetUnit())=='h030')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),zx))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Ep takes nothing returns nothingcall ForceRemovePlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(zx,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Morden Tor|r : |cff87ceebHow was it? Have you felt it yet? The feeling when you and your blade attack with instinct...without doubt...You no longer need your horse. Go out there and fight like a Witcher. A Monster Slayer.")call DestroyQuest(Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H02P',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction Op takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H01E')and(GetUnitTypeId(GetOrderTargetUnit())=='h01K')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(GetHeroLevel(GetTriggerUnit())>=$96)endfunctionfunction Rp takes nothing returns nothingcall ForceAddPlayer(te,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Count Crowley|r : |cff87ceebWe meet again, young one...Grand Inquisitor? Oh, oh yes...then you must prove your skills to me! Go, go and kill 40 Demons in the Rite of Passage...only then shall you be complete....heh heh.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("4th Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to kill 40 Demons in the Rite of Passage.","ReplaceableTextures\\PassiveButtons\\PASBTNGenericSpellImmunity.blp")set Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction Ap takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01I')or(GetUnitTypeId(GetDyingUnit())=='n01J')endfunctionfunction Np takes nothing returns booleanreturn(Ap())and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),te))and(GetUnitTypeId(GetKillingUnit())=='H01E')endfunctionfunction bp takes nothing returns booleanreturn(Zx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=40)endfunctionfunction Bp takes nothing returns nothingset Zx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(Zx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(bp())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc004th Job Advancement Quest Completed|r.")call ForceAddPlayer(zx,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(Zx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Demon(s) killed."))endifendfunctionfunction Cp takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H01E')and(GetUnitTypeId(GetOrderTargetUnit())=='h01K')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),zx))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction dp takes nothing returns nothingcall ForceRemovePlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(zx,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Count Crowley|r : |cff87ceebPerfect! You killed all of them...Well done! Alright, I shall teach you stronger arts in the Inquisitor line...go forth and never stop killing demons!")call DestroyQuest(Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H02Q',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction fp takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H01D')and(GetUnitTypeId(GetOrderTargetUnit())=='h034')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(GetHeroLevel(GetTriggerUnit())>=$96)endfunctionfunction Fp takes nothing returns nothingcall ForceAddPlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(ze,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Freya|r : |cff87ceebGreetings, fellow High Templar. I have sensed your coming and I know why you are here. If you are truly ready to learn the strongest psionic energy skills known to man, then transverse the Rite of Passage and return to me.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("4th Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to transverse the Rite of Passage successfully.","ReplaceableTextures\\PassiveButtons\\PASBTNGenericSpellImmunity.blp")set Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction Gp takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H01D')and(GetUnitTypeId(GetOrderTargetUnit())=='h034')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ye))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction hp takes nothing returns nothingcall ForceRemovePlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Ye,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(ze,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Freya|r : |cff87ceebExcellent! I knew you would succeed. The psionic energies within you are untapped - you have great potential. Maybe just back then you were a lowly female novice, unaware which paths to take in life. But now, you are no longer just a novice. From now on, you are a Grand Templar; go out and show your enemies just how powerful psionic powers really are! Far too many people look down on psionic powers......prove them wrong.")call DestroyQuest(Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H02L',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction jp takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H01C')and(GetUnitTypeId(GetOrderTargetUnit())=='h02Y')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(GetHeroLevel(GetTriggerUnit())>=$96)endfunctionfunction Jp takes nothing returns nothingcall ForceAddPlayer(te,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Vanessa|r : |cff87ceebI have forseen your coming. It is good you have sought me out; I have much to teach you. But first, you must show me that you are worthy of instruction. Kill 80 Dark Elves and prove your worth.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("4th Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to kill 80 Dark Elves.","ReplaceableTextures\\PassiveButtons\\PASBTNGenericSpellImmunity.blp")set Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction Kp takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01R')or(GetUnitTypeId(GetDyingUnit())=='n01P')endfunctionfunction lp takes nothing returns booleanreturn(Kp())and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),te))and(GetUnitTypeId(GetKillingUnit())=='H01C')endfunctionfunction Lp takes nothing returns booleanreturn(Zx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=80)endfunctionfunction mp takes nothing returns nothingset Zx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(Zx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(Lp())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc004th Job Advancement Quest Completed|r.")call ForceAddPlayer(zx,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(Zx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Dark Elf/Elves killed."))endifendfunctionfunction pp takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H01C')and(GetUnitTypeId(GetOrderTargetUnit())=='h02Y')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),zx))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Pp takes nothing returns nothingcall ForceRemovePlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(zx,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Vanessa|r : |cff87ceebGood, you show promise, young one. Very well, I shall teach you the greatest finisher moves ever known.")call DestroyQuest(Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H02M',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction Qp takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H019')and(GetUnitTypeId(GetOrderTargetUnit())=='h032')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(GetHeroLevel(GetTriggerUnit())>=$96)endfunctionfunction sp takes nothing returns nothingcall ForceAddPlayer(te,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Horazon|r : |cff87ceebYou have come, just as I knew you would. In order to master control over the elements and summon them at your very call, you must learn to be able to tame the storms. Go to the Naga Dungeon, kill the Mistress of the Tides and return to me.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("4th Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to kill the Mistress of the Tides. I don't know what it has to do with taming the storms, though.","ReplaceableTextures\\PassiveButtons\\PASBTNGenericSpellImmunity.blp")set Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction tp takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01Y')and(GetUnitTypeId(GetKillingUnit())=='H019')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),te))endfunctionfunction Tp takes nothing returns nothingcall ForceAddPlayer(zx,GetOwningPlayer(GetKillingUnit()))call QuestSetDescription(Te[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))],"I should get back to Horazon and tell him I have completed the deed.")call QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00I have killed the Mistress of the Tides|r.")endfunctionfunction Up takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H019')and(GetUnitTypeId(GetOrderTargetUnit())=='h032')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),zx))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction wp takes nothing returns nothingcall ForceRemovePlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(zx,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Horazon|r : |cff87ceebYou fool! Killing her had nothing to do with learning how to tame the storms! Why don't you think properly next time?......But I guess I can't fault you much...at least you obeyed my instructions to the letter, even though it was pure foolishness. Hmm...since you have showed an impressive display of skill killing the Mistress, I think you are ready to learn the final arts of elemental summoning. Don't let me down.")call DestroyQuest(Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H02S',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction yp takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H018')and(GetUnitTypeId(GetOrderTargetUnit())=='h031')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te)==false)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(GetHeroLevel(GetTriggerUnit())>=$96)endfunctionfunction Yp takes nothing returns nothingcall ForceAddPlayer(te,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Fenrir|r : |cff87ceebWe meet at last, shapeshifter. Your deeds are well known throughout the land, and I predicted that you would finally search for me when you have honed your skills to the highest degree...and so you have. Go to Mount Twilight, kill 50 ogres there, and return to me. Only then shall you be able to learn the final arts of true shapeshifting.")call PlaySoundBJ(AI)call CreateQuestBJ(0,("4th Job Advancement Quest ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to kill 50 Ogres.","ReplaceableTextures\\PassiveButtons\\PASBTNGenericSpellImmunity.blp")set Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction Zp takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01X')or(GetUnitTypeId(GetDyingUnit())=='n01Q')endfunctionfunction vP takes nothing returns booleanreturn(GetUnitTypeId(GetKillingUnit())=='H018')or(GetUnitTypeId(GetKillingUnit())=='H01Z')or(GetUnitTypeId(GetKillingUnit())=='H01Y')endfunctionfunction eP takes nothing returns booleanreturn(Zp())and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),te))and(vP())endfunctionfunction xP takes nothing returns booleanreturn(Zx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=50)endfunctionfunction oP takes nothing returns nothingset Zx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(Zx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(xP())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc004th Job Advancement Quest Completed|r.")call ForceAddPlayer(zx,GetOwningPlayer(GetKillingUnit()))elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(Zx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Ogre(s) killed."))endifendfunctionfunction iP takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H018')and(GetUnitTypeId(GetOrderTargetUnit())=='h031')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),te))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),zx))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction aP takes nothing returns nothingcall ForceRemovePlayer(te,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(zx,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Fenrir|r : |cff87ceebNicely done. Very well, I shall teach you the secrets of runic shapeshifting, and the highest level of animalism techniques as well. Be cautious though; strength is more than just killing. You must be able to employ your skills correctly, for when you shapeshift into a wolf, you will no longer be able to shapeshift into a bear until your wolf timer ends, which may place you in danger should you come face to face with a terrible boss.")call DestroyQuest(Te[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetHeroLevelBJ(GetTriggerUnit(),1,false)call ReplaceUnitBJ(GetTriggerUnit(),'H02R',2)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",bj_lastReplacedUnit,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")set e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(1.5)call DestroyEffect(e[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction VP takes nothing returns nothingcall ModifyGateBJ(1,IF)call DestroyTrigger(GetTriggeringTrigger())endfunctionfunction XP takes nothing returns nothingcall ModifyGateBJ(1,RF)call DestroyTrigger(GetTriggeringTrigger())endfunctionfunction RP takes nothing returns nothingcall ModifyGateBJ(1,bF)call DestroyTrigger(GetTriggeringTrigger())endfunctionfunction AP takes nothing returns nothingcall ModifyGateBJ(1,NF)call DestroyTrigger(GetTriggeringTrigger())endfunctionfunction bP takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction BP takes nothing returns nothingset tv=GetRectCenter(wV)call SetUnitPositionLocFacingBJ(GetTriggerUnit(),tv,90.)call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),tv,0)call RemoveLocation(tv)endfunctionfunction CP takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction dP takes nothing returns nothingset Tv=GetRectCenter(WV)call SetUnitPositionLocFacingBJ(GetTriggerUnit(),Tv,270.)call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),Tv,0)call RemoveLocation(Tv)endfunctionfunction fP takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction FP takes nothing returns nothingset xe=GetRectCenter(TO)call SetUnitPositionLocFacingBJ(GetTriggerUnit(),xe,270.)call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),xe,0)call RemoveLocation(xe)endfunctionfunction GP takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction hP takes nothing returns nothingset oe=GetRectCenter(UO)call SetUnitPositionLocFacingBJ(GetTriggerUnit(),oe,90.)call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),oe,0)call RemoveLocation(oe)endfunctionfunction jP takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction JP takes nothing returns nothingset Me=GetRectCenter(hR)call SetUnitPositionLocFacingBJ(GetTriggerUnit(),Me,180.)call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),Me,0)call RemoveLocation(Me)endfunctionfunction KP takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction lP takes nothing returns nothingset Me=GetRectCenter(jR)call SetUnitPositionLocFacingBJ(GetTriggerUnit(),Me,360.)call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),Me,0)call RemoveLocation(Me)endfunctionfunction mP takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction MP takes nothing returns nothingset Pe=GetRectCenter(TR)call SetUnitPositionLocFacingBJ(GetTriggerUnit(),Pe,180.)call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),Pe,0)call RemoveLocation(Pe)endfunctionfunction PP takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction qP takes nothing returns nothingset Pe=GetRectCenter(UR)call SetUnitPositionLocFacingBJ(GetTriggerUnit(),Pe,180.)call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),Pe,0)call RemoveLocation(Pe)endfunctionfunction sP takes nothing returns booleanreturn((IsUnitInGroup(GetTriggerUnit(),Iv)==false)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=nullendfunctionfunction SP takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Nv))endfunctionfunction tP takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),bv))endfunctionfunction TP takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),ix))endfunctionfunction uP takes nothing returns nothingcall GroupAddUnit(Iv,GetTriggerUnit())if(SP())thencall GroupRemoveUnit(Nv,GetTriggerUnit())endifif(tP())thencall GroupRemoveUnit(bv,GetTriggerUnit())endifif(TP())thencall GroupRemoveUnit(ix,GetTriggerUnit())endifset Y[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetRectCenter(RR)call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"Revival Point Saved.")endfunctionfunction wP takes nothing returns booleanreturn((IsUnitInGroup(GetTriggerUnit(),Nv)==false)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=nullendfunctionfunction WP takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Iv))endfunctionfunction yP takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),bv))endfunctionfunction YP takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),ix))endfunctionfunction zP takes nothing returns nothingcall GroupAddUnit(Nv,GetTriggerUnit())if(WP())thencall GroupRemoveUnit(Iv,GetTriggerUnit())endifif(yP())thencall GroupRemoveUnit(bv,GetTriggerUnit())endifif(YP())thencall GroupRemoveUnit(ix,GetTriggerUnit())endifset Y[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetRectCenter(IR)call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"Revival Point Saved.")endfunctionfunction vq takes nothing returns booleanreturn((IsUnitInGroup(GetTriggerUnit(),bv)==false)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=nullendfunctionfunction eq takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Iv))endfunctionfunction xq takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Nv))endfunctionfunction oq takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),ix))endfunctionfunction rq takes nothing returns nothingcall GroupAddUnit(bv,GetTriggerUnit())if(eq())thencall GroupRemoveUnit(Iv,GetTriggerUnit())endifif(xq())thencall GroupRemoveUnit(Nv,GetTriggerUnit())endifif(oq())thencall GroupRemoveUnit(ix,GetTriggerUnit())endifset Y[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetRectCenter(AR)call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"Revival Point Saved.")endfunctionfunction aq takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction nq takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Iv))endfunctionfunction Vq takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Nv))endfunctionfunction Eq takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),bv))endfunctionfunction Xq takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),ix)==false)endfunctionfunction Oq takes nothing returns booleanreturn(GetUnitLevel(GetTriggerUnit())<'d')endfunctionfunction Rq takes nothing returns nothingif(Oq())thenset Jo=GetRectCenter(RR)call SetUnitPositionLoc(GetTriggerUnit(),Jo)call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00You are too weak to enter the Unknown Regions.|r")call RemoveLocation(Jo)elseif(Xq())thencall GroupAddUnit(ix,GetTriggerUnit())if(nq())thencall GroupRemoveUnit(Iv,GetTriggerUnit())endifif(Vq())thencall GroupRemoveUnit(Nv,GetTriggerUnit())endifif(Eq())thencall GroupRemoveUnit(bv,GetTriggerUnit())endifset Y[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetRectCenter(BR)call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"Revival Point Saved.")endifendifendfunctionfunction Aq takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction Nq takes nothing returns nothingcall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"Experience is disabled in this Region...")call SuspendHeroXPBJ(false,GetTriggerUnit())endfunctionfunction Bq takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction cq takes nothing returns nothingcall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"Experience is re-enabled...")call SuspendHeroXPBJ(true,GetTriggerUnit())endfunctionfunction dq takes nothing returns booleanreturn((IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),kx)==false)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=nullendfunctionfunction Dq takes nothing returns nothingset ao=GetRectCenter(pX)call ForceAddPlayer(Ko,GetOwningPlayer(GetTriggerUnit()))call SetUnitPositionLoc(GetEnteringUnit(),ao)call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),ao,0)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetEnteringUnit())),5.,"TRIGSTR_809")call RemoveLocation(ao)endfunctionfunction Fq takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction gq takes nothing returns nothingset ao=GetRectCenter(MX)call ForceRemovePlayer(Ko,GetOwningPlayer(GetTriggerUnit()))call SetUnitPositionLoc(GetEnteringUnit(),ao)call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),ao,0)call RemoveLocation(ao)endfunctionfunction hq takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I000')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())<=$A)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[1])==false))!=nullendfunctionfunction Hq takes nothing returns nothingcall ForceAddPlayer(Zr[1],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Skypper|r : Damn those noisy Satyrs! They're so noisy that their noise alone is enough to drive me crazy! Hey you, do me a favour and eliminate 5 of them for me. I might even reward you with some of my precious gold, so be quick about it!")call CreateQuestBJ(0,("Ridding the Satyrs ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"Get rid of 5 Satyrs for Skypper. This may be off the record, but I don't think he's going to give me much of a reward.","ReplaceableTextures\\CommandButtons\\BTNFelHound.blp")set q[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction Jq takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n005')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Zr[1]))endfunctionfunction kq takes nothing returns booleanreturn(P[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=5)endfunctionfunction Kq takes nothing returns nothingset P[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(P[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(kq())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00Ridding the Satyrs|r Quest Requirement Completed.")elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(P[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Satyr(s) killed."))endifendfunctionfunction Lq takes nothing returns booleanreturn(P[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=5)and(GetUnitTypeId(GetOrderTargetUnit())==Q)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction mq takes nothing returns nothingcall ForceRemovePlayer(Zr[1],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(q[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set P[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call AddHeroXPSwapped($4B0,GetTriggerUnit(),true)call AdjustPlayerStateBJ(400,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endfunctionfunction pq takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I019')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())<=$F)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[2])==false))!=nullendfunctionfunction Pq takes nothing returns nothingcall ForceAddPlayer(Zr[2],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Skypper|r : So, you're here for the King's contract then? Well, the details are all there so get to it! Kill 3 Aggressive Satyrs and come back to me.")call CreateQuestBJ(0,("Satyr Extermination ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"Get rid of 3 Aggressive Satyrs for Skypper.","ReplaceableTextures\\CommandButtons\\BTNSatyr.blp")set Uv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction Qq takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n00D')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Zr[2]))endfunctionfunction sq takes nothing returns booleanreturn(wv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=3)endfunctionfunction Sq takes nothing returns nothingset wv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(wv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(sq())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00Satyr Extermination|r Quest Requirement Completed.")elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(wv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Aggressive Satyr(s) killed."))endifendfunctionfunction Tq takes nothing returns booleanreturn(wv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=3)and(GetUnitTypeId(GetOrderTargetUnit())==Q)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction uq takes nothing returns nothingcall ForceRemovePlayer(Zr[2],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(Uv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set wv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call AddHeroXPSwapped($5DC,GetTriggerUnit(),true)call AdjustPlayerStateBJ(400,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endfunctionfunction wq takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I03D')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>=$F)and(GetHeroLevel(GetTriggerUnit())<=30)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[3])==false))!=nullendfunctionfunction Wq takes nothing returns nothingcall ForceAddPlayer(Zr[3],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Skypper|r : So, you're going to hunt down those trolls then? Well, good luck. They can be found in the Ice Dungeon east of here.")call CreateQuestBJ(0,("Head Hunter ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"Hunt down 10 Ice Trolls and grab their heads.","ReplaceableTextures\\CommandButtons\\BTNIceTroll.blp")set vo[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction Yq takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n00K')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Zr[3]))endfunctionfunction zq takes nothing returns booleanreturn(xo[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=$A)endfunctionfunction Zq takes nothing returns nothingset xo[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(xo[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(zq())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00Head Hunter|r Quest Requirement Completed.")elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(xo[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Ice Troll Head(s) received."))endifendfunctionfunction eQ takes nothing returns booleanreturn(xo[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=$A)and(GetUnitTypeId(GetOrderTargetUnit())==Q)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction xQ takes nothing returns nothingcall ForceRemovePlayer(Zr[3],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(vo[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set xo[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call AddHeroXPSwapped($E10,GetTriggerUnit(),true)call AdjustPlayerStateBJ($4B0,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endfunctionfunction rQ takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I03E')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>=$F)and(GetHeroLevel(GetTriggerUnit())<=30)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[4])==false))!=nullendfunctionfunction iQ takes nothing returns nothingcall ForceAddPlayer(Zr[4],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Skypper|r : You're here to help me? Well, Im going to need 10 specimens of Water Elemental remains. I think they can be found in the Ice Dungeon, on level 2.")call CreateQuestBJ(0,("Waterworks ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"Kill 10 Water Elementals and loot their watery specimen remains.","ReplaceableTextures\\CommandButtons\\BTNSummonWaterElemental.blp")set eo[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction nQ takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n00G')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Zr[4]))endfunctionfunction VQ takes nothing returns booleanreturn(oo[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=$A)endfunctionfunction EQ takes nothing returns nothingset oo[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(oo[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(VQ())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00Waterworks|r Quest Requirement Completed.")elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(oo[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Watery Specimen(s) obtained."))endifendfunctionfunction OQ takes nothing returns booleanreturn(oo[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=$A)and(GetUnitTypeId(GetOrderTargetUnit())==Q)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction RQ takes nothing returns nothingcall ForceRemovePlayer(Zr[4],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(eo[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set oo[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call AddHeroXPSwapped(4800,GetTriggerUnit(),true)call AdjustPlayerStateBJ($3E8,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endfunctionfunction AQ takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I01A')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>=40)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[5])==false))!=nullendfunctionfunction NQ takes nothing returns nothingcall ForceAddPlayer(Zr[5],GetOwningPlayer(GetTriggerUnit()))call PlaySoundAtPointBJ(CI,'d',GetUnitLoc(GetTriggerUnit()),0)call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Skypper|r : I do not need to remind you how serious this matter is. The traveller wants absolute revenge, and he doesn't care how you do it. Kill 15 Bandits and grab their heads; the bloodier the better but not too gruesome until unrecognizable.")call CreateQuestBJ(0,("No Rest For the Wicked ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I must kill 15 Bandits and grab their heads.","ReplaceableTextures\\CommandButtons\\BTNSacrificialSkull.blp")set yv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction BQ takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n00Q')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Zr[5]))endfunctionfunction cQ takes nothing returns booleanreturn(Yv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=$F)endfunctionfunction CQ takes nothing returns nothingset Yv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(Yv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(cQ())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00No Rest For the Wicked|r Quest Requirement Completed.")elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(Yv[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Bandit head(s) received."))endifendfunctionfunction DQ takes nothing returns booleanreturn(Yv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=$F)and(GetUnitTypeId(GetOrderTargetUnit())==Q)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction fQ takes nothing returns nothingcall ForceRemovePlayer(Zr[5],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(yv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set Yv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call AddHeroXPSwapped($2EE0,GetTriggerUnit(),true)call AdjustPlayerStateBJ(5000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endfunctionfunction gQ takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I01B')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>=50)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[6])==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),vi[6])==false))!=nullendfunctionfunction GQ takes nothing returns nothingcall ForceAddPlayer(Zr[6],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Skypper|r : Ah! This...sensitive contract. A shame, I knew the man's daughter; she was a good lass. Tell you what, if you successfully kill Stitches and bring me back his hook, I'll throw you in a little bonus, apart from the already enormous sum of money that is offered.")call CreateQuestBJ(0,("The Enemy of my Enemy ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"Kill Stitches and bring back his hook.","ReplaceableTextures\\CommandButtons\\BTNAbomination.blp")set zv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction HQ takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U001')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Zr[6]))endfunctionfunction jQ takes nothing returns nothingcall ForceAddPlayer(Zv,GetOwningPlayer(GetKillingUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetKillingUnit())),"I have killed Stitches and scavenged his hook.")endfunctionfunction kQ takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())==Q)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zv))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction KQ takes nothing returns nothingcall ForceRemovePlayer(Zv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Zr[6],GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(vi[6],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(zv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call AddHeroXPSwapped($4650,GetTriggerUnit(),true)call AdjustPlayerStateBJ(8000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endfunctionfunction LQ takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I01C')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>=30)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[7])==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),vi[7])==false))!=nullendfunctionfunction mQ takes nothing returns nothingcall ForceAddPlayer(Zr[7],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Skypper|r : Blasted Animal! I hope you string him up good! That animal scared away so many of my profits I would pay a bundle just to see him dead! But I have a better idea - after you cut him into little bits of minced meat I want you to take a decent amount of his meat AND his paw and bring them back to me, so I can at least put some of his parts to good use, heh.")call CreateQuestBJ(0,("A Dish Best Served Cold ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"Kill Frostfang and bring back some of his meat and his paw as proof of the deed.","ReplaceableTextures\\CommandButtons\\BTNFrostBear.blp")set ve[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction pQ takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U000')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Zr[7]))endfunctionfunction PQ takes nothing returns nothingcall ForceAddPlayer(ee,GetOwningPlayer(GetKillingUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetKillingUnit())),"I have killed Frostfang and obtained some of his meat and paw.")endfunctionfunction QQ takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())==Q)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),ee))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction sQ takes nothing returns nothingcall ForceRemovePlayer(ee,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Zr[7],GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(vi[7],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(ve[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call AddHeroXPSwapped($2710,GetTriggerUnit(),true)call AdjustPlayerStateBJ(5000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endfunctionfunction tQ takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I028')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>=55)and(GetHeroLevel(GetTriggerUnit())<=99)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[8])==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),vi[8])==false))!=nullendfunctionfunction TQ takes nothing returns nothingcall ForceAddPlayer(Zr[8],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Arnold|r : Greetings, adventurer. You look pretty handy with a weapon...Say, can you help me with a little problem? See, I received word that some nasty Goblin has set up explosives in a Gold Mine nearby. He thinks by doing this, we wouldn't dare to venture in and hence, allowing him to mine gold in peace. Obviously we can't have that, can we? If anything goes awry, either the King might get furious because he's stealing gold from the King's lands...or the explosives go off, and people die. Find this Goblin, make him squeal, and bring me some of his explosives as proof.")call CreateQuestBJ(0,("Greedisgood ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"Kill a Goblin that is setting up explosives in the nearby Gold Mine. Bring back his explosives as proof of the deed.","ReplaceableTextures\\CommandButtons\\BTNGoldMine.blp")set Ex[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction UQ takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n012')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Zr[8]))endfunctionfunction wQ takes nothing returns nothingcall ForceAddPlayer(Xx,GetOwningPlayer(GetKillingUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetKillingUnit())),"I have killed the Goblin and obtained one of his explosives.")endfunctionfunction yQ takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())==ye)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Xx))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction YQ takes nothing returns nothingcall ForceRemovePlayer(Xx,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Zr[8],GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(vi[8],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(Ex[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call AddHeroXPSwapped($6D60,GetTriggerUnit(),true)call AdjustPlayerStateBJ($2710,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endfunctionfunction ZQ takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I00K')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>=30)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[9])==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),vi[9])==false))!=nullendfunctionfunction vs takes nothing returns nothingcall ForceAddPlayer(Zr[9],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Skypper|r : Why are my deliveries always late? I hope my delivery boy did not disappear like the others. Many of my delivery boys are disappearing when they make deliveries in the night. I have heard that there is a rumour that says that there are Shadow Witches in the creepy forest north of here that feasts on souls of the living at night to stay alive. Perhaps they are responsible? Find out for me if its true. If it is true, slay 15 of them for me; I don't want them disrupting my business.")call CreateQuestBJ(0,("Hunter in the Night ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"Skypper's delivery boys had been disappearing ever since they started making night deliveries through the creepy forest up north. He said something about a rumour of 15 witches feasting on souls of the living at night to stay alive, but he never believed that. Seems that he's either too lazy or he's just too scared to go and find out on his own. Either way, I should slay 15 of these \"witches\" should I come across them.","ReplaceableTextures\\CommandButtons\\BTNAnimateDead.blp")set vv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction xs takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n00M')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Zr[9]))endfunctionfunction os takes nothing returns booleanreturn(ev[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=$F)endfunctionfunction rs takes nothing returns booleanreturn(ev[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==1)endfunctionfunction is takes nothing returns nothingset ev[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(ev[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(os())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00Hunter in the Night|r Quest Requirement Completed.")elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(ev[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" \"Shadow Witch(es)\" killed."))endifif(rs())thencall DisplayTimedTextToForce(YF(GetOwningPlayer(GetKillingUnit())),12.,("|cffffcc00"+(GetPlayerName(GetOwningPlayer(GetKillingUnit()))+"|r : Hmm, so these \"Shadow Witches\" are just banshees preying on little children. What a misleading rumour...either way, I've got to get rid of 15 of them.")))endifendfunctionfunction ns takes nothing returns booleanreturn(ev[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=$F)and(GetUnitTypeId(GetOrderTargetUnit())==Q)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction Vs takes nothing returns nothingcall ForceRemovePlayer(Zr[9],GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(vi[9],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(vv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set ev[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call AddHeroXPSwapped($2EE0,GetTriggerUnit(),true)call AdjustPlayerStateBJ(5000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endfunctionfunction Xs takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I027')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>=99)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[$A])==false)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),vi[$A])==false))!=nullendfunctionfunction Os takes nothing returns nothingcall ForceAddPlayer(Zr[$A],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Arnold|r : Hey stranger! Got a minute to spare? You see, I have troubles seeking a certain artifact due to my packed schedule here. Can you help me seek out three broken pieces of a powerful artifact and destroy it? The first fragment is located northeast, deep in the encampment of the Snoworcs. The second fragment is located in the cemetery behind the Wizard's Tower. The last fragment, I'm afraid, is beyond my knowledge. Find them and bring them back to me and I shall reward you handsomely for your efforts.")call CreateQuestBJ(0,("Immortal's Final Breath ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"TRIGSTR_3934","ReplaceableTextures\\CommandButtons\\BTN3M3.blp")set We[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction Is takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Zr[$A]))endfunctionfunction As takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01S')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),xx)==false)endfunctionfunction Ns takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01M')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),ox)==false)endfunctionfunction bs takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01T')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),ex)==false)endfunctionfunction Bs takes nothing returns nothingif(As())thencall ForceAddPlayer(xx,GetOwningPlayer(GetKillingUnit()))call QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,"|cffffcc00Obtained a fragment of the artifact from the Cemetery|r.")endifif(Ns())thencall ForceAddPlayer(ox,GetOwningPlayer(GetKillingUnit()))call QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,"|cffffcc00Obtained a fragment of the artifact from the Unknown Regions|r.")endifif(bs())thencall ForceAddPlayer(ex,GetOwningPlayer(GetKillingUnit()))call QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,"|cffffcc00Obtained a fragment of the artifact from the Snoworc Camp|r.")endifendfunctionfunction Cs takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),xx))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),ox))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),ex))and(GetUnitTypeId(GetOrderTargetUnit())==ye)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction ds takes nothing returns nothingcall ForceRemovePlayer(Zr[$A],GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(xx,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(ox,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(ex,GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(vi[$A],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(We[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call AddHeroXPSwapped($EA60,GetTriggerUnit(),true)call AdjustPlayerStateBJ($61A8,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endfunctionfunction fs takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I04E')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>=50)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[1])==false))!=nullendfunctionfunction Fs takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gi[1])==false)endfunctionfunction gs takes nothing returns nothingif(Fs())thencall ForceAddPlayer(gi[1],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Skypper|r : Aha! You! You look like a strong and experienced adventurer. Why don't you join Arnold and his expedition team on a new adventure? Arnold is recruiting new members for his team, so get ready and get going! Arnold is found in the City of New Lights.")call CreateQuestBJ(0,("Exploration ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"A new adventure huh? Sounds interesting... looks like I have to find Arnold in the City of New Lights.","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")set Xi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendifendfunctionfunction hs takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())==ye)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[1]))endfunctionfunction Hs takes nothing returns nothingcall ForceRemovePlayer(gi[1],GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Gi[1],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(Xi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),20.,"|cffffcc00Arnold|r : You are a new adventurer sent by Skypper huh? I hope you are no random stranger that he pulled out from the streets. No matter, you still have to prove yourself worthy for the team. Ready yourself and then report back to me.")call AddHeroXPSwapped(450,GetTriggerUnit(),true)call AdjustPlayerStateBJ($C8,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endfunctionfunction Js takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I04F')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>=55)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[2])==false))!=nullendfunctionfunction ks takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gi[1]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gi[2])==false)endfunctionfunction Ks takes nothing returns nothingif(ks())thencall ForceAddPlayer(gi[2],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Arnold|r : Looks like you're ready to go. An adventurer should always remain as silent as possible and listen to his surroundings, so listen carefully. There is a group of Lizardmen and Snap Dragons nearby and they are threatening the security of this city. I want you to clear them out, so we can continue on with our expedition. 40 of each will do.")call CreateQuestBJ(0,("Proving a Worth ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to prove my worth as part of Arnold's expedition group. Killing 40 Lizardmen and 40 Snap Dragons should be a piece of cake. They can be found north of the City.","ReplaceableTextures\\CommandButtons\\BTNReincarnation.blp")set Oi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendifendfunctionfunction Ls takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='n016')or(GetUnitTypeId(GetTriggerUnit())=='n017')or(GetUnitTypeId(GetTriggerUnit())=='n01B')endfunctionfunction ms takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),gi[2]))and(Ls())endfunctionfunction Ms takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n017')endfunctionfunction ps takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n016')endfunctionfunction Ps takes nothing returns booleanreturn(hi[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=40)endfunctionfunction qs takes nothing returns booleanreturn(GetBooleanOr(Ms(),ps()))endfunctionfunction Qs takes nothing returns booleanreturn(Ri[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=40)endfunctionfunction ss takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01B')endfunctionfunction Ss takes nothing returns booleanreturn(hi[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=40)endfunctionfunction ts takes nothing returns booleanreturn(Ri[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=40)endfunctionfunction Ts takes nothing returns booleanreturn(GetBooleanAnd(Ss(),ts()))endfunctionfunction us takes nothing returns nothingif(qs())thenset hi[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(hi[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(Ps())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,"|cffffcc00Quest Requirement Completed|r : 40 Lizardmen has been killed.")elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(hi[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Lizardman/Lizardmen killed."))endifendifif(ss())thenset Ri[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(Ri[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(Qs())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,"|cffffcc00Quest Requirement Completed|r : 40 Snap Dragons has been slain.")elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(Ri[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Snap Dragons slain."))endifendifif(Ts())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00Proving a Worth|r Quest Requirements Completed.")endifendfunctionfunction ws takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())==ye)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[2]))endfunctionfunction Ws takes nothing returns booleanreturn(hi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=40)endfunctionfunction ys takes nothing returns booleanreturn(Ri[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=40)endfunctionfunction Ys takes nothing returns booleanreturn(GetBooleanAnd(Ws(),ys()))endfunctionfunction zs takes nothing returns nothingif(Ys())thencall ForceRemovePlayer(gi[2],GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Gi[2],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(Oi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),25.,"|cffffcc00Arnold|r : You did well, young adventurer! You've indeed proven yourself useful to the expedition team. Great! Everything is in order, and I have enough members. Get ready for our upcoming expedition and then report back to me.")call AddHeroXPSwapped($4A38,GetTriggerUnit(),true)call AdjustPlayerStateBJ(5100,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)elsecall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00Arnold|r : What are you still doing here? Get a move on!")endifendfunctionfunction vS takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I04G')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>=60)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[3])==false))!=nullendfunctionfunction eS takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gi[2]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gi[3])==false)endfunctionfunction xS takes nothing returns nothingif(eS())thencall ForceAddPlayer(gi[3],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Arnold|r : Hey recruit! I recieved troubling news. Recently, a gang of goblins has taken over the abandoned gold mine that we are about to explore in the outskirts of the city. There's no way we can continue this expedition if the goblins are in control. I want you to eliminate their leader immediately.")call CreateQuestBJ(0,("Armoured Pride ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I got a new task from Arnold; I have to eliminate the goblin leader, in the gold mine at the outskirts of the city, so that the expedition team can continue their work in the gold mines.","ReplaceableTextures\\CommandButtons\\BTNJunkGolem.blp")set Ii[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendifendfunctionfunction rS takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U003')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),gi[3]))endfunctionfunction iS takes nothing returns booleanreturn(Ai[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==1)endfunctionfunction aS takes nothing returns booleanreturn(Ai[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>1)endfunctionfunction nS takes nothing returns nothingset Ai[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(Ai[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(iS())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00Armoured Pride|r Quest Requirement Completed.")call DisplayTimedTextToForce(YF(GetOwningPlayer(GetKillingUnit())),5.,"I have destroyed the leader of the goblins. Time to report back to Arnold.")endifif(aS())thencall DisplayTimedTextToForce(YF(GetOwningPlayer(GetKillingUnit())),5.,"|cffffcc00Armoured Pride|r Quest Requirement has already been completed.")endifendfunctionfunction ES takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())==ye)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[3]))endfunctionfunction XS takes nothing returns booleanreturn(Ai[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=1)endfunctionfunction OS takes nothing returns nothingif(XS())thencall ForceRemovePlayer(gi[3],GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Gi[3],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(Ii[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00Arnold|r : Fantastic! Now with the goblins out of the way, we can carry on with our expedition.")call AddHeroXPSwapped($5FB4,GetTriggerUnit(),true)call AdjustPlayerStateBJ(7800,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)elsecall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00Arnold|r : Have you killed the leader yet? No? Then get on with it.")endifendfunctionfunction IS takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I04I')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>='x')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[4])==false))!=nullendfunctionfunction AS takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gi[3]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gi[4])==false)endfunctionfunction NS takes nothing returns nothingif(AS())thencall ForceAddPlayer(gi[4],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Arnold|r : Good news! Recently, our expedition team found a new type of crystal. So I want you to do two tasks. Deliver a message to Master Ember and Kain. Tell Master Ember that new crystals has been found and will be sent to him soon, and tell Kain to deliver the materials I require as he's late again. You should know where Master Ember is and Kain is with Kiba in the Glacier Forest. You got your task, now off with you!")call CreateQuestBJ(0,("Research and Development ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"TRIGSTR_14560","ReplaceableTextures\\CommandButtons\\BTNMechanicalCritter.blp")set Ji[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendifendfunctionfunction BS takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='h01M')and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[4]))endfunctionfunction cS takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),ki[1])==false)endfunctionfunction CS takes nothing returns nothingif(cS())thencall DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Master Ember|r : Ahh, young traveller, I see you are sent by Arnold. He's found new pieces of an unknown crystal? Great! I'll be waiting for the package. Tell him that I got the message and will research on the crystals as soon as they arrive.")call ForceAddPlayer(ki[1],GetOwningPlayer(GetTriggerUnit()))endifendfunctionfunction DS takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())==ai)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[4]))endfunctionfunction fS takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),ki[2])==false)endfunctionfunction FS takes nothing returns nothingif(fS())thencall DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Kain|r : What? You're sent by Arnold? I see. He requires the materials already? Man, that guy is always so serious. I'll send him the materials immediately, and please, tell him to lighten up; it'll do him good.")call ForceAddPlayer(ki[2],GetOwningPlayer(GetTriggerUnit()))endifendfunctionfunction GS takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())==ye)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[4]))endfunctionfunction hS takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),ki[1]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),ki[2]))endfunctionfunction HS takes nothing returns nothingif(hS())thencall ForceRemovePlayer(gi[4],GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Gi[4],GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(ki[1],GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(ki[2],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(Ji[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),20.,"|cffffcc00Arnold|r : By the looks of a cart arriving with my materials, I see you have conveyed my message to Kain. Master Ember also sent me a letter that he had recieved the crystals. Great! You've done well.")call AddHeroXPSwapped($2CEC,GetTriggerUnit(),true)call AdjustPlayerStateBJ($780,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)elsecall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00Arnold|r : You've got your task. Now get on with it!")endifendfunctionfunction JS takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I04A')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>=$C7)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[5])==false))!=nullendfunctionfunction kS takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gi[4]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gi[5])==false)endfunctionfunction KS takes nothing returns nothingif(kS())thencall ForceAddPlayer(gi[5],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Arnold|r : Hey you! I've got good news and bad news for you. The bad news is that I've deployed some soldiers and medics to Glacier Forest encampment and somehow they went missing. Also, I've received disturbing news saying that they went into a city nearby and disappeared ever since. This is awkward as there aren't any known civilisations nearby. The good news is, you have the most important task of finding them. Now get over to Glacier Forest and find out what's happening!")call CreateQuestBJ(0,("Deja Vu ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"An unknown city huh? Looks like I have to find out what's the problem.","ReplaceableTextures\\CommandButtons\\BTNMassTeleport.blp")set yr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendifendfunctionfunction LS takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[5]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),zr)==false))!=nullendfunctionfunction mS takes nothing returns nothingcall QuestMessageBJ(YF(GetOwningPlayer(GetTriggerUnit())),1,"|cffffcc00I found it! There really is a city! I need to get back to Arnold and tell him what I've found.|r")call ForceAddPlayer(zr,GetOwningPlayer(GetTriggerUnit()))endfunctionfunction pS takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())==ye)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[5]))endfunctionfunction PS takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),zr))endfunctionfunction qS takes nothing returns nothingif(PS())thencall ForceRemovePlayer(gi[5],GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Gi[5],GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(zr,GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(yr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),20.,"|cffffcc00Arnold|r : Good gracious! There's really a city? I can't believe it! This could be a great discovery, recruit! You hear what I'm saying? I'll need you to prepare youself and report back to me. I'll give you further instructions.")call AddHeroXPSwapped($60CC,GetTriggerUnit(),true)call AdjustPlayerStateBJ($3FC0,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)elsecall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00Arnold|r : What are you still doing here? Lives are at stake so go! Go! Go!")endifendfunctionfunction sS takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I04C')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>=$CD)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[6])==false))!=nullendfunctionfunction SS takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gi[5]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gi[6])==false)endfunctionfunction tS takes nothing returns nothingif(SS())thencall ForceAddPlayer(gi[6],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Arnold|r : Good! You're ready. Now I want you to report to Kiba, an Agent of Silvasia Civil Force that I've deployed to Glacier Forest weeks ago. He'll give you further instructions on what you can do to aid his evacuation team.")call CreateQuestBJ(0,("Sixth Man ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to meet up with Kiba in the Glacier Forest to recieve further instructions.","ReplaceableTextures\\CommandButtons\\BTNFlyingMachine.blp")set ri[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendifendfunctionfunction uS takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())==ii)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[6]))endfunctionfunction US takes nothing returns nothingcall ForceRemovePlayer(gi[6],GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Gi[6],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(ri[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),30.,"|cffffcc00Kiba|r : Great! A new recruit for my evacuation team. Arnold did send me a letter, saying he sent his best expedition member on field to aid me with my evacuation, and you sure match the description! Okay, while waiting for the rest of the members of my team to arrive, I need to help stock up for our 'adventure'. Get ready and report back to me.")call AddHeroXPSwapped($3E8,GetTriggerUnit(),true)call AdjustPlayerStateBJ(910,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endfunctionfunction WS takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I04D')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>=$CD)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[7])==false))!=nullendfunctionfunction yS takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gi[6]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gi[7])==false)endfunctionfunction YS takes nothing returns nothingif(yS())thencall ForceAddPlayer(gi[7],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Kiba|r : Ah! Ready as ever. Now listen carefully. We are running low on supplies, so I want you to help us stock up. My team and I will set up our equipment and gather the rare Oilberries for the equipment. You will help gather food and some medical supplies from nearby. Snap Dragon meat would do fine for food and life essences of the Enraged Spirits should be able to cover our medical supplies. 100 of each will do, so get on with it!")call CreateQuestBJ(0,("Stocking Up ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"I have to help as part of the evacuation team. While the rest are at work, I have to gather 100 Snap Dragon meat and 100 life essences of the Enraged Spirits nearby. This should be a piece of cake.","ReplaceableTextures\\CommandButtons\\BTNMonsterLure.blp")set Ei[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendifendfunctionfunction ZS takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='n01K')or(GetUnitTypeId(GetTriggerUnit())=='n01B')endfunctionfunction vt takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),gi[7]))and(ZS())endfunctionfunction et takes nothing returns booleanreturn(Vi[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>='d')endfunctionfunction xt takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01K')endfunctionfunction ot takes nothing returns booleanreturn(ni[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>='d')endfunctionfunction rt takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01B')endfunctionfunction it takes nothing returns booleanreturn(Vi[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>='d')endfunctionfunction at takes nothing returns booleanreturn(ni[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>='d')endfunctionfunction nt takes nothing returns booleanreturn(GetBooleanAnd(it(),at()))endfunctionfunction Vt takes nothing returns nothingif(xt())thenset Vi[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(Vi[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(et())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,"|cffffcc00Quest Requirement Completed|r : 100 life essences of Enraged Spirit collected.")elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(Vi[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" life essence(s) of the Enraged Spirit(s) collected."))endifendifif(rt())thenset ni[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(ni[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(ot())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,"|cffffcc00Quest Requirement Completed|r : 100 Snap Dragon meat collected.")elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(ni[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" chunk(s) of meat of collected."))endifendifif(nt())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00Stocking Up|r Quest Requirements Completed.")endifendfunctionfunction Xt takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())==ii)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),gi[7]))and(Vi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>='d')and(ni[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>='d')endfunctionfunction Ot takes nothing returns nothingcall ForceRemovePlayer(gi[7],GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(Gi[7],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(Ei[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),10.,"|cffffcc00Kiba|r : Great work recruit! I couldn't have done it any better myself. You did a great favour to the team!")call AddHeroXPSwapped($1F400,GetTriggerUnit(),true)call AdjustPlayerStateBJ($C79C,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endfunctionfunction It takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I04B')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>=60)and(GetHeroLevel(GetTriggerUnit())<='d')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[$B])==false))!=nullendfunctionfunction At takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),vi[$B])==false)endfunctionfunction Nt takes nothing returns nothingif(At())thencall ForceAddPlayer(Zr[$B],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Squeaky|r : Hello kind stranger! Do you have time to spare? You see, the cooks of the Wizard's Tower usually send me my supplies on time, but recently, ever since they changed deliverymen, my supplies are always late or never arrive at all! You've got to help me stranger. Ask Wizard Hannah if she knows anything about this.")call CreateQuestBJ(0,("Ghastly Appetite ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"Squeaky's supplies from Wizard's Tower is always late. I've to help him find out whats wrong. My investigation will start off with Wizard Hannah...","ReplaceableTextures\\CommandButtons\\BTNShade.blp")set xi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendifendfunctionfunction Bt takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='h01O')and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[$B]))endfunctionfunction ct takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Li[1])==false)endfunctionfunction Ct takes nothing returns nothingif(ct())thencall DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),30.,"|cffffcc00Wizard Hannah|r : What? It's Squeaky again? He is giving us a lot of problems lately; I'm sorry to see such a kind stranger being pulled into his troubles. Our previous deliveryman retired already and we had never hired a new one since. Our supply cart were sent to Squeaky by the use of magic. I believe I've told Squeaky this, but it looks like the message went into his stomach instead of his head. Perhaps our retired deliveryman could help you in your investigation? He currently lives in the City of New Lights.")call QuestSetDescription(xi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"TRIGSTR_14416")call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffff0000Quest Log has been updated. Please check Quests[F9] for more details.|r")call ForceAddPlayer(Li[1],GetOwningPlayer(GetTriggerUnit()))elsecall DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00Wizard Hannah|r : I hope you solve Squeaky's problems.")endifendfunctionfunction Dt takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[$B]))endfunctionfunction ft takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='n02U')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Li[1]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Li[2])==false)endfunctionfunction Ft takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='n02X')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Li[1]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Li[2])==false)endfunctionfunction gt takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='n02W')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Li[1]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Li[2])==false)endfunctionfunction Gt takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='n02V')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Li[1]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Li[2])==false)endfunctionfunction ht takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='n02Y')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Li[1]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Li[2])==false)endfunctionfunction Ht takes nothing returns nothingif(ft())thencall DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),15.,"|cffffcc00Harold|r : You looking for a deliveryman who used to work in the Wizard's Tower? There are many people who worked in the Wizard's Tower. I'm the previous deliveryman, retired out of old age.")call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffff8c00You've found the man you're looking for!|r")call QuestSetDescription(xi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"I've found the deliveryman. He looks old and not good in remembering things. Well, I don't know if I can get anything out from him but it is worth a shot.")call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffff0000Quest Log has been updated. Please check Quests[F9] for more details.|r")call ForceAddPlayer(Li[2],GetOwningPlayer(GetTriggerUnit()))endifif(Ft())thencall DisplayTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),"|cffffcc00Gregory|r : A deliveryman? I was one myself. Used to work for Skypper. Haha, he was a bossy person but then again, he pays for a good work done. I know it's unbelievable but it is true. Huh? You're looking for Wizard Hannah's deliveryman? Hmm, let's see... Oh yes! I remember Harold and I used to chat over drinks after our deliveries! I'm not sure if he worked for Wizard Hannah or not, but you may want to ask him. He usually stays near the bridge leading to the Trade Quarter these days.")endifif(gt())thencall DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00Pieter|r : I don't know much about this city. I just moved here. Sorry I can't be of much help.")endifif(Gt())thencall DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),12.,"|cffffcc00Indigo|r : You're looking for a deliveryman? I don't know anyone here who has worked as a deliveryman before. You might want to try asking citizens near the Inn. They are well informed.")endifif(ht())thencall DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),12.,"|cffffcc00Sandra|r : My husband Gregory was a deliveryman once. I don't know about his colleagues or work areas but you might want to ask him to get more information.")endifendfunctionfunction Jt takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())=='n02U')and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[$B]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Li[2]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Li[3])==false)endfunctionfunction kt takes nothing returns nothingcall ForceAddPlayer(Li[3],GetOwningPlayer(GetTriggerUnit()))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00Harold|r : Let me think...")call TriggerSleepAction(5.)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),30.,"|cffffcc00Harold|r : Aye. I remember when I was younger, I was full of strength and I could work as a coolie or a deliveryman. I've done jobs that require heavy lifting. However, as I aged, my strength wasn't what it used to be. Wizard Hannah suggested for me to retire but I refused. I've got to work for a living you know! She then gave me enough money to support myself for a long time and finally, I agreed. She's a great person. Anyway, ever since I retired, they never hired a new deliveryman, but I remembered on the day I left Wizard's Tower, I heard noises behind the tower. I assumed the kids were just playing nearby so I simply ignored it.")call QuestSetDescription(xi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Ahh, this is starting to make sense. I reckon it has something to do with monsters appearing near the Wizard's Tower. I'd better go get rid of these monsters. Who knows what would happen next?")call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffff0000Quest Log has been updated. Please check Quests[F9] for more details.|r")endfunctionfunction lt takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Zr[$B]))and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Li[3]))and(GetUnitTypeId(GetDyingUnit())=='n01G')endfunctionfunction Lt takes nothing returns booleanreturn(oi[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=50)endfunctionfunction mt takes nothing returns booleanreturn(oi[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==1)endfunctionfunction Mt takes nothing returns nothingset oi[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(oi[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(Lt())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00Ghastly Appetite|r Quest Requirement Completed.")elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(oi[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Bloodthirsty Maniac(s) killed."))endifif(mt())thencall DisplayTimedTextToForce(YF(GetOwningPlayer(GetKillingUnit())),5.,"Aha! I knew it! These Bloodthirsty Maniacs are behind all these. I'd better eliminate at least 50 of them to prevent any troubles from them in the future.")endifendfunctionfunction Pt takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())==Wr)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[$B]))and(oi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=50)endfunctionfunction qt takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01D'))endfunctionfunction Qt takes nothing returns nothingcall ForceRemovePlayer(Zr[$B],GetOwningPlayer(GetTriggerUnit()))call ForceAddPlayer(vi[$B],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(xi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),15.,"|cffffcc00Squeaky|r : Ahh! Thank you so much, kind stranger! Just a moment ago, a new cart of supplies had arrived. I'm happy to say it's filled to the brim with Owlkin meat! Here's something from me to express my gratitude to you.")call AddHeroXPSwapped(91820,GetTriggerUnit(),true)if(qt())thencall SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01D'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01D'))+45))elsecall UnitAddItemByIdSwapped('I01D',GetTriggerUnit())call SetItemCharges(bj_lastCreatedItem,45)endifendfunctionfunction tt takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I048')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>='d')and(GetHeroLevel(GetTriggerUnit())<=$A0)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[$C])==false))!=nullendfunctionfunction Tt takes nothing returns nothingcall ForceAddPlayer(Zr[$C],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Squeaky|r : Hi there young traveller! I'm sure during your travels, you must have heard of this heavenly dish called Sludge Booze? Well, I research on these kinds of heavenly dishes and I made some of them myself. If you're kind enough to help me collect 60 sludge juice from Sewer Monsters, I will gladly reward you!")call CreateQuestBJ(0,("Sludge Fudge ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"A drink made out of sludge juice? Yuck! Disgusting idea; I wouldn't even dare to try it. Well... let's get this over and done with.","ReplaceableTextures\\CommandButtons\\BTNSludgeCreature.blp")set Ur[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction Ut takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n028')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Zr[$C]))endfunctionfunction wt takes nothing returns booleanreturn(wr[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=60)endfunctionfunction Wt takes nothing returns nothingset wr[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(wr[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(wt())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00Sludge Fudge|r Quest Requirement Completed.")elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(wr[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Sewer Monster(s) Juice collected."))endifendfunctionfunction Yt takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())==Wr)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[$C]))and(wr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=60)endfunctionfunction zt takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01D'))endfunctionfunction Zt takes nothing returns nothingset wr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0call ForceRemovePlayer(Zr[$C],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(Ur[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),10.,"|cffffcc00Squeaky|r : Oh my god! I got all the ingredients! Fantastic! Thank you so much kind traveller, and as promised, I'll reward you. Thank you once again!")call AddHeroXPSwapped(80710,GetTriggerUnit(),true)if(zt())thencall SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01D'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01D'))+40))elsecall UnitAddItemByIdSwapped('I01D',GetTriggerUnit())call SetItemCharges(bj_lastCreatedItem,40)endifendfunctionfunction eT takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I049')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetHeroLevel(GetTriggerUnit())>=50)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[$D])==false))!=nullendfunctionfunction xT takes nothing returns nothingcall ForceAddPlayer(Zr[$D],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Squeaky|r : Hmm, you look parched. Luckily I have the right drink just for you! I can make you potions that are similar to those sold in the Inns, but at a cheaper rate. What? You'd rather have those in the Inns? Haha! I understand. I don't want any of your gold. You see, I'm currently researching on potions that make you immortal. Yes! Immortal as in living for all eternity. However, I'm lacking one single ingredient for this wonderful drink. Owlkin's blood. I require at least 50 bottles of it. Bring me the blood of Owlkins and I'll reward you!")call CreateQuestBJ(0,("Vampirism ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"Researching on potions that give you eternal life is one thing, but to make it out of the blood of dead Owlkins is just repulsive. The idea of drinking blood from any animal is disgusting, let alone Owlkins...","ReplaceableTextures\\CommandButtons\\BTNVampiricAura.blp")set Yr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction rT takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n019')and(IsPlayerInForce(GetOwningPlayer(GetKillingUnit()),Zr[$D]))endfunctionfunction iT takes nothing returns booleanreturn(ei[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=50)endfunctionfunction aT takes nothing returns nothingset ei[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(ei[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)if(iT())thencall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),2,"|cffffcc00Vampirism|r Quest Requirement Completed.")elsecall QuestMessageBJ(YF(GetOwningPlayer(GetKillingUnit())),1,(I2S(ei[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])+" Enraged Owlkin(s) blood collected."))endifendfunctionfunction VT takes nothing returns booleanreturn(GetUnitTypeId(GetOrderTargetUnit())==Wr)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Zr[$D]))and(ei[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=50)endfunctionfunction ET takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01D'))endfunctionfunction XT takes nothing returns nothingset ei[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0call ForceRemovePlayer(Zr[$D],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(Yr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PlaySoundBJ(DI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00You have completed the Quest|r.")call DisplayTimedTextToForce(YF(GetOwningPlayer(GetOrderedUnit())),5.,"|cffffcc00Squeaky|r : Thanks a lot young adventurer! Here are the potions as promised.")call AddHeroXPSwapped(80710,GetTriggerUnit(),true)if(ET())thencall SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01D'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01D'))+25))elsecall UnitAddItemByIdSwapped('I01D',GetTriggerUnit())call SetItemCharges(bj_lastCreatedItem,25)endifendfunctionfunction RT takes nothing returns booleanreturn(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==false)!=nullendfunctionfunction IT takes nothing returns nothingif(RT())thenset w=(w+1)call SetUnitUserData(GetEnumUnit(),w)set T[w]=GetUnitX(GetEnumUnit())set U[w]=GetUnitY(GetEnumUnit())endifendfunctionfunction AT takes nothing returns booleanreturn(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction NT takes nothing returns nothingif(AT())thenset w=(w+1)call SetUnitUserData(GetEnumUnit(),w)set kv[w]=GetUnitX(GetEnumUnit())set Kv[w]=GetUnitY(GetEnumUnit())endifendfunctionfunction bT takes nothing returns nothingset Gr=sF(bj_mapInitialPlayableArea,Player($C))call ForGroupBJ(Gr,function IT)call DestroyGroup(Gr)set Gr=sF(bj_mapInitialPlayableArea,Player($C))call ForGroupBJ(Gr,function NT)call DestroyGroup(Gr)endfunctionfunction cT takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player($C))endfunctionfunction CT takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)!=true)!=nullendfunctionfunction dT takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player($C))endfunctionfunction DT takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)!=true)!=nullendfunctionfunction fT takes nothing returns booleanreturn(GetBooleanAnd(cT(),CT()))and(GetBooleanAnd(dT(),DT()))and(GetUnitTypeId(GetTriggerUnit())!='nspr')and(GetUnitTypeId(GetTriggerUnit())!='n02H')and(GetUnitTypeId(GetTriggerUnit())!='n02I')and(GetUnitTypeId(GetTriggerUnit())!='n02D')and(GetUnitTypeId(GetTriggerUnit())!='n02F')and(GetUnitTypeId(GetTriggerUnit())!='n02E')and(GetUnitTypeId(GetTriggerUnit())!='n02G')and(GetUnitTypeId(GetTriggerUnit())!='n02N')and(GetUnitTypeId(GetTriggerUnit())!='n02M')and(GetUnitTypeId(GetTriggerUnit())!='n02L')and(GetUnitTypeId(GetTriggerUnit())!='n02O')and(GetUnitTypeId(GetTriggerUnit())!='n02J')and(GetUnitTypeId(GetTriggerUnit())!='n02K')and(GetUnitTypeId(GetTriggerUnit())!='U000')and(GetUnitTypeId(GetTriggerUnit())!='U001')and(GetUnitTypeId(GetTriggerUnit())!='U003')and(GetUnitTypeId(GetTriggerUnit())!='U002')and(GetUnitTypeId(GetTriggerUnit())!='U004')and(GetUnitTypeId(GetTriggerUnit())!='U006')and(GetUnitTypeId(GetTriggerUnit())!='U00A')and(GetUnitTypeId(GetTriggerUnit())!='U009')and(GetUnitTypeId(GetTriggerUnit())!='U00B')and(GetUnitTypeId(GetTriggerUnit())!='U007')and(GetUnitTypeId(GetTriggerUnit())!='U00C')and(GetUnitTypeId(GetTriggerUnit())!='U00I')endfunctionfunction FT takes nothing returns nothingcall GF(40.)set W[1]=GetRectCenter(GetWorldBounds())set W[2]=OffsetLocation(W[1],T[GetUnitUserData(GetTriggerUnit())],U[GetUnitUserData(GetTriggerUnit())])call CreateNUnitsAtLoc(1,GetUnitTypeId(GetTriggerUnit()),Player($C),W[2],GetRandomReal(0,360))call SetUnitUserData(bj_lastCreatedUnit,GetUnitUserData(GetTriggerUnit()))call RemoveLocation(W[1])call RemoveLocation(W[2])endfunctionfunction GT takes nothing returns booleanreturn((GetOwningPlayer(GetTriggerUnit())==Player($C))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_ANCIENT)!=true))!=nullendfunctionfunction hT takes nothing returns booleanreturn(GetUnitTypeId(bj_lastCreatedUnit)=='U000')endfunctionfunction HT takes nothing returns booleanreturn(GetUnitTypeId(bj_lastCreatedUnit)=='U001')endfunctionfunction jT takes nothing returns booleanreturn(GetUnitTypeId(bj_lastCreatedUnit)=='U003')endfunctionfunction JT takes nothing returns booleanreturn(GetUnitTypeId(bj_lastCreatedUnit)=='U002')endfunctionfunction kT takes nothing returns booleanreturn(GetUnitTypeId(bj_lastCreatedUnit)=='U004')endfunctionfunction KT takes nothing returns booleanreturn(GetUnitTypeId(bj_lastCreatedUnit)=='U006')endfunctionfunction lT takes nothing returns booleanreturn(GetUnitTypeId(bj_lastCreatedUnit)=='U009')endfunctionfunction LT takes nothing returns booleanreturn(GetUnitTypeId(bj_lastCreatedUnit)=='U00A')endfunctionfunction mT takes nothing returns booleanreturn(GetUnitTypeId(bj_lastCreatedUnit)=='U00B')endfunctionfunction MT takes nothing returns booleanreturn(GetUnitTypeId(bj_lastCreatedUnit)=='U007')endfunctionfunction pT takes nothing returns nothingcall GF(5.)set Jv[1]=GetRectCenter(GetWorldBounds())set Jv[2]=OffsetLocation(Jv[1],kv[GetUnitUserData(GetTriggerUnit())],Kv[GetUnitUserData(GetTriggerUnit())])call CreateNUnitsAtLoc(1,GetUnitTypeId(GetTriggerUnit()),Player($C),Jv[2],GetRandomReal(0,360))if(hT())thencall SetHeroLevelBJ(bj_lastCreatedUnit,25,false)endifif(HT())thencall SetHeroLevelBJ(bj_lastCreatedUnit,45,false)endifif(jT())thencall SetHeroLevelBJ(bj_lastCreatedUnit,52,false)endifif(JT())thencall SetHeroLevelBJ(bj_lastCreatedUnit,60,false)endifif(kT())thencall SetHeroLevelBJ(bj_lastCreatedUnit,65,false)endifif(KT())thencall SetHeroLevelBJ(bj_lastCreatedUnit,90,false)endifif(lT())thencall SetHeroLevelBJ(bj_lastCreatedUnit,$B4,false)endifif(LT())thencall SetHeroLevelBJ(bj_lastCreatedUnit,$8C,false)endifif(mT())thencall SetHeroLevelBJ(bj_lastCreatedUnit,$DC,false)endifif(MT())thencall SetHeroLevelBJ(bj_lastCreatedUnit,$FA,false)endifcall SetUnitUserData(bj_lastCreatedUnit,GetUnitUserData(GetTriggerUnit()))call RemoveLocation(Jv[1])call RemoveLocation(Jv[2])endfunctionfunction qT takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='h00Z')endfunctionfunction QT takes nothing returns nothingcall GF(20.)set Pv=GetRectCenter(CR)call CreateNUnitsAtLoc(1,'h00Z',Player($F),Pv,270.)call RemoveLocation(Pv)endfunctionfunction ST takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)endfunctionfunction tT takes nothing returns nothingcall TriggerRegisterUnitEvent(qc,GetTriggerUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(NA,GetTriggerUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(Pc,GetTriggerUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(Qc,GetTriggerUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(tc,GetTriggerUnit(),EVENT_UNIT_DAMAGED)if(ST())thencall TriggerRegisterUnitEvent(eD,GetTriggerUnit(),EVENT_UNIT_DAMAGED)endifendfunctionfunction uT takes nothing returns booleanreturn(GetSpellAbilityId()=='A04W')or(GetSpellAbilityId()=='A04X')or(GetSpellAbilityId()=='A07A')or(GetSpellAbilityId()=='A04S')endfunctionfunction UT takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),rn)==false)and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04N'))and(GetSpellAbilityId()!='A04P')and(uT())endfunctionfunction wT takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))endfunctionfunction WT takes nothing returns nothingcall UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(en[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)endfunctionfunction yT takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),bi))endfunctionfunction YT takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Bn)==false)endfunctionfunction zT takes nothing returns booleanreturn(Ya[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]<=40)endfunctionfunction ZT takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))endfunctionfunction vu takes nothing returns nothingcall UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),25000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)endfunctionfunction eu takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),bi))endfunctionfunction xu takes nothing returns booleanreturn(za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]<=70)endfunctionfunction ou takes nothing returns nothingcall GF(.05)call GroupAddUnit(LV,GetTriggerUnit())set Ya[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetRandomInt(1,'d')if(zT())thencall GroupAddUnit(kV,GetTriggerUnit())call PauseUnit(GetTriggerUnit(),true)set xn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetTriggerUnit())set Za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitFacing(GetTriggerUnit())set vn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=jF(GetUnitLoc(GetTriggerUnit()),100.,Za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call CreateNUnitsAtLoc(1,'h03U',GetOwningPlayer(GetTriggerUnit()),vn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call CreateNUnitsAtLoc(1,'h03W',GetOwningPlayer(GetTriggerUnit()),xn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call CreateNUnitsAtLoc(1,'h045',GetOwningPlayer(GetTriggerUnit()),xn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set on[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedUnitcall SetUnitAnimation(GetTriggerUnit(),"channel")call CreateTextTagUnitBJ("|cffFF80FFStarlight...|r",GetTriggerUnit(),0,12.,'d',100.,100.,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,15.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,4.)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,4.5)call GF(1.)call SetUnitScalePercent(on[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],400.,400.,400.)call GF(1.)call SetUnitScalePercent(on[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],700.,700.,700.)call GF(1.)call SetUnitScalePercent(on[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],1000.,1000.,1000.)call GF(1.)call SetUnitAnimation(GetTriggerUnit(),"attack")call GF(.2)call CreateNUnitsAtLoc(1,'h044',GetOwningPlayer(GetTriggerUnit()),vn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetUnitTimeScalePercent(bj_lastCreatedUnit,20.)call CreateTextTagUnitBJ("|cffFF80FF...Breaker!!|r",GetTriggerUnit(),0,12.,'d',100.,100.,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,15.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,3.)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.5)set sa=GetUnitLoc(GetTriggerUnit())set Sa=jF(GetUnitLoc(GetTriggerUnit()),400.,GetUnitFacing(GetTriggerUnit()))set ta=DistanceBetweenPoints(sa,Sa)set Ta=AngleBetweenPoints(sa,Sa)set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=R2I((ta/ 50.))loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset ua=jF(sa,I2R((bj_forLoopAIndex*50)),Ta)set Ua=tF(400.,ua,Condition(function wT))call GroupAddGroup(Ua,wa)call RemoveLocation(ua)call DestroyGroup(Ua)set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall DisableTrigger(NA)set en[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(5*GetHeroStatBJ(2,GetTriggerUnit(),true))call ForGroupBJ(wa,function WT)if(yT())thenset Di[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(Di[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]+I2R(en[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))endifcall EnableTrigger(NA)call RemoveLocation(sa)call RemoveLocation(Sa)call RemoveLocation(xn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(vn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call GroupClear(wa)call GF(.2)if(YT())thencall PauseUnit(GetTriggerUnit(),false)endifcall IssueImmediateOrderById(GetTriggerUnit(),$D0004)call ResetUnitAnimation(GetTriggerUnit())call GroupRemoveUnit(kV,GetTriggerUnit())returnendifset za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetRandomInt(1,'d')if(xu())thenset vn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=jF(GetUnitLoc(GetTriggerUnit()),30.,Za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set Za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitFacing(GetTriggerUnit())call CreateNUnitsAtLoc(1,'h03V',GetOwningPlayer(GetTriggerUnit()),vn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetUnitTimeScalePercent(bj_lastCreatedUnit,60.)call CreateNUnitsAtLoc(1,'h049',GetOwningPlayer(GetTriggerUnit()),vn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set sa=GetUnitLoc(GetTriggerUnit())set Sa=jF(GetUnitLoc(GetTriggerUnit()),300.,GetUnitFacing(GetTriggerUnit()))set ta=DistanceBetweenPoints(sa,Sa)set Ta=AngleBetweenPoints(sa,Sa)set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=R2I((ta/ 50.))loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset ua=jF(sa,I2R((bj_forLoopAIndex*50)),Ta)set Ua=tF(300.,ua,Condition(function ZT))call GroupAddGroup(Ua,wa)call RemoveLocation(ua)call DestroyGroup(Ua)set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall DisableTrigger(NA)call ForGroupBJ(wa,function vu)if(eu())thenset Di[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(Di[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]+25000.)endifcall EnableTrigger(NA)call CreateTextTagUnitBJ("|cffFF80FFExcellion Buster!|r",GetTriggerUnit(),0,12.,'d',100.,100.,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,30.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,2.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)call RemoveLocation(sa)call RemoveLocation(Sa)call RemoveLocation(vn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call GroupClear(wa)endifcall GroupRemoveUnit(LV,GetTriggerUnit())endfunctionfunction iu takes nothing returns booleanreturn(GetSpellAbilityId()=='A085')or(GetSpellAbilityId()=='A084')or(GetSpellAbilityId()=='A086')endfunctionfunction au takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),rn)==false)and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04O'))and(iu())endfunctionfunction nu takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))endfunctionfunction Vu takes nothing returns nothingcall UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),I2R(en[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)endfunctionfunction Eu takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),bi))endfunctionfunction Xu takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Bn)==false)endfunctionfunction Ou takes nothing returns booleanreturn(Ya[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]<=50)endfunctionfunction Ru takes nothing returns nothingcall GF(.05)set Ya[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetRandomInt(1,'d')if(Ou())thencall GroupAddUnit(LV,GetTriggerUnit())call GroupAddUnit(in,GetTriggerUnit())call PauseUnit(GetTriggerUnit(),true)set xn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetTriggerUnit())set Za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitFacing(GetTriggerUnit())set vn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=jF(GetUnitLoc(GetTriggerUnit()),100.,Za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call CreateNUnitsAtLoc(1,'h043',GetOwningPlayer(GetTriggerUnit()),vn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call CreateNUnitsAtLoc(1,'h046',GetOwningPlayer(GetTriggerUnit()),xn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetUnitTimeScalePercent(bj_lastCreatedUnit,15.)set on[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedUnitcall SetUnitAnimation(GetTriggerUnit(),"spell")call CreateTextTagUnitBJ("|cffCFCFCFResound, Horn of Judgment!|r",GetTriggerUnit(),0,12.,'d',100.,100.,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,25.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,3.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,4.)call GF(1.)call SetUnitScalePercent(on[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],300.,300.,300.)call GF(1.)call SetUnitScalePercent(on[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],500.,500.,500.)call GF(1.)call SetUnitAnimation(GetTriggerUnit(),"attack")call GF(.2)call CreateNUnitsAtLoc(1,'h03X',GetOwningPlayer(GetTriggerUnit()),vn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Za[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetUnitTimeScalePercent(bj_lastCreatedUnit,10.)call CreateTextTagUnitBJ("|cffCFCFCFRagnarok!!|r",GetTriggerUnit(),0,12.,'d',100.,100.,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,20.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,3.)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.5)set sa=GetUnitLoc(GetTriggerUnit())set Sa=jF(GetUnitLoc(GetTriggerUnit()),400.,GetUnitFacing(GetTriggerUnit()))set ta=DistanceBetweenPoints(sa,Sa)set Ta=AngleBetweenPoints(sa,Sa)set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=R2I((ta/ 50.))loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset ua=jF(sa,I2R((bj_forLoopAIndex*50)),Ta)set Ua=tF(350.,ua,Condition(function nu))call GroupAddGroup(Ua,wa)call RemoveLocation(ua)call DestroyGroup(Ua)set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall DisableTrigger(NA)set en[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(4*GetHeroStatBJ(2,GetTriggerUnit(),true))call ForGroupBJ(wa,function Vu)if(Eu())thenset Di[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(Di[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]+I2R(en[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))endifcall EnableTrigger(NA)call RemoveLocation(sa)call RemoveLocation(Sa)call RemoveLocation(xn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(vn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call GroupClear(wa)call GF(.2)if(Xu())thencall PauseUnit(GetTriggerUnit(),false)endifcall IssueImmediateOrderById(GetTriggerUnit(),$D0004)call ResetUnitAnimation(GetTriggerUnit())call GroupRemoveUnit(LV,GetTriggerUnit())call GroupRemoveUnit(in,GetTriggerUnit())endifendfunctionfunction Au takes nothing returns booleanreturn((IsPlayerInForce(GetOwningPlayer(GetEventDamageSource()),rn)==false)and(IsUnitInGroup(GetEventDamageSource(),in)==false)and(UnitHasItemOfTypeBJ(GetEventDamageSource(),'I04O'))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false))!=nullendfunctionfunction Nu takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource())))endfunctionfunction bu takes nothing returns nothingcall UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),18000.,ATTACK_TYPE_HERO,DAMAGE_TYPE_ENHANCED)endfunctionfunction Bu takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetEventDamageSource()),bi))endfunctionfunction cu takes nothing returns booleanreturn(Ya[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]<=20)endfunctionfunction Cu takes nothing returns nothingcall DisableTrigger(GetTriggeringTrigger())set Ya[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=GetRandomInt(1,'d')if(cu())thencall GroupAddUnit(LV,GetEventDamageSource())set nn=GetUnitFacing(GetEventDamageSource())set an=jF(GetUnitLoc(GetEventDamageSource()),40.,nn)set Vn=jF(GetUnitLoc(GetEventDamageSource()),70.,nn)set En[1]=GetRandomLocInRect(RectFromCenterSizeBJ(Vn,300.,300.))set En[2]=GetRandomLocInRect(RectFromCenterSizeBJ(Vn,300.,300.))set En[3]=GetRandomLocInRect(RectFromCenterSizeBJ(Vn,300.,300.))set En[4]=GetRandomLocInRect(RectFromCenterSizeBJ(Vn,300.,300.))call CreateNUnitsAtLoc(1,'h04A',GetOwningPlayer(GetEventDamageSource()),En[1],nn)call CreateNUnitsAtLoc(1,'h04B',GetOwningPlayer(GetEventDamageSource()),En[1],nn)call CreateNUnitsAtLoc(1,'h04A',GetOwningPlayer(GetEventDamageSource()),En[2],nn)call CreateNUnitsAtLoc(1,'h04B',GetOwningPlayer(GetEventDamageSource()),En[2],nn)call CreateNUnitsAtLoc(1,'h04A',GetOwningPlayer(GetEventDamageSource()),En[3],nn)call CreateNUnitsAtLoc(1,'h04B',GetOwningPlayer(GetEventDamageSource()),En[3],nn)call CreateNUnitsAtLoc(1,'h04A',GetOwningPlayer(GetEventDamageSource()),En[4],nn)call CreateNUnitsAtLoc(1,'h04B',GetOwningPlayer(GetEventDamageSource()),En[4],nn)call CreateTextTagUnitBJ("|cffCFCFCFHrsvelgr!|r",GetEventDamageSource(),0,12.,'d',100.,100.,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,25.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,2.)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)set sa=GetUnitLoc(GetEventDamageSource())set Sa=jF(GetUnitLoc(GetEventDamageSource()),300.,GetUnitFacing(GetEventDamageSource()))set ta=DistanceBetweenPoints(sa,Sa)set Ta=AngleBetweenPoints(sa,Sa)set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=R2I((ta/ 50.))loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset ua=jF(sa,I2R((bj_forLoopAIndex*50)),Ta)set Ua=tF(300.,ua,Condition(function Nu))call GroupAddGroup(Ua,wa)call RemoveLocation(ua)call DestroyGroup(Ua)set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall DisableTrigger(NA)call ForGroupBJ(wa,function bu)if(Bu())thenset Di[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=(Di[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]+18000.)endifcall EnableTrigger(NA)call GroupClear(wa)call GroupRemoveUnit(LV,GetEventDamageSource())call RemoveLocation(sa)call RemoveLocation(Sa)call RemoveLocation(an)call RemoveLocation(Vn)call RemoveLocation(En[1])call RemoveLocation(En[2])call RemoveLocation(En[3])call RemoveLocation(En[4])endifcall EnableTrigger(GetTriggeringTrigger())endfunctionfunction Du takes nothing returns booleanreturn((IsPlayerInForce(GetOwningPlayer(GetEventDamageSource()),rn)==false)and(UnitHasItemOfTypeBJ(GetEventDamageSource(),'I046'))and(IsUnitInGroup(GetEventDamageSource(),Va)==false)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false))!=nullendfunctionfunction fu takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource())))endfunctionfunction Fu takes nothing returns booleanreturn(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction gu takes nothing returns booleanreturn GetBooleanAnd(fu(),Fu())endfunctionfunction Gu takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetEventDamageSource()),bi))endfunctionfunction hu takes nothing returns nothingcall UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),25000.,ATTACK_TYPE_HERO,DAMAGE_TYPE_ENHANCED)set Lo=GetEventDamageSource()set mo=GetEnumUnit()set Mo=1set po=qiset Po=3.set qo=180.set Qo[1]="Abilities\\Weapons\\Bolt\\BoltImpact.mdl"set Qo[2]="Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl"set so=falsecall ConditionalTriggerExecute(zd)endfunctionfunction Hu takes nothing returns booleanreturn(cr<=20)endfunctionfunction ju takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetEventDamageSource()),bi))endfunctionfunction Ju takes nothing returns booleanreturn(yi<=30)endfunctionfunction ku takes nothing returns nothingcall DisableTrigger(GetTriggeringTrigger())call DisableTrigger(NA)set cr=GetRandomInt(1,'d')call GroupAddUnit(LV,GetEventDamageSource())if(Hu())thenset qi=GetUnitLoc(GetEventDamageSource())set Pi=GetUnitFacing(GetEventDamageSource())set Qi=jF(qi,60.,Pi)call CreateNUnitsAtLoc(1,'h035',GetOwningPlayer(GetEventDamageSource()),Qi,Pi)call CreateNUnitsAtLoc(1,'h036',GetOwningPlayer(GetEventDamageSource()),Qi,Pi)set Sa=jF(qi,350.,Pi)set ta=DistanceBetweenPoints(qi,Sa)set Ta=AngleBetweenPoints(qi,Sa)set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=R2I((ta/ 50.))loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset Cr=jF(qi,I2R((bj_forLoopAIndex*50)),Ta)set Ui=tF(300.,Cr,Condition(function gu))call GroupAddGroup(Ui,wa)call RemoveLocation(Cr)call DestroyGroup(Ui)set bj_forLoopAIndex=bj_forLoopAIndex+1endloopif(Gu())thenset Di[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=(Di[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]+25000.)endifcall ForGroupBJ(wa,function hu)call CreateTextTagUnitBJ("|cffffcc00Plasma Zanber Breaker!|r",GetEventDamageSource(),0,12.,'d',100.,100.,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,30.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.)call RemoveLocation(qi)call RemoveLocation(Qi)call RemoveLocation(Sa)call GroupClear(wa)call EnableTrigger(GetTriggeringTrigger())call EnableTrigger(NA)returnendifset yi=GetRandomInt(1,'d')if(Ju())thenset Cr=GetUnitLoc(GetTriggerUnit())call CreateNUnitsAtLoc(1,'h033',GetOwningPlayer(GetEventDamageSource()),Cr,270.)call UnitDamageTargetBJ(GetEventDamageSource(),GetTriggerUnit(),20000.,ATTACK_TYPE_HERO,DAMAGE_TYPE_ENHANCED)if(ju())thenset Di[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=(Di[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]+20000.)endifcall CreateTextTagUnitBJ("|cffffcc00Jet Zanber!|r",GetEventDamageSource(),0,12.,'d',100.,100.,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,30.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.)call RemoveLocation(Cr)endifcall GroupRemoveUnit(LV,GetEventDamageSource())call EnableTrigger(GetTriggeringTrigger())call EnableTrigger(NA)endfunctionfunction lu takes nothing returns booleanreturn((UnitHasItemOfTypeBJ(GetEventDamageSource(),'I05G'))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false))!=nullendfunctionfunction Lu takes nothing returns booleanreturn(IsUnitAlly(GetFilterUnit(),Player($B))==false)endfunctionfunction mu takes nothing returns nothingcall UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),(3.*I2R(GetHeroStatBJ(0,GetEventDamageSource(),true))),ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL)endfunctionfunction Mu takes nothing returns booleanreturn(fV>80)endfunctionfunction pu takes nothing returns nothingset fV=GetRandomInt(1,'d')if(Mu())thencall GroupAddUnit(LV,GetEventDamageSource())call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(GetEventDamageSource()),GetUnitLoc(GetEventDamageSource()),bj_UNIT_FACING)call CreateTextTagUnitBJ("|cffff0000Szelet!|r",GetEventDamageSource(),0,12.,'d',100.,100.,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,30.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.)set MV=tF(300.,GetUnitLoc(GetEventDamageSource()),Condition(function Lu))call ForGroupBJ(MV,function mu)call DestroyGroup(MV)call GroupRemoveUnit(LV,GetEventDamageSource())endifendfunctionfunction qu takes nothing returns booleanreturn(GetSpellAbilityId()=='A051')or(GetSpellAbilityId()=='A04Z')or(GetSpellAbilityId()=='A052')or(GetSpellAbilityId()=='A055')or(GetSpellAbilityId()=='A03V')or(GetSpellAbilityId()=='A054')endfunctionfunction Qu takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05F'))and(qu())endfunctionfunction su takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction Su takes nothing returns booleanreturn(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(hV)))endfunctionfunction tu takes nothing returns booleanreturn GetBooleanAnd(su(),Su())endfunctionfunction Tu takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),(GetUnitLifePercent(GetEnumUnit())+30.))endfunctionfunction uu takes nothing returns booleanreturn(FV<30)endfunctionfunction Uu takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction wu takes nothing returns booleanreturn(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(hV)))endfunctionfunction Wu takes nothing returns booleanreturn GetBooleanAnd(Uu(),wu())endfunctionfunction yu takes nothing returns booleanreturn(IsUnitInGroup(GetEnumUnit(),kV))or(IsUnitInGroup(GetEnumUnit(),in))or(IsUnitInGroup(GetEnumUnit(),KV))or(IsUnitInGroup(GetEnumUnit(),Bn))or(IsUnitPaused(GetEnumUnit())==false)endfunctionfunction Yu takes nothing returns booleanreturn(yu())endfunctionfunction zu takes nothing returns nothingif(Yu())thencall SetUnitInvulnerable(GetEnumUnit(),true)endifendfunctionfunction Zu takes nothing returns booleanreturn(IsUnitInGroup(GetEnumUnit(),in))or(IsUnitInGroup(GetEnumUnit(),kV))or(IsUnitInGroup(GetEnumUnit(),KV))or(IsUnitInGroup(GetEnumUnit(),Bn))or(IsUnitPaused(GetEnumUnit())==false)endfunctionfunction vU takes nothing returns booleanreturn(Zu())endfunctionfunction eU takes nothing returns nothingif(vU())thencall SetUnitInvulnerable(GetEnumUnit(),false)endifendfunctionfunction xU takes nothing returns booleanreturn(FV>90)and(HV)endfunctionfunction oU takes nothing returns nothingset hV=GetSpellAbilityUnit()set FV=GetRandomInt(1,'d')if(uu())thencall CreateNUnitsAtLoc(1,'e001',GetOwningPlayer(hV),GetUnitLoc(GetSpellAbilityUnit()),bj_UNIT_FACING)set GV=tF(600.,GetUnitLoc(hV),Condition(function tu))call ForGroupBJ(GV,function Tu)call CreateTextTagUnitBJ("|cffffa500Messiah!|r",hV,0,12.,'d',100.,100.,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,30.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.)call DestroyGroup(GV)endifset FV=GetRandomInt(1,'d')if(xU())thenset HV=falseset gV=tF(600.,GetUnitLoc(hV),Condition(function Wu))call ForGroupBJ(gV,function zu)call CreateTextTagUnitBJ("|cffffa500Immanuel!|r",hV,0,12.,'d',100.,100.,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,30.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.)call CreateNUnitsAtLoc(1,'e002',GetOwningPlayer(GetSpellAbilityUnit()),GetUnitLoc(GetSpellAbilityUnit()),bj_UNIT_FACING)call TriggerSleepAction(5.)call ForGroupBJ(gV,function eU)set HV=truecall DestroyGroup(gV)endifendfunctionfunction iU takes nothing returns nothingset JV[1]=Tcset JV[2]=ucset JV[3]=Ucset JV[4]=wcset JV[5]=Wcset JV[6]=ycset JV[7]=Ycset JV[8]=zcset JV[9]=Zcset JV[$A]=vCcall DisableTrigger(GetTriggeringTrigger())endfunctionfunction nU takes nothing returns booleanreturn((UnitHasItemOfTypeBJ(GetEventDamageSource(),'I05H'))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false)and(IsUnitInGroup(GetEventDamageSource(),LV)==false)and(IsUnitInGroup(GetEventDamageSource(),Va)==false))!=nullendfunctionfunction VU takes nothing returns booleanreturn(lV[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]==0)endfunctionfunction EU takes nothing returns booleanreturn(IsUnitAlly(GetFilterUnit(),Player($B))==false)endfunctionfunction XU takes nothing returns nothingcall UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),(2.*I2R(GetHeroStatBJ(0,GetEventDamageSource(),true))),ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL)set lV[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=0endfunctionfunction OU takes nothing returns nothingcall UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),(2.*I2R(GetHeroStatBJ(1,GetEventDamageSource(),true))),ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL)set lV[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=0endfunctionfunction RU takes nothing returns nothingcall UnitDamageTargetBJ(GetEventDamageSource(),GetEnumUnit(),(.4*I2R(GetHeroStatBJ(2,GetEventDamageSource(),true))),ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL)set lV[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=0endfunctionfunction IU takes nothing returns booleanreturn(GetHeroStatBJ(0,GetEventDamageSource(),false)<GetHeroStatBJ(2,GetEventDamageSource(),false))and(GetHeroStatBJ(1,GetEventDamageSource(),false)<GetHeroStatBJ(2,GetEventDamageSource(),false))endfunctionfunction AU takes nothing returns booleanreturn(GetHeroStatBJ(0,GetEventDamageSource(),false)<GetHeroStatBJ(1,GetEventDamageSource(),false))and(GetHeroStatBJ(2,GetEventDamageSource(),false)<GetHeroStatBJ(1,GetEventDamageSource(),false))endfunctionfunction NU takes nothing returns booleanreturn(GetHeroStatBJ(1,GetEventDamageSource(),false)<GetHeroStatBJ(0,GetEventDamageSource(),false))and(GetHeroStatBJ(2,GetEventDamageSource(),false)<GetHeroStatBJ(0,GetEventDamageSource(),false))endfunctionfunction bU takes nothing returns booleanreturn(lV[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]==$A)endfunctionfunction BU takes nothing returns booleanreturn(lV[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]<$A)endfunctionfunction cU takes nothing returns nothingif(VU())thencall StartTimerBJ(jV[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))],false,10.)call EnableTrigger(JV[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))])endifif(BU())thenset lV[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=(lV[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]+1)elseif(bU())thencall CreateNUnitsAtLoc(1,'e003',GetOwningPlayer(GetEventDamageSource()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)call SetUnitTimeScalePercent(bj_lastCreatedUnit,420.)set lV[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=0set mV=tF(400.,GetUnitLoc(GetTriggerUnit()),Condition(function EU))if(NU())thencall ForGroupBJ(mV,function XU)elseif(AU())thencall ForGroupBJ(mV,function OU)elseif(IU())thencall ForGroupBJ(mV,function RU)endifendifendifset lV[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=0call CreateTextTagUnitBJ("|cff800080Overvelde!|r",GetEventDamageSource(),0,12.,'d',100.,100.,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,30.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.)call DestroyGroup(mV)endifendifendfunctionfunction dU takes nothing returns nothingset lV[1]=0call DisableTrigger(GetTriggeringTrigger())endfunctionfunction fU takes nothing returns nothingset lV[2]=0call DisableTrigger(GetTriggeringTrigger())endfunctionfunction gU takes nothing returns nothingset lV[3]=0call DisableTrigger(GetTriggeringTrigger())endfunctionfunction hU takes nothing returns nothingset lV[4]=0call DisableTrigger(GetTriggeringTrigger())endfunctionfunction jU takes nothing returns nothingset lV[5]=0call DisableTrigger(GetTriggeringTrigger())endfunctionfunction kU takes nothing returns nothingset lV[6]=0call DisableTrigger(GetTriggeringTrigger())endfunctionfunction lU takes nothing returns nothingset lV[7]=0call DisableTrigger(GetTriggeringTrigger())endfunctionfunction mU takes nothing returns nothingset lV[8]=0call DisableTrigger(GetTriggeringTrigger())endfunctionfunction pU takes nothing returns nothingset lV[9]=0call DisableTrigger(GetTriggeringTrigger())endfunctionfunction qU takes nothing returns nothingset lV[$A]=0call DisableTrigger(GetTriggeringTrigger())endfunctionfunction sU takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction SU takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==1)and(GetUnitTypeId(GetManipulatingUnit())!='H007')and(GetUnitTypeId(GetManipulatingUnit())!='H00E')and(GetUnitTypeId(GetManipulatingUnit())!='H01B')and(GetUnitTypeId(GetManipulatingUnit())!='H02C')and(GetUnitTypeId(GetManipulatingUnit())!='H004')and(GetUnitTypeId(GetManipulatingUnit())!='H00F')and(GetUnitTypeId(GetManipulatingUnit())!='H01A')and(GetUnitTypeId(GetManipulatingUnit())!='H02B')and(GetUnitTypeId(GetManipulatingUnit())!='H005')and(GetUnitTypeId(GetManipulatingUnit())!='H00I')and(GetUnitTypeId(GetManipulatingUnit())!='H017')and(GetUnitTypeId(GetManipulatingUnit())!='H016')and(GetUnitTypeId(GetManipulatingUnit())!='H024')and(GetUnitTypeId(GetManipulatingUnit())!='H023')and(GetUnitTypeId(GetManipulatingUnit())!='H006')and(GetUnitTypeId(GetManipulatingUnit())!='H00H')and(GetUnitTypeId(GetManipulatingUnit())!='H019')and(GetUnitTypeId(GetManipulatingUnit())!='H02S')and(GetUnitTypeId(GetManipulatingUnit())!='H018')and(GetUnitTypeId(GetManipulatingUnit())!='H02R')and(GetUnitTypeId(GetManipulatingUnit())!='H00N')and(GetUnitTypeId(GetManipulatingUnit())!='H00O')and(GetUnitTypeId(GetManipulatingUnit())!='H01Y')and(GetUnitTypeId(GetManipulatingUnit())!='H01Z')and(GetUnitTypeId(GetManipulatingUnit())!='H02T')and(GetUnitTypeId(GetManipulatingUnit())!='H02U')endfunctionfunction tU takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==2)and(GetUnitTypeId(GetManipulatingUnit())!='H003')and(GetUnitTypeId(GetManipulatingUnit())!='H00J')and(GetUnitTypeId(GetManipulatingUnit())!='H012')and(GetUnitTypeId(GetManipulatingUnit())!='H02H')and(GetUnitTypeId(GetManipulatingUnit())!='H013')and(GetUnitTypeId(GetManipulatingUnit())!='H02K')endfunctionfunction TU takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==3)and(GetUnitTypeId(GetManipulatingUnit())!='H00B')and(GetUnitTypeId(GetManipulatingUnit())!='H00G')and(GetUnitTypeId(GetManipulatingUnit())!='H015')and(GetUnitTypeId(GetManipulatingUnit())!='H014')and(GetUnitTypeId(GetManipulatingUnit())!='H02E')and(GetUnitTypeId(GetManipulatingUnit())!='H02F')endfunctionfunction uU takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==4)and(GetUnitTypeId(GetManipulatingUnit())!='H00A')and(GetUnitTypeId(GetManipulatingUnit())!='H00K')and(GetUnitTypeId(GetManipulatingUnit())!='H01D')and(GetUnitTypeId(GetManipulatingUnit())!='H01C')and(GetUnitTypeId(GetManipulatingUnit())!='H02M')and(GetUnitTypeId(GetManipulatingUnit())!='H02L')endfunctionfunction UU takes nothing returns booleanreturn(GetUnitTypeId(GetManipulatingUnit())=='H005')or(GetUnitTypeId(GetManipulatingUnit())=='H00I')or(GetUnitTypeId(GetManipulatingUnit())=='H017')or(GetUnitTypeId(GetManipulatingUnit())=='H016')or(GetUnitTypeId(GetManipulatingUnit())=='H024')or(GetUnitTypeId(GetManipulatingUnit())=='H023')endfunctionfunction wU takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==5)and(UU())endfunctionfunction WU takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==6)and(GetUnitTypeId(GetManipulatingUnit())!='H003')and(GetUnitTypeId(GetManipulatingUnit())!='H00J')and(GetUnitTypeId(GetManipulatingUnit())!='H012')and(GetUnitTypeId(GetManipulatingUnit())!='H013')and(GetUnitTypeId(GetManipulatingUnit())!='H02H')and(GetUnitTypeId(GetManipulatingUnit())!='H02K')and(GetUnitTypeId(GetManipulatingUnit())!='H008')and(GetUnitTypeId(GetManipulatingUnit())!='H00L')and(GetUnitTypeId(GetManipulatingUnit())!='H011')and(GetUnitTypeId(GetManipulatingUnit())!='H010')and(GetUnitTypeId(GetManipulatingUnit())!='H02O')and(GetUnitTypeId(GetManipulatingUnit())!='H02N')endfunctionfunction yU takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==7)and(GetUnitTypeId(GetManipulatingUnit())!='H003')and(GetUnitTypeId(GetManipulatingUnit())!='H00J')and(GetUnitTypeId(GetManipulatingUnit())!='H012')and(GetUnitTypeId(GetManipulatingUnit())!='H013')and(GetUnitTypeId(GetManipulatingUnit())!='H02H')and(GetUnitTypeId(GetManipulatingUnit())!='H02K')and(GetUnitTypeId(GetManipulatingUnit())!='H00A')and(GetUnitTypeId(GetManipulatingUnit())!='H00K')and(GetUnitTypeId(GetManipulatingUnit())!='H01D')and(GetUnitTypeId(GetManipulatingUnit())!='H01C')and(GetUnitTypeId(GetManipulatingUnit())!='H02M')and(GetUnitTypeId(GetManipulatingUnit())!='H02L')and(GetUnitTypeId(GetManipulatingUnit())!='H009')and(GetUnitTypeId(GetManipulatingUnit())!='H00M')and(GetUnitTypeId(GetManipulatingUnit())!='H01F')and(GetUnitTypeId(GetManipulatingUnit())!='H01E')and(GetUnitTypeId(GetManipulatingUnit())!='H02Q')and(GetUnitTypeId(GetManipulatingUnit())!='H02P')endfunctionfunction YU takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==8)and(GetUnitTypeId(GetManipulatingUnit())!='H003')and(GetUnitTypeId(GetManipulatingUnit())!='H00J')and(GetUnitTypeId(GetManipulatingUnit())!='H012')and(GetUnitTypeId(GetManipulatingUnit())!='H013')and(GetUnitTypeId(GetManipulatingUnit())!='H02H')and(GetUnitTypeId(GetManipulatingUnit())!='H02K')and(GetUnitTypeId(GetManipulatingUnit())!='H008')and(GetUnitTypeId(GetManipulatingUnit())!='H00L')and(GetUnitTypeId(GetManipulatingUnit())!='H011')and(GetUnitTypeId(GetManipulatingUnit())!='H010')and(GetUnitTypeId(GetManipulatingUnit())!='H02O')and(GetUnitTypeId(GetManipulatingUnit())!='H02N')and(GetUnitTypeId(GetManipulatingUnit())!='H009')and(GetUnitTypeId(GetManipulatingUnit())!='H00M')and(GetUnitTypeId(GetManipulatingUnit())!='H01F')and(GetUnitTypeId(GetManipulatingUnit())!='H01E')and(GetUnitTypeId(GetManipulatingUnit())!='H02Q')and(GetUnitTypeId(GetManipulatingUnit())!='H02P')endfunctionfunction zU takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==9)and(GetUnitTypeId(GetManipulatingUnit())!='H018')and(GetUnitTypeId(GetManipulatingUnit())!='H02R')and(GetUnitTypeId(GetManipulatingUnit())!='H01Y')and(GetUnitTypeId(GetManipulatingUnit())!='H01Z')and(GetUnitTypeId(GetManipulatingUnit())!='H02T')and(GetUnitTypeId(GetManipulatingUnit())!='H02U')endfunctionfunction ZU takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==$A)and(GetUnitTypeId(GetManipulatingUnit())!='H01D')and(GetUnitTypeId(GetManipulatingUnit())!='H02L')endfunctionfunction vw takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==$B)and(GetUnitTypeId(GetManipulatingUnit())!='H008')and(GetUnitTypeId(GetManipulatingUnit())!='H00L')and(GetUnitTypeId(GetManipulatingUnit())!='H011')and(GetUnitTypeId(GetManipulatingUnit())!='H010')and(GetUnitTypeId(GetManipulatingUnit())!='H02O')and(GetUnitTypeId(GetManipulatingUnit())!='H02N')endfunctionfunction ew takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==$C)and(GetUnitTypeId(GetManipulatingUnit())!='H024')and(GetUnitTypeId(GetManipulatingUnit())!='H023')endfunctionfunction xw takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==$D)and(GetUnitTypeId(GetManipulatingUnit())!='H02S')and(GetUnitTypeId(GetManipulatingUnit())!='H02R')and(GetUnitTypeId(GetManipulatingUnit())!='H02T')and(GetUnitTypeId(GetManipulatingUnit())!='H02U')endfunctionfunction ow takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==$E)and(GetUnitTypeId(GetManipulatingUnit())!='H02Q')and(GetUnitTypeId(GetManipulatingUnit())!='H02P')endfunctionfunction rw takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==$F)and(GetUnitTypeId(GetManipulatingUnit())!='H02E')and(GetUnitTypeId(GetManipulatingUnit())!='H02F')endfunctionfunction iw takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==16)and(GetUnitTypeId(GetManipulatingUnit())!='H02M')and(GetUnitTypeId(GetManipulatingUnit())!='H02L')endfunctionfunction aw takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==17)and(GetUnitTypeId(GetManipulatingUnit())!='H02O')and(GetUnitTypeId(GetManipulatingUnit())!='H02N')endfunctionfunction nw takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==18)and(GetUnitTypeId(GetManipulatingUnit())!='H02B')and(GetUnitTypeId(GetManipulatingUnit())!='H02C')endfunctionfunction Vw takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==19)and(GetUnitTypeId(GetManipulatingUnit())!='H02K')and(GetUnitTypeId(GetManipulatingUnit())!='H02H')endfunctionfunction Ew takes nothing returns booleanreturn(GetItemLevel(GetManipulatedItem())==20)and(GetUnitTypeId(GetManipulatingUnit())!='H024')and(GetUnitTypeId(GetManipulatingUnit())!='H023')and(GetUnitTypeId(GetManipulatingUnit())!='H02S')and(GetUnitTypeId(GetManipulatingUnit())!='H02R')and(GetUnitTypeId(GetManipulatingUnit())!='H02T')and(GetUnitTypeId(GetManipulatingUnit())!='H02U')and(GetUnitTypeId(GetManipulatingUnit())!='H02Q')and(GetUnitTypeId(GetManipulatingUnit())!='H02P')and(GetUnitTypeId(GetManipulatingUnit())!='H02F')and(GetUnitTypeId(GetManipulatingUnit())!='H02E')and(GetUnitTypeId(GetManipulatingUnit())!='H02L')and(GetUnitTypeId(GetManipulatingUnit())!='H02M')and(GetUnitTypeId(GetManipulatingUnit())!='H02O')and(GetUnitTypeId(GetManipulatingUnit())!='H02N')and(GetUnitTypeId(GetManipulatingUnit())!='H02K')and(GetUnitTypeId(GetManipulatingUnit())!='H02H')and(GetUnitTypeId(GetManipulatingUnit())!='H02B')and(GetUnitTypeId(GetManipulatingUnit())!='H02C')endfunctionfunction Xw takes nothing returns nothingif(SU())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(tU())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(TU())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(uU())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(wU())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(WU())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(yU())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(YU())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(zU())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(ZU())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(vw())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(ew())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(xw())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(ow())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(rw())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(iw())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(aw())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(nw())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(Vw())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifif(Ew())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())endifendfunctionfunction Rw takes nothing returns booleanreturn(GetItemTypeId(GetManipulatedItem())=='I032')endfunctionfunction Iw takes nothing returns booleanreturn(GetItemTypeId(GetManipulatedItem())=='I031')endfunctionfunction Aw takes nothing returns nothingif(Rw())thencall SetUnitLifePercentBJ(GetTriggerUnit(),(GetUnitLifePercent(GetTriggerUnit())+35.))endifif(Iw())thencall SetUnitManaPercentBJ(GetTriggerUnit(),(GetUnitManaPercent(GetTriggerUnit())+30.))endifendfunctionfunction bw takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_USER)endfunctionfunction Bw takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction cw takes nothing returns booleanreturn GetBooleanAnd(bw(),Bw())endfunctionfunction Cw takes nothing returns booleanreturn(GetItemType(UnitItemInSlotBJ(GetEnumUnit(),bj_forLoopAIndex))==ITEM_TYPE_PURCHASABLE)and(GetItemCharges(UnitItemInSlotBJ(GetEnumUnit(),bj_forLoopAIndex))==0)endfunctionfunction dw takes nothing returns nothingset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=6loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(Cw())thencall CustomDefeatBJ(GetOwningPlayer(GetEnumUnit()),"You have been disconnected.")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,("|cffff0000"+(GetPlayerName(GetOwningPlayer(GetEnumUnit()))+" is a noob hacker so he is autokicked from the game.")))call RemoveUnit(GetEnumUnit())endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction Dw takes nothing returns nothingset ur=PF(bj_mapInitialPlayableArea,Condition(function cw))call ForGroupBJ(ur,function dw)call DestroyGroup(ur)endfunctionfunction Fw takes nothing returns booleanreturn(GetIssuedOrderId()==$D000F)endfunctionfunction gw takes nothing returns booleanreturn(RectContainsItem(GetOrderTargetItem(),FO))endfunctionfunction Gw takes nothing returns booleanreturn(GetItemUserData(GetOrderTargetItem())!=0)and(GetItemUserData(GetOrderTargetItem())!=(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))endfunctionfunction hw takes nothing returns nothingif(gw())thencall DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffff0000You cannot destroy any items while in the Loot Area.|r")call SetItemInvulnerable(GetOrderTargetItem(),true)call TriggerSleepAction(.5)call SetItemInvulnerable(GetOrderTargetItem(),false)endifif(Gw())thencall DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffff0000You cannot destroy an item that does not belong to you.|r")call SetItemInvulnerable(GetOrderTargetItem(),true)call TriggerSleepAction(.5)call SetItemInvulnerable(GetOrderTargetItem(),false)endifendfunctionfunction jw takes nothing returns booleanreturn(GetItemType(GetManipulatedItem())!=ITEM_TYPE_PURCHASABLE)and(GetItemUserData(GetManipulatedItem())==0)endfunctionfunction Jw takes nothing returns nothingcall SetItemUserData(GetManipulatedItem(),(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))endfunctionfunction Kw takes nothing returns booleanreturn(GetItemUserData(GetManipulatedItem())!=0)and(GetItemUserData(GetManipulatedItem())!=(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))endfunctionfunction lw takes nothing returns nothingcall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),4.,"|cffffcc00The Item does not belong to you.|r")call UnitRemoveItemSwapped(GetManipulatedItem(),GetTriggerUnit())endfunctionfunction mw takes nothing returns booleanreturn(GetItemType(GetSoldItem())!=ITEM_TYPE_PURCHASABLE)and(GetItemUserData(GetManipulatedItem())==0)endfunctionfunction Mw takes nothing returns nothingcall SetItemUserData(GetSoldItem(),(1+GetPlayerId(GetOwningPlayer(GetBuyingUnit()))))endfunctionfunction Pw takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),1,8)==GetEventPlayerChatStringMatched())and(StringLength(GetEventPlayerChatString())>8)endfunctionfunction qw takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction Qw takes nothing returns nothingset uv=GetEnumUnit()endfunctionfunction sw takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),8,9)==" 1")endfunctionfunction Sw takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),8,9)==" 2")endfunctionfunction tw takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),8,9)==" 3")endfunctionfunction Tw takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),8,9)==" 4")endfunctionfunction uw takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),8,9)==" 5")endfunctionfunction Uw takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),8,9)==" 6")endfunctionfunction ww takes nothing returns nothingcall ForGroupBJ(WF(GetTriggerPlayer(),Condition(function qw)),function Qw)if(sw())thencall RemoveItem(UnitItemInSlotBJ(uv,1))endifif(Sw())thencall RemoveItem(UnitItemInSlotBJ(uv,2))endifif(tw())thencall RemoveItem(UnitItemInSlotBJ(uv,3))endifif(Tw())thencall RemoveItem(UnitItemInSlotBJ(uv,4))endifif(uw())thencall RemoveItem(UnitItemInSlotBJ(uv,5))endifif(Uw())thencall RemoveItem(UnitItemInSlotBJ(uv,6))endifset uv=nullendfunctionfunction yw takes nothing returns booleanreturn(GetItemCharges(GetManipulatedItem())>=1)endfunctionfunction Yw takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetManipulatingUnit(),GetItemTypeId(bj_lastRemovedItem)))endfunctionfunction zw takes nothing returns booleanreturn(GetItemUserData(GetManipulatedItem())==(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))endfunctionfunction Zw takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(GetManipulatingUnit(),GetItemTypeId(bj_lastRemovedItem)))endfunctionfunction vW takes nothing returns booleanreturn(GetItemUserData(GetManipulatedItem())==0)endfunctionfunction eW takes nothing returns nothingif(vW())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())set Z[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastRemovedItemif(Zw())thencall SetItemCharges(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),GetItemTypeId(Z[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),GetItemTypeId(Z[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])))+GetItemCharges(Z[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])))call RemoveItem(Z[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])elsecall DisableTrigger(GetTriggeringTrigger())call UnitAddItem(GetManipulatingUnit(),Z[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call EnableTrigger(GetTriggeringTrigger())endifelseif(zw())thencall UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())set Z[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastRemovedItemif(Yw())thencall SetItemCharges(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),GetItemTypeId(Z[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),GetItemTypeId(Z[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])))+GetItemCharges(Z[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])))call RemoveItem(Z[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])elsecall DisableTrigger(GetTriggeringTrigger())call UnitAddItem(GetManipulatingUnit(),Z[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call EnableTrigger(GetTriggeringTrigger())endifendifendifendfunctionfunction oW takes nothing returns booleanreturn(cV[bj_forLoopAIndex]==false)endfunctionfunction rW takes nothing returns booleanreturn(cV[4])endfunctionfunction iW takes nothing returns booleanreturn(cV[4])endfunctionfunction aW takes nothing returns nothingset cV[4]=trueset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=3loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(rW())thenif(oW())thenset cV[4]=falseendifendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopif(iW())thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,7.,"|cffff0000Marine Fortress is open for further challenge|r")set An[$D]=zRcall DisableTrigger(GetTriggeringTrigger())endifendfunctionfunction VW takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),kx)==false)endfunctionfunction EW takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction XW takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetFilterUnit()),kx)!=true)endfunctionfunction OW takes nothing returns booleanreturn GetBooleanAnd(EW(),XW())endfunctionfunction RW takes nothing returns nothingcall GroupAddUnit(mi[bj_forLoopAIndex],GetEnumUnit())endfunctionfunction IW takes nothing returns nothingcall ForceAddPlayer(Mi[bj_forLoopAIndex],GetOwningPlayer(GetEnumUnit()))call ForceAddPlayer(sv,GetOwningPlayer(GetEnumUnit()))call ForceAddPlayer(Ze,GetOwningPlayer(GetEnumUnit()))call SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction AW takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction NW takes nothing returns booleanreturn(CountUnitsInGroup(mi[bj_forLoopAIndex])>0)endfunctionfunction bW takes nothing returns nothingset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=Inloopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif((CountUnitsInGroup(sF(Rn[bj_forLoopAIndex],GetTriggerPlayer()))>=1)and(CountUnitsInGroup(mi[bj_forLoopAIndex])==0))thencall ForGroupBJ(PF(Rn[bj_forLoopAIndex],Condition(function OW)),function RW)if(NW())thenset bn=GetRectCenter(An[bj_forLoopAIndex])call ForGroupBJ(mi[bj_forLoopAIndex],function IW)set w=bj_forLoopAIndexcall TriggerExecute(Od)call ForForce(Mi[bj_forLoopAIndex],function AW)call RemoveLocation(bn)elsereturnendifendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction cW takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction CW takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction dW takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n007')endfunctionfunction DW takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction fW takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction FW takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n000')endfunctionfunction gW takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction GW takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction hW takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n006')endfunctionfunction HW takes nothing returns nothingcall RemoveItem(GetEnumItem())endfunctionfunction jW takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,8)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction JW takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),y[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])endfunctionfunction kW takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U000')endfunctionfunction KW takes nothing returns nothingif(dW())thencall DisplayTimedTextToForce(Mi[1],5.,"|cffffcc00You are now transferred to the next level.|r")set bn=GetRectCenter(YX)call ForGroupBJ(mi[1],function cW)call ForForce(Mi[1],function CW)call RemoveLocation(bn)endifif(FW())thencall DisplayTimedTextToForce(Mi[1],5.,"|cffffcc00You are now transferred to the next level.|r")set bn=GetRectCenter(zX)call ForGroupBJ(mi[1],function DW)call ForForce(Mi[1],function fW)call RemoveLocation(bn)endifif(hW())thencall DisplayTimedTextToForce(Mi[1],5.,"|cffffcc00You are now transferred to the next level.|r")set bn=GetRectCenter(yX)call ForGroupBJ(mi[1],function gW)call ForForce(Mi[1],function GW)call RemoveLocation(bn)endifif(kW())thencall EnumItemsInRectBJ(RV,function HW)call DisplayTimedTextToForce(Mi[1],10.,"|cffffcc00You have completed the dungeon!|r Type -|c00ff0000d|r|c00ff1500o|r|c00ff3000n|r|c00ff4500e|r to exit the dungeon after looting your reward.")set z[1]='I007'set z[2]='I00C'set z[3]='I006'set z[4]='I004'set z[5]='I00D'set z[6]='I00E'set z[7]='I00B'set z[8]='I005'call ForForce(Mi[1],function jW)call ForGroupBJ(mi[1],function JW)call GroupClear(mi[1])call ForceClear(Mi[1])call DisableTrigger(GetTriggeringTrigger())endifendfunctionfunction LW takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction mW takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction MW takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n00T')endfunctionfunction pW takes nothing returns nothingcall RemoveItem(GetEnumItem())endfunctionfunction PW takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,8)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction qW takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),y[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])endfunctionfunction QW takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U001')endfunctionfunction sW takes nothing returns nothingif(MW())thencall DisplayTimedTextToForce(Mi[2],5.,"|cffffcc00You are now transferred to the next level.|r")set bn=GetRectCenter(AE)call ForGroupBJ(mi[2],function LW)call ForForce(Mi[2],function mW)call RemoveLocation(bn)endifif(QW())thencall EnumItemsInRectBJ(RV,function pW)call DisplayTimedTextToForce(Mi[2],10.,"|cffffcc00You have completed the dungeon!|r Type -|c00ff0000d|r|c00ff1500o|r|c00ff3000n|r|c00ff4500e|r to exit the dungeon after looting your reward.")set z[1]='I00R'set z[2]='I00P'set z[3]='I00O'set z[4]='I00M'set z[5]='I00L'set z[6]='I00Q'set z[7]='I00N'set z[8]='I00S'call ForForce(Mi[2],function PW)call ForGroupBJ(mi[2],function qW)call GroupClear(mi[2])call ForceClear(Mi[2])call DisableTrigger(GetTriggeringTrigger())call DisableTrigger(Vd)endifendfunctionfunction tW takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction TW takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction uW takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n012')endfunctionfunction UW takes nothing returns nothingcall RemoveItem(GetEnumItem())endfunctionfunction wW takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,8)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction WW takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),y[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])endfunctionfunction yW takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U003')endfunctionfunction YW takes nothing returns nothingif(uW())thencall DisplayTimedTextToForce(Mi[3],5.,"|cffffcc00You are now transferred to the next level.|r")set bn=GetRectCenter(qX)call ForGroupBJ(mi[3],function tW)call ForForce(Mi[3],function TW)call RemoveLocation(bn)endifif(yW())thencall EnumItemsInRectBJ(RV,function UW)call DisplayTimedTextToForce(Mi[3],10.,"|cffffcc00You have completed the dungeon!|r Type -|c00ff0000d|r|c00ff1500o|r|c00ff3000n|r|c00ff4500e|r to exit the dungeon after looting your reward.")set z[1]='I023'set z[2]='I01X'set z[3]='I020'set z[4]='I01Z'set z[5]='I022'set z[6]='I01Y'set z[7]='I021'set z[8]='I01L'call ForForce(Mi[3],function wW)call ForGroupBJ(mi[3],function WW)call GroupClear(mi[3])call ForceClear(Mi[3])call DisableTrigger(GetTriggeringTrigger())endifendfunctionfunction ZW takes nothing returns nothingcall RemoveItem(GetEnumItem())endfunctionfunction vy takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,8)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction ey takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),y[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])endfunctionfunction xy takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U002')endfunctionfunction oy takes nothing returns nothingif(xy())thencall EnumItemsInRectBJ(RV,function ZW)call DisplayTimedTextToForce(Mi[4],10.,"|cffffcc00You have completed the dungeon!|r Type -|c00ff0000d|r|c00ff1500o|r|c00ff3000n|r|c00ff4500e|r to exit the dungeon after looting your reward.")set z[1]='I024'set z[2]='I01W'set z[3]='I01V'set z[4]='I01M'set z[5]='I01J'set z[6]='I01I'set z[7]='I01H'set z[8]='I01K'call ForForce(Mi[4],function vy)call ForGroupBJ(mi[4],function ey)call GroupClear(mi[4])call ForceClear(Mi[4])call DisableTrigger(GetTriggeringTrigger())endifendfunctionfunction iy takes nothing returns nothingcall RemoveItem(GetEnumItem())endfunctionfunction ay takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,8)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction ny takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),y[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])endfunctionfunction Vy takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U004')endfunctionfunction Ey takes nothing returns nothingif(Vy())thencall EnumItemsInRectBJ(RV,function iy)call DisplayTimedTextToForce(Mi[5],10.,"|cffffcc00You have completed the dungeon!|r Type -|c00ff0000d|r|c00ff1500o|r|c00ff3000n|r|c00ff4500e|r to exit the dungeon after looting your reward.")set z[1]='I01P'set z[2]='I01O'set z[3]='I01U'set z[4]='I01S'set z[5]='I01T'set z[6]='I01Q'set z[7]='I01R'set z[8]='I01N'call ForForce(Mi[5],function ay)call ForGroupBJ(mi[5],function ny)call GroupClear(mi[5])call ForceClear(Mi[5])call DisableTrigger(GetTriggeringTrigger())endifendfunctionfunction Oy takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction Ry takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction Iy takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n020')endfunctionfunction Ay takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction Ny takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction by takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01Y')endfunctionfunction By takes nothing returns nothingcall RemoveItem(GetEnumItem())endfunctionfunction cy takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,8)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction Cy takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),y[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])endfunctionfunction Dy takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U006')endfunctionfunction fy takes nothing returns nothingif(Iy())thencall DisplayTimedTextToForce(Mi[6],5.,"|cffffcc00You are now transferred to the next level.|r")set bn=GetRectCenter(yO)call ForGroupBJ(mi[6],function Oy)call ForForce(Mi[6],function Ry)call RemoveLocation(bn)endifif(by())thencall DisplayTimedTextToForce(Mi[6],5.,"|cffffcc00You are now transferred to the next level.|r")set bn=GetRectCenter(ZO)call ForGroupBJ(mi[6],function Ay)call ForForce(Mi[6],function Ny)call RemoveLocation(bn)endifif(Dy())thencall EnumItemsInRectBJ(RV,function By)call DisplayTimedTextToForce(Mi[6],10.,"|cffffcc00You have completed the dungeon!|r Type -|c00ff0000d|r|c00ff1500o|r|c00ff3000n|r|c00ff4500e|r to exit the dungeon after looting your reward.")set z[1]='I02L'set z[2]='I02M'set z[3]='I02N'set z[4]='I030'set z[5]='I02T'set z[6]='I02V'set z[7]='I02P'set z[8]='I02U'call ForForce(Mi[6],function cy)call ForGroupBJ(mi[6],function Cy)call GroupClear(mi[6])call ForceClear(Mi[6])call DisableTrigger(GetTriggeringTrigger())endifendfunctionfunction gy takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction Gy takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction hy takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n01Z')endfunctionfunction Hy takes nothing returns nothingcall RemoveItem(GetEnumItem())endfunctionfunction jy takes nothing returns nothingcall AdjustPlayerStateBJ(3,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)call PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,7)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction Jy takes nothing returns nothingcall AdjustPlayerStateBJ(3,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)call PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,8)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction ky takes nothing returns booleanreturn(lo<=30)endfunctionfunction Ky takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),y[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])endfunctionfunction ly takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U007')endfunctionfunction Ly takes nothing returns nothingif(hy())thencall DisplayTimedTextToForce(Mi[7],5.,"|cffffcc00You are now transferred to the next level.|r")set bn=GetRectCenter(SR)call ForGroupBJ(mi[7],function gy)call ForForce(Mi[7],function Gy)call RemoveLocation(bn)endifif(ly())thenset cV[1]=truecall EnumItemsInRectBJ(RV,function Hy)call DisplayTimedTextToForce(Mi[7],10.,"|cffffcc00You have completed the dungeon!|r Type -|c00ff0000d|r|c00ff1500o|r|c00ff3000n|r|c00ff4500e|r to exit the dungeon after looting your reward.")set lo=GetRandomInt(1,'d')if(ky())thenset z[1]='I02Q'set z[2]='I02W'set z[3]='I02R'set z[4]='I02Y'set z[5]='I02O'set z[6]='I02S'set z[7]='I02X'set z[8]='I02Z'call ForForce(Mi[7],function Jy)elseset z[1]='I02Q'set z[2]='I02W'set z[3]='I02R'set z[4]='I02Y'set z[5]='I02O'set z[6]='I02S'set z[7]='I02X'call ForForce(Mi[7],function jy)endifcall ForGroupBJ(mi[7],function Ky)call GroupClear(mi[7])call ForceClear(Mi[7])call DisableTrigger(GetTriggeringTrigger())endifendfunctionfunction My takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction py takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction Py takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n024')endfunctionfunction qy takes nothing returns nothingcall RemoveItem(GetEnumItem())endfunctionfunction Qy takes nothing returns nothingcall AdjustPlayerStateBJ(1,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)call PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,8)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction sy takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),y[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])endfunctionfunction Sy takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U009')endfunctionfunction ty takes nothing returns nothingif(Py())thencall DisplayTimedTextToForce(Mi[8],5.,"|cffffcc00You are now transferred to the next level.|r")set bn=GetRectCenter(UX)call ForGroupBJ(mi[8],function My)call ForForce(Mi[8],function py)call RemoveLocation(bn)endifif(Sy())thencall EnumItemsInRectBJ(RV,function qy)call DisplayTimedTextToForce(Mi[8],10.,"|cffffcc00You have completed the dungeon!|r Type -|c00ff0000d|r|c00ff1500o|r|c00ff3000n|r|c00ff4500e|r to exit the dungeon after looting your reward.")set z[1]='I039'set z[2]='I036'set z[3]='I037'set z[4]='I03C'set z[5]='I038'set z[6]='I03B'set z[7]='I035'set z[8]='I03A'call ForForce(Mi[8],function Qy)call ForGroupBJ(mi[8],function sy)call GroupClear(mi[8])call ForceClear(Mi[8])call DisableTrigger(GetTriggeringTrigger())endifendfunctionfunction uy takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction Uy takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction wy takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='n02A')endfunctionfunction Wy takes nothing returns nothingcall RemoveItem(GetEnumItem())endfunctionfunction yy takes nothing returns nothingcall ForceRemovePlayer(Ko,GetEnumPlayer())endfunctionfunction Yy takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,8)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction zy takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),y[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])endfunctionfunction Zy takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U00A')endfunctionfunction vY takes nothing returns nothingif(wy())thencall DisplayTimedTextToForce(Mi[9],5.,"|cffffcc00You are now transferred to the next level.|r")set bn=GetRectCenter(dR)call ForGroupBJ(mi[9],function uy)call ForForce(Mi[9],function Uy)call RemoveLocation(bn)endifif(Zy())thencall EnumItemsInRectBJ(RV,function Wy)call ForForce(Mi[9],function yy)call DisplayTimedTextToForce(Mi[9],10.,"|cffffcc00You have completed the dungeon!|r Type -|c00ff0000d|r|c00ff1500o|r|c00ff3000n|r|c00ff4500e|r to exit the dungeon after looting your reward.")set z[1]='I03P'set z[2]='I03O'set z[3]='I03K'set z[4]='I03M'set z[5]='I03Q'set z[6]='I03R'set z[7]='I03N'set z[8]='I03L'call ForForce(Mi[9],function Yy)call ForGroupBJ(mi[9],function zy)call GroupClear(mi[9])call ForceClear(Mi[9])call DisableTrigger(GetTriggeringTrigger())endifendfunctionfunction xY takes nothing returns booleanreturn((Nn==1)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=nullendfunctionfunction oY takes nothing returns nothingcall TriggerExecute(GC)endfunctionfunction iY takes nothing returns booleanreturn((Nn==2)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=nullendfunctionfunction aY takes nothing returns nothingcall TriggerExecute(GC)endfunctionfunction VY takes nothing returns booleanreturn((Nn==3)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=nullendfunctionfunction EY takes nothing returns nothingcall TriggerExecute(GC)endfunctionfunction OY takes nothing returns booleanreturn((Nn==4)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=nullendfunctionfunction RY takes nothing returns nothingcall TriggerExecute(GC)endfunctionfunction AY takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction NY takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction bY takes nothing returns nothingcall DisplayTimedTextToForce(Mi[$A],5.,"|cffffcc00You are now transferred to the next level.|r")set bn=GetRectCenter(tV)call ForGroupBJ(mi[$A],function AY)call ForForce(Mi[$A],function NY)call RemoveLocation(bn)endfunctionfunction cY takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U00B')endfunctionfunction CY takes nothing returns nothingcall RemoveItem(GetEnumItem())endfunctionfunction dY takes nothing returns nothingcall ForceRemovePlayer(Ko,GetEnumPlayer())endfunctionfunction DY takes nothing returns nothingcall AdjustPlayerStateBJ(2,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)call PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,8)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction fY takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),y[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])endfunctionfunction FY takes nothing returns nothingcall EnumItemsInRectBJ(RV,function CY)call ForForce(Mi[$A],function dY)call DisplayTimedTextToForce(Mi[$A],10.,"|cffffcc00You have completed the dungeon!|r Type -|c00ff0000d|r|c00ff1500o|r|c00ff3000n|r|c00ff4500e|r to exit the dungeon after looting your reward.")set z[1]='I03S'set z[2]='I03U'set z[3]='I03V'set z[4]='I03T'set z[5]='I03Y'set z[6]='I03X'set z[7]='I03W'set z[8]='I03Z'call ForForce(Mi[$A],function DY)call ForGroupBJ(mi[$A],function fY)call GroupClear(mi[$A])call ForceClear(Mi[$A])call DisableTrigger(GetTriggeringTrigger())endfunctionfunction GY takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='n02H')or(GetUnitTypeId(GetTriggerUnit())=='n02I')or(GetUnitTypeId(GetTriggerUnit())=='n02D')or(GetUnitTypeId(GetTriggerUnit())=='n02F')or(GetUnitTypeId(GetTriggerUnit())=='n02E')or(GetUnitTypeId(GetTriggerUnit())=='n02G')or(GetUnitTypeId(GetTriggerUnit())=='n02N')or(GetUnitTypeId(GetTriggerUnit())=='n02M')or(GetUnitTypeId(GetTriggerUnit())=='n02L')or(GetUnitTypeId(GetTriggerUnit())=='n02O')or(GetUnitTypeId(GetTriggerUnit())=='n02J')or(GetUnitTypeId(GetTriggerUnit())=='n02K')endfunctionfunction hY takes nothing returns booleanreturn(GY())endfunctionfunction HY takes nothing returns nothingset Co=(Co+1)endfunctionfunction JY takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)endfunctionfunction kY takes nothing returns booleanreturn(Io==1)endfunctionfunction KY takes nothing returns booleanreturn(Io==2)endfunctionfunction lY takes nothing returns booleanreturn(Io==3)endfunctionfunction LY takes nothing returns booleanreturn(Io==4)endfunctionfunction mY takes nothing returns booleanreturn(Io==5)endfunctionfunction MY takes nothing returns booleanreturn(Io==6)endfunctionfunction pY takes nothing returns booleanreturn(Io==7)endfunctionfunction PY takes nothing returns nothingcall DisableTrigger(GetTriggeringTrigger())set Co=0set Ao=GetRectCenter(dO)set No=GetRectCenter(BO)if(kY())thencall CreateNUnitsAtLoc(18,'n02H',Player($C),Ao,bj_UNIT_FACING)call CreateNUnitsAtLoc(1,'n02N',Player($C),No,bj_UNIT_FACING)endifif(KY())thencall CreateNUnitsAtLoc(18,'n02I',Player($C),Ao,bj_UNIT_FACING)call CreateNUnitsAtLoc(1,'n02M',Player($C),No,bj_UNIT_FACING)endifif(lY())thencall CreateNUnitsAtLoc(18,'n02D',Player($C),Ao,bj_UNIT_FACING)call CreateNUnitsAtLoc(1,'n02L',Player($C),No,bj_UNIT_FACING)endifif(LY())thencall CreateNUnitsAtLoc(18,'n02F',Player($C),Ao,bj_UNIT_FACING)call CreateNUnitsAtLoc(1,'n02O',Player($C),No,bj_UNIT_FACING)endifif(mY())thencall CreateNUnitsAtLoc(18,'n02E',Player($C),Ao,bj_UNIT_FACING)call CreateNUnitsAtLoc(1,'n02J',Player($C),No,bj_UNIT_FACING)endifif(MY())thencall CreateNUnitsAtLoc(18,'n02G',Player($C),Ao,bj_UNIT_FACING)call CreateNUnitsAtLoc(1,'n02K',Player($C),No,bj_UNIT_FACING)endifif(pY())thencall DisplayTimedTextToForce(Mi[$B],10.,"|cffffcc00You have successfully completed the 6 stages! Prepare for the final battle!|r")call CreateNUnitsAtLoc(6,'n02D',Player($C),Ao,bj_UNIT_FACING)call CreateNUnitsAtLoc(6,'n02F',Player($C),Ao,bj_UNIT_FACING)call CreateNUnitsAtLoc(6,'n02E',Player($C),Ao,bj_UNIT_FACING)call CreateNUnitsAtLoc(6,'n02G',Player($C),Ao,bj_UNIT_FACING)call CreateNUnitsAtLoc(1,'U00C',Player($C),No,bj_UNIT_FACING)call SetHeroLevelBJ(bj_lastCreatedUnit,280,false)call DisableTrigger(JC)endifcall RemoveLocation(Ao)call RemoveLocation(No)endfunctionfunction QY takes nothing returns booleanreturn(Co>=19)and(IsUnitInGroup(GetTriggerUnit(),QF(iX)))endfunctionfunction sY takes nothing returns nothingcall TimerDialogDisplayForPlayerBJ(true,Bo,GetEnumPlayer())endfunctionfunction SY takes nothing returns booleanreturn(co<=50)endfunctionfunction tY takes nothing returns booleanreturn(no==1)endfunctionfunction TY takes nothing returns booleanreturn(co<=50)endfunctionfunction uY takes nothing returns booleanreturn(no==2)endfunctionfunction UY takes nothing returns booleanreturn(co<=50)endfunctionfunction wY takes nothing returns booleanreturn(no==3)endfunctionfunction WY takes nothing returns booleanreturn(co<=50)endfunctionfunction yY takes nothing returns booleanreturn(no==4)endfunctionfunction YY takes nothing returns nothingset Co=0set no=GetRandomInt(1,4)set co=GetRandomInt(1,'d')call DisplayTimedTextToForce(Mi[$B],15.,"|cffffcc00You now have 120 seconds to pick the correct portal or the stage will reset itself. Picking the wrong portal also resets the stage.|r")call StartTimerBJ(bo,false,120.)call CreateTimerDialogBJ(bo,"|cffff0000Stage Reset in...|r")set Bo=bj_lastCreatedTimerDialogcall ForForce(Mi[$B],function sY)call EnableTrigger(kC)call EnableTrigger(KC)call EnableTrigger(lC)call EnableTrigger(LC)if(tY())thenif(SY())thencall DisplayTimedTextToForce(Mi[$B],120.,"|cff87ceebClue|r: |Cff00ff00The correct path is the path which looks the most different from all the other wrong paths.|r")elsecall DisplayTimedTextToForce(Mi[$B],120.,"|cff87ceebClue|r: |Cff00ff00A says the correct path's Northwest. B says its Southwest. C says its Southeast. Then A says C is lying, and C says A is lying. B says hes not lying. Which one is telling the truth?|r")endifendifif(uY())thenif(TY())thencall DisplayTimedTextToForce(Mi[$B],120.,"|cff87ceebClue|r: |Cff00ff00The correct path is near something unique. This something burns like the rest but is still unique. It is the closest to the correct path, like the rest.|r")elsecall DisplayTimedTextToForce(Mi[$B],120.,"|cff87ceebClue|r: |Cff00ff00The Correct Path is Southeast.|r")endifendifif(wY())thenif(UY())thencall DisplayTimedTextToForce(Mi[$B],120.,"|cff87ceebClue|r: |Cff00ff00A has something but I have none, B has something but I have none, C has something but I have none. Yet I am the correct path though I have none.|r")elsecall DisplayTimedTextToForce(Mi[$B],120.,"|cff87ceebClue|r: |Cff00ff00Repent and be saved.|r")endifendifif(yY())thenif(WY())thencall DisplayTimedTextToForce(Mi[$B],120.,"|cff87ceebClue|r: |Cff00ff00I am that which is closest to the buried dead.|r")elsecall DisplayTimedTextToForce(Mi[$B],120.,"|cff87ceebClue|r: |Cff00ff00ME BREAK YOU!|r")endifendifendfunctionfunction ZY takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction vz takes nothing returns booleanreturn(no==1)endfunctionfunction ez takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction xz takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction oz takes nothing returns nothingcall EnableTrigger(jC)call DisableTrigger(kC)call DisableTrigger(KC)call DisableTrigger(lC)call DisableTrigger(LC)call DestroyTimerDialog(Bo)call PauseTimerBJ(true,bo)if(vz())thenset Io=(Io+1)call DisplayTimedTextToForce(Mi[$B],12.,"|cffffcc00You have advanced to the next stage!|r")elsecall DisplayTimedTextToForce(Mi[$B],12.,"|cffffcc00You have picked the wrong portal!|r")endifset bn=GetRectCenter(CO)call ForGroupBJ(mi[$B],function ez)call ForForce(Mi[$B],function xz)call RemoveLocation(bn)endfunctionfunction iz takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction az takes nothing returns booleanreturn(no==2)endfunctionfunction nz takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction Vz takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction Ez takes nothing returns nothingcall EnableTrigger(jC)call DisableTrigger(kC)call DisableTrigger(KC)call DisableTrigger(lC)call DisableTrigger(LC)call DestroyTimerDialog(Bo)call PauseTimerBJ(true,bo)if(az())thenset Io=(Io+1)call DisplayTimedTextToForce(Mi[$B],12.,"|cffffcc00You have advanced to the next stage!|r")elsecall DisplayTimedTextToForce(Mi[$B],12.,"|cffffcc00You have picked the wrong portal!|r")endifset bn=GetRectCenter(CO)call ForGroupBJ(mi[$B],function nz)call ForForce(Mi[$B],function Vz)call RemoveLocation(bn)endfunctionfunction Oz takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction Rz takes nothing returns booleanreturn(no==3)endfunctionfunction Iz takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction Az takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction Nz takes nothing returns nothingcall EnableTrigger(jC)call DisableTrigger(kC)call DisableTrigger(KC)call DisableTrigger(lC)call DisableTrigger(LC)call DestroyTimerDialog(Bo)call PauseTimerBJ(true,bo)if(Rz())thenset Io=(Io+1)call DisplayTimedTextToForce(Mi[$B],12.,"|cffffcc00You have advanced to the next stage!|r")elsecall DisplayTimedTextToForce(Mi[$B],12.,"|cffffcc00You have picked the wrong portal!|r")endifset bn=GetRectCenter(CO)call ForGroupBJ(mi[$B],function Iz)call ForForce(Mi[$B],function Az)call RemoveLocation(bn)endfunctionfunction Bz takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction cz takes nothing returns booleanreturn(no==4)endfunctionfunction Cz takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction dz takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction Dz takes nothing returns nothingcall EnableTrigger(jC)call DisableTrigger(kC)call DisableTrigger(KC)call DisableTrigger(lC)call DisableTrigger(LC)call DestroyTimerDialog(Bo)call PauseTimerBJ(true,bo)if(cz())thenset Io=(Io+1)call DisplayTimedTextToForce(Mi[$B],12.,"|cffffcc00You have advanced to the next stage!|r")elsecall DisplayTimedTextToForce(Mi[$B],12.,"|cffffcc00You have picked the wrong portal!|r")endifset bn=GetRectCenter(CO)call ForGroupBJ(mi[$B],function Cz)call ForForce(Mi[$B],function dz)call RemoveLocation(bn)endfunctionfunction Fz takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction gz takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction Gz takes nothing returns nothingcall EnableTrigger(jC)call DisableTrigger(kC)call DisableTrigger(KC)call DisableTrigger(lC)call DisableTrigger(LC)call DestroyTimerDialog(Bo)set bn=GetRectCenter(CO)call ForGroupBJ(mi[$B],function Fz)call DisplayTimedTextToForce(Mi[$B],15.,"|cffffcc00The stage is reset because you have taken too long to pick a portal!|r")call ForForce(Mi[$B],function gz)call RemoveLocation(bn)endfunctionfunction Hz takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U00C')endfunctionfunction jz takes nothing returns booleanreturn(IsPlayerInForce(GetEnumPlayer(),Rr))endfunctionfunction Jz takes nothing returns nothingif(jz())thencall ForceAddPlayer(Ar,GetEnumPlayer())call ForceRemovePlayer(Ko,GetEnumPlayer())call DisplayTimedTextToForce(YF(GetEnumPlayer()),10.,"|cffffcc00I have successfully killed Doppleganger. I should return to the Angel of Clouds now.|r")endifendfunctionfunction kz takes nothing returns nothingcall RemoveItem(GetEnumItem())endfunctionfunction Kz takes nothing returns nothingcall AdjustPlayerStateBJ(4,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)call PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,6)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction lz takes nothing returns nothingcall AdjustPlayerStateBJ(4,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)call PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,8)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction Lz takes nothing returns booleanreturn(lo<=30)endfunctionfunction mz takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),y[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])endfunctionfunction Mz takes nothing returns booleanreturn(IsUnitAliveBJ(GetEnumUnit()))endfunctionfunction pz takes nothing returns nothingif(Mz())thencall KillUnit(GetEnumUnit())endifendfunctionfunction Pz takes nothing returns nothingset cV[2]=trueset Co=0call ForForce(Mi[$B],function Jz)call EnumItemsInRectBJ(RV,function kz)call DisplayTimedTextToForce(Mi[$B],10.,"|cffffcc00You have completed the dungeon!|r Type -|c00ff0000d|r|c00ff1500o|r|c00ff3000n|r|c00ff4500e|r to exit the dungeon after looting your reward.")set lo=GetRandomInt(1,'d')if(Lz())thenset z[1]='I040'set z[2]='I042'set z[3]='I043'set z[4]='I041'set z[5]='I045'set z[6]='I044'set z[7]='I047'set z[8]='I046'call ForForce(Mi[$B],function lz)elseset z[1]='I040'set z[2]='I042'set z[3]='I043'set z[4]='I041'set z[5]='I045'set z[6]='I044'call ForForce(Mi[$B],function Kz)endifcall ForGroupBJ(mi[$B],function mz)call GroupClear(mi[$B])set NV=QF(iX)call ForGroupBJ(NV,function pz)call DestroyGroup(NV)call ForceClear(Mi[$B])call EnableTrigger(jC)call DisableTrigger(GetTriggeringTrigger())endfunctionfunction Qz takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player($C))endfunctionfunction sz takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U00E')or(GetUnitTypeId(GetDyingUnit())=='U00G')or(GetUnitTypeId(GetDyingUnit())=='U00F')or(GetUnitTypeId(GetDyingUnit())=='U00H')endfunctionfunction Sz takes nothing returns booleanreturn(sz())endfunctionfunction tz takes nothing returns nothingcall PauseUnit(GetEnumUnit(),true)endfunctionfunction Tz takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,1.)call SetCameraTargetControllerNoZForPlayer(GetEnumPlayer(),Ga,0,0,false)call CreateFogModifierRadiusLocBJ(true,GetEnumPlayer(),FOG_OF_WAR_VISIBLE,bn,800.)set fa[(1+GetPlayerId(GetEnumPlayer()))]=bj_lastCreatedFogModifierendfunctionfunction uz takes nothing returns nothingcall IssueImmediateOrderById(GetEnumUnit(),$D0004)call PauseUnit(GetEnumUnit(),false)endfunctionfunction Uz takes nothing returns nothingcall DestroyFogModifier(fa[(1+GetPlayerId(GetEnumPlayer()))])call ResetToGameCameraForPlayer(GetEnumPlayer(),0)endfunctionfunction wz takes nothing returns booleanreturn(da==4)endfunctionfunction Wz takes nothing returns nothingcall RemoveItem(GetEnumItem())endfunctionfunction yz takes nothing returns nothingcall AdjustPlayerStateBJ(5,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)call PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,5)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction Yz takes nothing returns nothingcall AdjustPlayerStateBJ(5,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)call PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,8)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction zz takes nothing returns booleanreturn(lo<=40)endfunctionfunction Zz takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),y[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])endfunctionfunction vZ takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U00I')endfunctionfunction eZ takes nothing returns nothingif(Sz())thenset da=(da+1)endifif(wz())thencall StopMusic(false)set Fa=trueset da=0call ForGroupBJ(mi[$C],function tz)set bn=GetRectCenter(pE)call CreateNUnitsAtLoc(1,'h03Z',Player($F),bn,bj_UNIT_FACING)set Ga=bj_lastCreatedUnitcall ForForce(Mi[$C],function Tz)call DisplayTextToForce(Mi[$C],"|cffffcc00Dragon of Pure Darkness|r: Kimi wa hontou ni kachi sou wo kangaeteita?")call GF(5.)call DisplayTextToForce(Mi[$C],"|cffffcc00Dragon of Pure Darkness|r: Muchi na orokamono...")call GF(4.)call DisplayTextToForce(Mi[$C],"|cffffcc00Dragon of Pure Darkness|r: Hontou no tatakai wa korekara hajimaru!")call GF(5.)set bj_forLoopBIndex=1set bj_forLoopBIndexEnd=8loopexitwhen bj_forLoopBIndex>bj_forLoopBIndexEndcall GF(.1)set Da=GetRandomLocInRect(RectFromCenterSizeBJ(bn,600.,600.))call CreateNUnitsAtLoc(1,'h00V',Player($A),Da,bj_UNIT_FACING)call RemoveLocation(Da)set bj_forLoopBIndex=bj_forLoopBIndex+1endloopcall DisplayTextToForce(Mi[$C],("|cffffcc00"+(GetPlayerName(ForcePickRandomPlayer(Mi[$C]))+"|r: What the...?! They're...they're fusing!")))call CreateNUnitsAtLoc(1,'h029',Player($A),bn,bj_UNIT_FACING)call SetUnitTimeScalePercent(bj_lastCreatedUnit,50.)call GF(3.6)call CreateNUnitsAtLoc(1,'h03F',Player($A),bn,bj_UNIT_FACING)call CreateNUnitsAtLoc(1,'U00I',Player($C),bn,270.)call SetHeroLevelBJ(bj_lastCreatedUnit,300,false)call RemoveLocation(bn)call DisplayTextToForce(Mi[$C],"|cffffcc00Fusion Dragon|r: Soshite, kimi ima wa shinu.")call GF(.5)call ForGroupBJ(mi[$C],function uz)call ForForce(Mi[$C],function Uz)call PlayMusicBJ(pI)endifif(vZ())thenset cV[3]=trueset Fa=falsecall StopMusic(false)call PlayMusicBJ(KI)call EnumItemsInRectBJ(RV,function Wz)call DisplayTimedTextToForce(Mi[$C],10.,"|cffffcc00You have completed the dungeon!|r Type -|c00ff0000d|r|c00ff1500o|r|c00ff3000n|r|c00ff4500e|r to exit the dungeon after looting your reward.")set lo=GetRandomInt(1,'d')if(zz())thenset z[1]='I04L'set z[2]='I04N'set z[3]='I04J'set z[4]='I04M'set z[5]='I04K'set z[6]='I04H'set z[7]='I04O'set z[8]='I04P'call ForForce(Mi[$C],function Yz)elseset z[1]='I04L'set z[2]='I04H'set z[3]='I04J'set z[4]='I04M'set z[5]='I04K'call ForForce(Mi[$C],function yz)endifcall ForGroupBJ(mi[$C],function Zz)call GroupClear(mi[$C])call ForceClear(Mi[$C])call DisableTrigger(GetTriggeringTrigger())call DisableTrigger(uC)call DisableTrigger(wC)call DisableTrigger(yC)call DisableTrigger(YC)call DisableTrigger(zC)endifendfunctionfunction oZ takes nothing returns booleanreturn(GetOwningPlayer(GetDyingUnit())==Player($C))endfunctionfunction rZ takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='U00N')endfunctionfunction iZ takes nothing returns nothingif(rZ())thencall SetUnitInvulnerable(GetEnumUnit(),false)endifendfunctionfunction aZ takes nothing returns booleanreturn(CV[1]==2)endfunctionfunction nZ takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='U00N')endfunctionfunction VZ takes nothing returns nothingif(nZ())thencall SetUnitInvulnerable(GetEnumUnit(),false)endifendfunctionfunction EZ takes nothing returns booleanreturn(CV[1]==2)endfunctionfunction XZ takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U00J')endfunctionfunction OZ takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='U00O')endfunctionfunction RZ takes nothing returns nothingif(OZ())thencall SetUnitInvulnerable(GetEnumUnit(),false)endifendfunctionfunction IZ takes nothing returns booleanreturn(CV[2]==2)endfunctionfunction AZ takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U00K')endfunctionfunction NZ takes nothing returns booleanreturn(CV[2]<2)endfunctionfunction bZ takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U00N')endfunctionfunction BZ takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U00O')endfunctionfunction cZ takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='U00N')endfunctionfunction CZ takes nothing returns nothingif(cZ())thencall SetUnitInvulnerable(GetEnumUnit(),false)endifendfunctionfunction dZ takes nothing returns booleanreturn(CV[1]==2)endfunctionfunction DZ takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='U00N')endfunctionfunction fZ takes nothing returns nothingif(DZ())thencall SetUnitInvulnerable(GetEnumUnit(),false)endifendfunctionfunction FZ takes nothing returns booleanreturn(CV[1]==2)endfunctionfunction gZ takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U00L')endfunctionfunction GZ takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='U00O')endfunctionfunction hZ takes nothing returns nothingif(GZ())thencall SetUnitInvulnerable(GetEnumUnit(),false)endifendfunctionfunction HZ takes nothing returns booleanreturn(CV[2]==2)endfunctionfunction jZ takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U00M')endfunctionfunction JZ takes nothing returns nothingcall SetUnitInvulnerable(GetEnumUnit(),true)call PauseUnit(GetEnumUnit(),true)endfunctionfunction kZ takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),GetUnitLoc(BV),2.)endfunctionfunction KZ takes nothing returns nothingcall SetCameraTargetControllerNoZForPlayer(GetEnumPlayer(),BV,0,0,false)endfunctionfunction lZ takes nothing returns nothingcall SetUnitInvulnerable(GetEnumUnit(),false)call PauseUnit(GetEnumUnit(),false)endfunctionfunction LZ takes nothing returns nothingcall ResetToGameCameraForPlayer(GetEnumPlayer(),0)endfunctionfunction mZ takes nothing returns booleanreturn(bV==3)endfunctionfunction MZ takes nothing returns nothingcall RemoveItem(GetEnumItem())endfunctionfunction pZ takes nothing returns nothingcall AdjustPlayerStateBJ(6,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)call PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,5)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction PZ takes nothing returns nothingcall AdjustPlayerStateBJ(6,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)call PanCameraToTimedLocForPlayer(GetEnumPlayer(),y[(1+GetPlayerId(GetEnumPlayer()))],0)call CreateItemLoc(z[GetRandomInt(1,8)],y[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction qZ takes nothing returns booleanreturn(lo<=20)endfunctionfunction QZ takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),y[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])endfunctionfunction sZ takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U00R')endfunctionfunction SZ takes nothing returns nothingif(XZ())thenset CV[1]=(CV[1]+1)if(aZ())thenset dV=QF(rI)call ForGroupBJ(dV,function iZ)call DestroyGroup(dV)endifcall DisplayTextToForce(Mi[$D],"The Icarus has been destroyed. Calling the reinforcement, The Infinity.")call TriggerSleepAction(15.)if(EZ())thenset dV=QF(rI)call ForGroupBJ(dV,function VZ)call DestroyGroup(dV)endifcall DisplayTextToForce(Mi[$D],"The Infinity has arrived.")call CreateNUnitsAtLoc(1,'U00K',Player($C),GetRectCenter(ZR),bj_UNIT_FACING)call SetHeroLevelBJ(bj_lastCreatedUnit,$FA,false)endifif(AZ())thenset bV=(bV+1)set CV[2]=(CV[2]+1)if(IZ())thenset dV=QF(rI)call ForGroupBJ(dV,function RZ)call DestroyGroup(dV)endifendifif(bZ())thencall DisplayTextToForce(Mi[$D],"The Trinity has been destroyed. Calling the reinforcement, The Liberty.")call TriggerSleepAction(15.)call DisplayTextToForce(Mi[$D],"The Liberty has arrived.")call CreateNUnitsAtLoc(1,'U00O',Player($C),GetRectCenter(eI),bj_UNIT_FACING)if(NZ())thencall SetUnitInvulnerable(bj_lastCreatedUnit,true)endifcall SetHeroLevelBJ(bj_lastCreatedUnit,$FA,false)call IssueImmediateOrderById(bj_lastCreatedUnit,$D024C)endifif(BZ())thenset bV=(bV+1)endifif(gZ())thencall DisableTrigger(qC)set CV[1]=(CV[1]+1)if(dZ())thenset dV=QF(rI)call ForGroupBJ(dV,function CZ)call DestroyGroup(dV)endifcall DisplayTextToForce(Mi[$D],"The Mirage has been destroyed. Calling the reinforcement, The Aurora.")call TriggerSleepAction(15.)if(FZ())thenset dV=QF(rI)call ForGroupBJ(dV,function fZ)call DestroyGroup(dV)endifcall EnableTrigger(qC)call DisplayTextToForce(Mi[$D],"The Aurora has arrived.")call CreateNUnitsAtLoc(1,'U00M',Player($C),GetRectCenter(vI),bj_UNIT_FACING)call SetHeroLevelBJ(bj_lastCreatedUnit,$FA,false)endifif(jZ())thencall DisableTrigger(qC)set CV[2]=(CV[2]+1)if(HZ())thenset dV=QF(rI)call ForGroupBJ(dV,function hZ)call DestroyGroup(dV)endifset bV=(bV+1)endifif(mZ())thenset bV=0set dV=QF(rI)call ForGroupBJ(QF(rI),function JZ)call CreateNUnitsAtLoc(1,'ubot',Player($A),GetRectCenter(xI),bj_UNIT_FACING)set BV=bj_lastCreatedUnitcall ForForce(Mi[$D],function kZ)call TriggerSleepAction(2.1)call ForForce(Mi[$D],function KZ)call SetUnitPathing(BV,false)call SetUnitInvulnerable(BV,true)call IssuePointOrderByIdLoc(BV,$D0012,GetRectCenter(aI))call TriggerSleepAction(5.)call DisplayTextToForce(Mi[$D],"Admiral: Impossible, they made it this far.")call TriggerSleepAction(5.)call DisplayTextToForce(Mi[$D],"Admiral: I shall make them see their end here.")call IssuePointOrderByIdLoc(BV,$D0012,GetRectCenter(nI))call TriggerSleepAction(1.5)call IssuePointOrderByIdLoc(BV,$D0012,GetRectCenter(iI))call TriggerSleepAction(7.)call CreateNUnitsAtLoc(1,'U00R',Player($C),GetRectCenter(iI),bj_UNIT_FACING)call DisplayTextToForce(Mi[$D],"Admiral: Commander! Come out!")call TriggerSleepAction(2)call CreateNUnitsAtLoc(1,'U00Q',Player($C),OffsetLocation(GetRectCenter(iI),100.,-100.),bj_UNIT_FACING)call TriggerSleepAction(2)call DisplayTextToForce(Mi[$D],"Pugs: They shall meet their end here with my 'Ban' Hammer.")call SetUnitInvulnerable(BV,false)call CreateFogModifierRadiusLocBJ(true,GetEnumPlayer(),FOG_OF_WAR_VISIBLE,GetUnitLoc(BV),512)call KillUnit(BV)call TriggerSleepAction(5.)call RemoveUnit(BV)call ForGroupBJ(dV,function lZ)call ForForce(Mi[$D],function LZ)call DestroyGroup(dV)endifif(sZ())thencall StopMusic(false)call PlayMusicBJ(KI)call EnumItemsInRectBJ(RV,function MZ)call DisplayTimedTextToForce(Mi[$D],10.,"|cffffcc00You have completed the dungeon!|r Type -|c00ff0000d|r|c00ff1500o|r|c00ff3000n|r|c00ff4500e|r to exit the dungeon after looting your reward.")set lo=GetRandomInt(1,'d')if(qZ())thenset z[1]='I05L'set z[2]='I05K'set z[3]='I05J'set z[4]='I05M'set z[5]='I05N'set z[6]='I05H'set z[7]='I05F'set z[8]='I05G'call ForForce(Mi[$D],function PZ)elseset z[1]='I05M'set z[2]='I05K'set z[3]='I05L'set z[4]='I05J'set z[5]='I05N'call ForForce(Mi[$D],function pZ)endifcall ForGroupBJ(mi[$D],function QZ)call GroupClear(mi[$D])call ForceClear(Mi[$D])call DisableTrigger(GetTriggeringTrigger())endifendfunctionfunction TZ takes nothing returns booleanreturn(CountPlayersInForceBJ(Mi[$D])>0)endfunctionfunction uZ takes nothing returns nothingif(TZ())thenset DV=GetRandomLocInRect(VI)call CreateNUnitsAtLoc(1,'e005',Player($C),DV,bj_UNIT_FACING)call CreateNUnitsAtLoc(1,'e004',Player($C),DV,bj_UNIT_FACING)call IssueImmediateOrderById(bj_lastCreatedUnit,$D0080)call RemoveLocation(DV)elsecall DisableTrigger(GetTriggeringTrigger())endifendfunctionfunction wZ takes nothing returns nothingcall CreateNUnitsAtLoc(1,'U00J',Player($C),GetRectCenter(ZR),bj_UNIT_FACING)call SetHeroLevelBJ(bj_lastCreatedUnit,$C8,false)call CreateNUnitsAtLoc(1,'U00L',Player($C),GetRectCenter(vI),bj_UNIT_FACING)call SetHeroLevelBJ(bj_lastCreatedUnit,$C8,false)call CreateNUnitsAtLoc(1,'U00N',Player($C),GetRectCenter(eI),bj_UNIT_FACING)call SetHeroLevelBJ(bj_lastCreatedUnit,$C8,false)call SetUnitInvulnerable(bj_lastCreatedUnit,true)call IssueImmediateOrderById(bj_lastCreatedUnit,$D024C)set CV[1]=0set CV[2]=0call DisableTrigger(GetTriggeringTrigger())endfunctionfunction yZ takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction YZ takes nothing returns nothingset bn=GetRectCenter(qE)call SetUnitPositionLocFacingBJ(GetTriggerUnit(),bn,GetRandomReal(0,360))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),bn,0)call RemoveLocation(bn)endfunctionfunction ZZ takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction v0 takes nothing returns nothingset bn=GetRectCenter(sE)call SetUnitPositionLocFacingBJ(GetTriggerUnit(),bn,GetRandomReal(0,360))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),bn,0)call RemoveLocation(bn)endfunctionfunction x0 takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction o0 takes nothing returns nothingset bn=GetRectCenter(tE)call SetUnitPositionLocFacingBJ(GetTriggerUnit(),bn,GetRandomReal(0,360))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),bn,0)call RemoveLocation(bn)endfunctionfunction i0 takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction a0 takes nothing returns nothingcall SetUnitPositionLocFacingBJ(GetEnumUnit(),bn,GetRandomReal(0,360))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnumUnit()),bn,0)call DisplayTextToForce(YF(GetOwningPlayer(GetEnumUnit())),"TRIGSTR_5386")endfunctionfunction n0 takes nothing returns nothingset bn=GetRectCenter(uE)call ForGroupBJ(mi[$C],function a0)call RemoveLocation(bn)set bn=GetRectCenter(dE)call CreateNUnitsAtLoc(1,'U00E',Player($C),bn,bj_UNIT_FACING)call RemoveLocation(bn)call SetHeroLevelBJ(bj_lastCreatedUnit,300,false)set bn=GetRectCenter(cE)call CreateNUnitsAtLoc(1,'U00G',Player($C),bn,bj_UNIT_FACING)call RemoveLocation(bn)call SetHeroLevelBJ(bj_lastCreatedUnit,300,false)set bn=GetRectCenter(CE)call CreateNUnitsAtLoc(1,'U00F',Player($C),bn,bj_UNIT_FACING)call RemoveLocation(bn)call SetHeroLevelBJ(bj_lastCreatedUnit,300,false)set bn=GetRectCenter(BE)call CreateNUnitsAtLoc(1,'U00H',Player($C),bn,bj_UNIT_FACING)call RemoveLocation(bn)call SetHeroLevelBJ(bj_lastCreatedUnit,300,false)endfunctionfunction E0 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction X0 takes nothing returns booleanreturn(GetTerrainTypeBJ(GetUnitLoc(GetEnumUnit()))!='Irbk')endfunctionfunction O0 takes nothing returns nothingif(X0())thencall KillUnit(GetEnumUnit())endifendfunctionfunction R0 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction I0 takes nothing returns booleanreturn(GetTerrainTypeBJ(GetUnitLoc(GetEnumUnit()))!='Irbk')endfunctionfunction A0 takes nothing returns nothingif(I0())thencall KillUnit(GetEnumUnit())endifendfunctionfunction N0 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction b0 takes nothing returns booleanreturn(GetTerrainTypeBJ(GetUnitLoc(GetEnumUnit()))!='Irbk')endfunctionfunction B0 takes nothing returns nothingif(b0())thencall KillUnit(GetEnumUnit())endifendfunctionfunction c0 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction C0 takes nothing returns booleanreturn(GetTerrainTypeBJ(GetUnitLoc(GetEnumUnit()))!='Irbk')endfunctionfunction d0 takes nothing returns nothingif(C0())thencall KillUnit(GetEnumUnit())endifendfunctionfunction D0 takes nothing returns nothingset Ca=PF(UE,Condition(function E0))call ForGroupBJ(Ca,function O0)call DestroyGroup(Ca)set Ca=PF(wE,Condition(function R0))call ForGroupBJ(Ca,function A0)call DestroyGroup(Ca)set Ca=PF(WE,Condition(function N0))call ForGroupBJ(Ca,function B0)call DestroyGroup(Ca)set Ca=PF(yE,Condition(function c0))call ForGroupBJ(Ca,function d0)call DestroyGroup(Ca)endfunctionfunction F0 takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction g0 takes nothing returns nothingcall KillUnit(GetTriggerUnit())endfunctionfunction h0 takes nothing returns nothingset Na=GetRectCenter(AX)set ba=GetRectCenter(NX)call CreateNUnitsAtLoc(1,'h03I',Player($A),Na,bj_UNIT_FACING)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,ba)call RemoveLocation(Na)call RemoveLocation(ba)endfunctionfunction j0 takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='h03I')endfunctionfunction J0 takes nothing returns nothingcall KillUnit(GetTriggerUnit())endfunctionfunction K0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction l0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction L0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction m0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction M0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction p0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction P0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction q0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction Q0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction s0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction S0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction t0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction T0 takes nothing returns nothingcall KillUnit(GetEnumUnit())endfunctionfunction u0 takes nothing returns nothingset Ba=GetRectCenter(HE)call CreateNUnitsAtLoc(1,'h03S',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function K0)call RemoveLocation(Ba)set Ba=GetRectCenter(kE)call CreateNUnitsAtLoc(1,'h03S',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function l0)call RemoveLocation(Ba)set Ba=GetRectCenter(KE)call CreateNUnitsAtLoc(1,'h03T',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function L0)call RemoveLocation(Ba)set Ba=GetRectCenter(lE)call CreateNUnitsAtLoc(1,'h03T',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function m0)call RemoveLocation(Ba)set Ba=GetRectCenter(qO)call CreateNUnitsAtLoc(1,'h03P',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function M0)call RemoveLocation(Ba)set Ba=GetRectCenter(sO)call CreateNUnitsAtLoc(1,'h03P',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function p0)call RemoveLocation(Ba)set Ba=GetRectCenter(SO)call CreateNUnitsAtLoc(1,'h03P',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function P0)call RemoveLocation(Ba)set Ba=GetRectCenter(mO)call CreateNUnitsAtLoc(1,'h03P',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function q0)call RemoveLocation(Ba)set Ba=GetRectCenter(XO)call CreateNUnitsAtLoc(1,'h03N',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function Q0)call RemoveLocation(Ba)set Ba=GetRectCenter(RO)call CreateNUnitsAtLoc(1,'h03N',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function s0)call RemoveLocation(Ba)set Ba=GetRectCenter(iO)call CreateNUnitsAtLoc(1,'h03R',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function S0)call RemoveLocation(Ba)set Ba=GetRectCenter(nO)call CreateNUnitsAtLoc(1,'h03R',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function t0)call RemoveLocation(Ba)call ForGroupBJ(ca,function T0)call GroupClear(ca)endfunctionfunction w0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction W0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction y0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction Y0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction z0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction Z0 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction v1 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction e1 takes nothing returns nothingcall KillUnit(GetEnumUnit())endfunctionfunction x1 takes nothing returns nothingset Ba=GetRectCenter(RX)call CreateNUnitsAtLoc(1,'h03Q',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function w0)call RemoveLocation(Ba)set Ba=GetRectCenter(IX)call CreateNUnitsAtLoc(1,'h03Q',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function W0)call RemoveLocation(Ba)set Ba=GetRectCenter(jE)call CreateNUnitsAtLoc(1,'h03S',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function y0)call RemoveLocation(Ba)set Ba=GetRectCenter(JE)call CreateNUnitsAtLoc(1,'h03S',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function Y0)call RemoveLocation(Ba)set Ba=GetRectCenter(MO)call CreateNUnitsAtLoc(1,'h03L',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function z0)call RemoveLocation(Ba)set Ba=GetRectCenter(AO)call CreateNUnitsAtLoc(1,'h03N',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function Z0)call RemoveLocation(Ba)set Ba=GetRectCenter(VO)call CreateNUnitsAtLoc(1,'h03R',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function v1)call RemoveLocation(Ba)call ForGroupBJ(ca,function e1)call GroupClear(ca)endfunctionfunction r1 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction i1 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction a1 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction n1 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction V1 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction E1 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction X1 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction O1 takes nothing returns nothingcall GroupAddUnit(ca,GetEnumUnit())endfunctionfunction R1 takes nothing returns nothingcall KillUnit(GetEnumUnit())endfunctionfunction I1 takes nothing returns nothingset Ba=GetRectCenter(pO)call CreateNUnitsAtLoc(1,'h03O',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function r1)call RemoveLocation(Ba)set Ba=GetRectCenter(PO)call CreateNUnitsAtLoc(1,'h03O',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function i1)call RemoveLocation(Ba)set Ba=GetRectCenter(QO)call CreateNUnitsAtLoc(1,'h03O',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function a1)call RemoveLocation(Ba)set Ba=GetRectCenter(EO)call CreateNUnitsAtLoc(1,'h03N',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function n1)call RemoveLocation(Ba)set Ba=GetRectCenter(OO)call CreateNUnitsAtLoc(1,'h03N',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function V1)call RemoveLocation(Ba)set Ba=GetRectCenter(IO)call CreateNUnitsAtLoc(1,'h03N',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function E1)call RemoveLocation(Ba)set Ba=GetRectCenter(rO)call CreateNUnitsAtLoc(1,'h03R',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function X1)call RemoveLocation(Ba)set Ba=GetRectCenter(aO)call CreateNUnitsAtLoc(1,'h03R',Player($A),Ba,270.)call ForGroupBJ(uF(90.,Ba),function O1)call RemoveLocation(Ba)call ForGroupBJ(ca,function R1)call GroupClear(ca)endfunctionfunction N1 takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction b1 takes nothing returns booleanreturn(re==0)endfunctionfunction B1 takes nothing returns nothingif(b1())thencall PlaySoundBJ(GI)set re=1call DisplayTimedTextToForce(Mi[5],5.,"|cffffcc00You hear a click sound and know you have stepped on the correct pedal.|r")elseset re=0call DisplayTimedTextToForce(Mi[5],5.,"|cffff0000You hear a ringing sound. All pedals were reset!|r")endifendfunctionfunction C1 takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction d1 takes nothing returns booleanreturn(re==1)endfunctionfunction D1 takes nothing returns nothingif(d1())thencall PlaySoundBJ(GI)set re=2call DisplayTimedTextToForce(Mi[5],5.,"|cffffcc00You hear a click sound and know you have stepped on the correct pedal.|r")elseset re=0call DisplayTimedTextToForce(Mi[5],5.,"|cffff0000You hear a ringing sound. All pedals were reset!|r")endifendfunctionfunction F1 takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction g1 takes nothing returns booleanreturn(re==2)endfunctionfunction G1 takes nothing returns nothingif(g1())thencall PlaySoundAtPointBJ(gI,'d',GetUnitLoc(GetTriggerUnit()),0)set re=3call ModifyGateBJ(1,AF)call DisplayTimedTextToForce(Mi[5],5.,"|cffffcc00You hear the gate open. Must have been the correct pedal.|r")elseset re=0call DisplayTimedTextToForce(Mi[5],5.,"|cffff0000You hear a ringing sound. All pedals were reset!|r")endifendfunctionfunction H1 takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction j1 takes nothing returns booleanreturn(re==3)endfunctionfunction J1 takes nothing returns nothingif(j1())thencall PlaySoundBJ(GI)set re=4call DisplayTimedTextToForce(Mi[5],5.,"|cffffcc00You hear a click sound and know you have stepped on the correct pedal.|r")elseset re=0call DisplayTimedTextToForce(Mi[5],5.,"|cffff0000You hear a ringing sound. All pedals were reset!|r")endifendfunctionfunction K1 takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction l1 takes nothing returns booleanreturn(re==4)endfunctionfunction L1 takes nothing returns nothingif(l1())thencall PlaySoundBJ(GI)set re=5call DisplayTimedTextToForce(Mi[5],5.,"|cffffcc00You hear a click sound and know you have stepped on the correct pedal.|r")elseset re=0call DisplayTimedTextToForce(Mi[5],5.,"|cffff0000You hear a ringing sound. All pedals were reset!|r")endifendfunctionfunction M1 takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction p1 takes nothing returns booleanreturn(re==5)endfunctionfunction P1 takes nothing returns nothingif(p1())thencall PlaySoundBJ(GI)set re=6call DisplayTimedTextToForce(Mi[5],5.,"|cffffcc00You hear a click sound and know you have stepped on the correct pedal.|r")elseset re=0call DisplayTimedTextToForce(Mi[5],5.,"|cffff0000You hear a ringing sound. All pedals were reset!|r")endifendfunctionfunction Q1 takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction S1 takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),bn)endfunctionfunction t1 takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),bn,0)endfunctionfunction T1 takes nothing returns booleanreturn(re==6)endfunctionfunction u1 takes nothing returns nothingif(T1())thencall PlaySoundBJ(GI)set re=0call DisplayTimedTextToForce(Mi[5],5.,"|cffffcc00You have been transferred to the Boss Area!|r")set bn=GetRectCenter(ER)call ForGroupBJ(mi[5],function S1)call ForForce(Mi[5],function t1)call RemoveLocation(bn)call ModifyGateBJ(0,AF)elseset re=0call DisplayTimedTextToForce(Mi[5],5.,"|cffff0000You hear a ringing sound. All pedals were reset!|r")endifendfunctionfunction w1 takes nothing returns nothingcall PlaySoundAtPointBJ(II,'d',GetRectCenter(OR),0)call DisableTrigger(GetTriggeringTrigger())call TriggerSleepAction(30.)call EnableTrigger(GetTriggeringTrigger())endfunctionfunction y1 takes nothing returns nothingcall PlaySoundAtPointBJ(FI,'d',GetRectCenter(ME),0)call DisableTrigger(GetTriggeringTrigger())call TriggerSleepAction(30.)call EnableTrigger(GetTriggeringTrigger())endfunctionfunction z1 takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='U001')endfunctionfunction Z1 takes nothing returns nothingcall PlaySoundAtPointBJ(RI,'d',GetUnitLoc(GetTriggerUnit()),0)call DisableTrigger(GetTriggeringTrigger())call TriggerSleepAction(30.)call EnableTrigger(GetTriggeringTrigger())endfunctionfunction e2 takes nothing returns booleanreturn(CountUnitsInGroup(sF(FO,GetTriggerPlayer()))>=1)endfunctionfunction x2 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction o2 takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),Y[(1+GetPlayerId(GetTriggerPlayer()))])endfunctionfunction r2 takes nothing returns nothingcall ForceRemovePlayer(sv,GetTriggerPlayer())call ForceRemovePlayer(Ze,GetTriggerPlayer())set gr=WF(GetTriggerPlayer(),Condition(function x2))call ForGroupBJ(gr,function o2)call DestroyGroup(gr)call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),Y[(1+GetPlayerId(GetTriggerPlayer()))],0)endfunctionfunction a2 takes nothing returns booleanreturn(IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction n2 takes nothing returns booleanreturn(CountUnitsInGroup(mi[bj_forLoopAIndex])==0)endfunctionfunction V2 takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mi[bj_forLoopAIndex]))endfunctionfunction E2 takes nothing returns nothingset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=Inloopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(V2())thencall ForceRemovePlayer(Mi[bj_forLoopAIndex],GetOwningPlayer(GetTriggerUnit()))call GroupRemoveUnit(mi[bj_forLoopAIndex],GetTriggerUnit())if(n2())thenset w=bj_forLoopAIndexcall TriggerExecute(Rd)endifendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction O2 takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction R2 takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction I2 takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction A2 takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction N2 takes nothing returns nothingcall ForceRemovePlayer(sv,GetEnumPlayer())call ForceRemovePlayer(Ze,GetEnumPlayer())endfunctionfunction b2 takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction B2 takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction c2 takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction C2 takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction d2 takes nothing returns booleanreturn(cV[4])endfunctionfunction D2 takes nothing returns nothingif w==1 thencall EnableTrigger(RC)call DisplayTimedTextToForce(Mi[1],7.,"TRIGSTR_226")elseif w==2 thencall EnableTrigger(IC)call EnableTrigger(Vd)call DisplayTimedTextToForce(Mi[2],7.,"TRIGSTR_5449")elseif w==3 thencall EnableTrigger(AC)call DisplayTimedTextToForce(Mi[3],7.,"TRIGSTR_5458")elseif w==4 thencall EnableTrigger(NC)call DisplayTimedTextToForce(Mi[4],7.,"TRIGSTR_5629")elseif w==5 thencall EnableTrigger(bC)call DisplayTimedTextToForce(Mi[5],7.,"TRIGSTR_5862")elseif w==6 thencall EnableTrigger(BC)call DisplayTimedTextToForce(Mi[6],7.,"TRIGSTR_5944")elseif w==7 thencall EnableTrigger(cC)call DisplayTimedTextToForce(Mi[7],7.,"TRIGSTR_5988")elseif w==8 thencall EnableTrigger(CC)call DisplayTimedTextToForce(Mi[8],7.,"TRIGSTR_5946")elseif w==9 thencall EnableTrigger(dC)call DisplayTimedTextToForce(Mi[9],7.,"TRIGSTR_5945")elseif w==$A thenset Nn=GetRandomInt(1,4)call EnableTrigger(hC)call DisplayTimedTextToForce(Mi[$A],7.,"TRIGSTR_5987")elseif w==$B thenset Io=1call ForGroupBJ(sF(iX,Player($C)),function O2)call ForGroupBJ(sF(iX,Player($A)),function R2)call EnableTrigger(HC)call EnableTrigger(JC)call EnableTrigger(MC)call DisplayTimedTextToForce(Mi[$B],7.,"TRIGSTR_5989")elseif w==$C thenset da=0call ForGroupBJ(sF(oX,Player($C)),function I2)call ForGroupBJ(sF(oX,Player($A)),function A2)call EnableTrigger(pC)call EnableTrigger(uC)call EnableTrigger(yC)call EnableTrigger(YC)call EnableTrigger(zC)call DisplayTimedTextToForce(Mi[$C],7.,"TRIGSTR_5990")elseif w==$D thenif(d2())thencall ForGroupBJ(sF(rI,Player($C)),function b2)call ForGroupBJ(sF(rI,Player($A)),function B2)call ForGroupBJ(sF(YR,Player($C)),function c2)call ForGroupBJ(sF(YR,Player($A)),function C2)set bV=0call EnableTrigger(PC)call EnableTrigger(qC)call TriggerExecute(QC)call DisplayTimedTextToForce(Mi[$D],7.,"TRIGSTR_14507")elsecall DisplayTimedTextToForce(Mi[$D],7.,"|cffff0000You cannot enter this dungeon yet. You need to kill Harbinger of Doom, Doppleganger, and Fusion Dragon in order to move forward.|r")call ForForce(Mi[$D],function N2)call GroupClear(mi[$D])call ForceClear(Mi[$D])endifendifset w=0endfunctionfunction F2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction g2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction G2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction h2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction H2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction j2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction J2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction k2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction K2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction l2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction L2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction m2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction M2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction p2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction P2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction q2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction Q2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction S2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction t2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction T2 takes nothing returns nothingcall SetUnitLifePercentBJ(GetEnumUnit(),'d')endfunctionfunction u2 takes nothing returns booleanreturn(Fa)endfunctionfunction U2 takes nothing returns nothingif w==1 thencall DisableTrigger(RC)call ForGroupBJ(UF('n000'),function F2)call ForGroupBJ(UF('n007'),function g2)call ForGroupBJ(UF('n006'),function G2)call ForGroupBJ(UF('U000'),function h2)elseif w==2 thencall DisableTrigger(IC)call DisableTrigger(Vd)call ForGroupBJ(UF('n00T'),function H2)call ForGroupBJ(UF('U001'),function j2)elseif w==3 thencall DisableTrigger(AC)call ForGroupBJ(UF('n012'),function J2)call ForGroupBJ(UF('U003'),function k2)elseif w==4 thencall DisableTrigger(NC)call ForGroupBJ(UF('U002'),function K2)elseif w==5 thenset re=0call DisableTrigger(bC)call ModifyGateBJ(0,AF)call ForGroupBJ(UF('U004'),function l2)elseif w==6 thencall DisableTrigger(BC)call ForGroupBJ(UF('U006'),function L2)call ForGroupBJ(UF('n01Y'),function m2)call ForGroupBJ(UF('n020'),function M2)elseif w==7 thencall DisableTrigger(cC)call ForGroupBJ(UF('U007'),function p2)call ForGroupBJ(UF('n01Z'),function P2)elseif w==8 thencall DisableTrigger(CC)call ForGroupBJ(UF('U009'),function q2)call ForGroupBJ(UF('n024'),function Q2)elseif w==9 thencall DisableTrigger(dC)call ForGroupBJ(UF('U00A'),function S2)call ForGroupBJ(UF('n02A'),function t2)elseif w==$A thencall DisableTrigger(hC)call ForGroupBJ(UF('U00B'),function T2)elseif w==$B thencall DisableTrigger(HC)call DisableTrigger(JC)call DisableTrigger(MC)call EnableTrigger(jC)elseif w==$C thencall DisableTrigger(pC)call DisableTrigger(uC)call DisableTrigger(yC)call DisableTrigger(YC)call DisableTrigger(zC)if(u2())thenset Fa=falsecall StopMusic(false)call PlayMusicBJ(KI)endifelseif w==$D thencall DisableTrigger(PC)call DisableTrigger(qC)endifset w=0endfunctionfunction W2 takes nothing returns booleanreturn(GetUnitLevel(GetTriggerUnit())>='d')and(GetUnitLevel(GetTriggerUnit())<=$95)endfunctionfunction y2 takes nothing returns booleanreturn(GetUnitLevel(GetTriggerUnit())>=$96)and(GetUnitLevel(GetTriggerUnit())<=$C7)endfunctionfunction Y2 takes nothing returns booleanreturn(GetUnitLevel(GetTriggerUnit())>=$C8)and(GetUnitLevel(GetTriggerUnit())<=$F9)endfunctionfunction z2 takes nothing returns booleanreturn(GetUnitLevel(GetTriggerUnit())>=$FA)and(GetUnitLevel(GetTriggerUnit())<=300)endfunctionfunction Z2 takes nothing returns nothingif(W2())thencall SetPlayerHandicapXPBJ(GetOwningPlayer(GetTriggerUnit()),80.)endifif(y2())thencall SetPlayerHandicapXPBJ(GetOwningPlayer(GetTriggerUnit()),60.)endifif(Y2())thencall SetPlayerHandicapXPBJ(GetOwningPlayer(GetTriggerUnit()),30.)endifif(z2())thencall SetPlayerHandicapXPBJ(GetOwningPlayer(GetTriggerUnit()),15.)endifendfunctionfunction e3 takes nothing returns booleanreturn(GetUnitLevel(GetTriggerUnit())>='d')and(GetUnitLevel(GetTriggerUnit())<=$95)endfunctionfunction x3 takes nothing returns booleanreturn(GetUnitLevel(GetTriggerUnit())>=$96)and(GetUnitLevel(GetTriggerUnit())<=$C7)endfunctionfunction o3 takes nothing returns booleanreturn(GetUnitLevel(GetTriggerUnit())>=$C8)and(GetUnitLevel(GetTriggerUnit())<=$F9)endfunctionfunction r3 takes nothing returns booleanreturn(GetUnitLevel(GetTriggerUnit())>=$FA)and(GetUnitLevel(GetTriggerUnit())<=300)endfunctionfunction i3 takes nothing returns nothingif(e3())thencall SetPlayerHandicapXPBJ(GetOwningPlayer(GetTriggerUnit()),80.)endifif(x3())thencall SetPlayerHandicapXPBJ(GetOwningPlayer(GetTriggerUnit()),60.)endifif(o3())thencall SetPlayerHandicapXPBJ(GetOwningPlayer(GetTriggerUnit()),30.)endifif(r3())thencall SetPlayerHandicapXPBJ(GetOwningPlayer(GetTriggerUnit()),15.)endifendfunctionfunction n3 takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction V3 takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Sv))endfunctionfunction E3 takes nothing returns nothingcall ResetToGameCameraForPlayer(GetOwningPlayer(GetTriggerUnit()),0)call ForceAddPlayer(sv,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(xa,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Ze,GetOwningPlayer(GetTriggerUnit()))if(V3())thencall ForceRemovePlayer(Sv,GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(true,'A01T',GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(true,'A02T',GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(true,'A07W',GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(true,'A01U',GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(true,'A02U',GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(true,'A07X',GetOwningPlayer(GetTriggerUnit()))endifendfunctionfunction O3 takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ze))or(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),qe))or(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),kx))endfunctionfunction R3 takes nothing returns booleanreturn(GetSpellAbilityId()=='A04I')and(O3())endfunctionfunction I3 takes nothing returns nothingcall IssueImmediateOrderById(GetTriggerUnit(),$D0004)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff0000You cannot teleport now.|r")endfunctionfunction N3 takes nothing returns booleanreturn(GetSpellAbilityId()=='A04I')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ko))endfunctionfunction b3 takes nothing returns nothingcall ForceRemovePlayer(Ko,GetOwningPlayer(GetTriggerUnit()))endfunctionfunction c3 takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetKillingUnit()))!=MAP_CONTROL_USER)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mx)==false))!=nullendfunctionfunction C3 takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),wn))endfunctionfunction d3 takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())!='H007')and(GetUnitTypeId(GetTriggerUnit())!='H00E')and(GetUnitTypeId(GetTriggerUnit())!='H01B')and(GetUnitTypeId(GetTriggerUnit())!='H02C')and(GetUnitTypeId(GetTriggerUnit())!='H004')and(GetUnitTypeId(GetTriggerUnit())!='H00F')and(GetUnitTypeId(GetTriggerUnit())!='H01A')and(GetUnitTypeId(GetTriggerUnit())!='H02B')endfunctionfunction D3 takes nothing returns booleanreturn(GetUnitLevel(GetTriggerUnit())>='d')endfunctionfunction f3 takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(0))endfunctionfunction F3 takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(1))endfunctionfunction g3 takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(2))endfunctionfunction G3 takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(3))endfunctionfunction h3 takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(4))endfunctionfunction H3 takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(5))endfunctionfunction j3 takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(6))endfunctionfunction J3 takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(7))endfunctionfunction k3 takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(8))endfunctionfunction K3 takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(9))endfunctionfunction l3 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction L3 takes nothing returns booleanreturn(IsUnitDeadBJ(GetEnumUnit()))endfunctionfunction m3 takes nothing returns nothingif(L3())thencall ReviveHeroLoc(GetEnumUnit(),Y[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitManaPercentBJ(GetEnumUnit(),80.)call SetUnitInvulnerable(GetEnumUnit(),false)call SelectUnitForPlayerSingle(GetEnumUnit(),GetOwningPlayer(GetTriggerUnit()))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnumUnit()),Y[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0)endifendfunctionfunction M3 takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),sv))endfunctionfunction p3 takes nothing returns nothingcall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),8.,"|cffffcc00You will be revived in 60 seconds.|r")if(D3())thenif(d3())thenif(C3())thenset Yi=(25*GetUnitLevel(GetTriggerUnit()))call AdjustPlayerStateBJ((-1*Yi),GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),8.,("|cffff0000Death has taken its toll of "+(I2S(Yi)+" gold!|r")))elseset Yi=(50*GetUnitLevel(GetTriggerUnit()))call AdjustPlayerStateBJ((-1*Yi),GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),8.,("|cffff0000Death has taken its toll of "+(I2S(Yi)+" gold!|r")))endifendifendifif(f3())thencall StartTimerBJ(do,false,60.)endifif(F3())thencall StartTimerBJ(Ro,false,60.)endifif(g3())thencall StartTimerBJ(Fo,false,60.)endifif(G3())thencall StartTimerBJ(fo,false,60.)endifif(h3())thencall StartTimerBJ(Go,false,60.)endifif(H3())thencall StartTimerBJ(ho,false,60.)endifif(j3())thencall StartTimerBJ(Do,false,60.)endifif(J3())thencall StartTimerBJ(go,false,60.)endifif(k3())thencall StartTimerBJ(jo,false,60.)endifif(K3())thencall StartTimerBJ(Ho,false,60.)endifcall ForceRemovePlayer(Ko,GetOwningPlayer(GetTriggerUnit()))call CreateTimerDialogBJ(bj_lastStartedTimer,GetPlayerName(GetTriggerPlayer()))set Oo[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedTimerDialogcall TimerDialogDisplay(Oo[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call GF(60.)set gr=WF(GetOwningPlayer(GetTriggerUnit()),Condition(function l3))call ForGroupBJ(gr,function m3)call DestroyGroup(gr)call DestroyTimerDialog(Oo[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])if(M3())thencall ForceRemovePlayer(sv,GetOwningPlayer(GetTriggerUnit()))endifendfunctionfunction q3 takes nothing returns booleanreturn(GetSpellAbilityId()=='A05I')endfunctionfunction Q3 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction S3 takes nothing returns booleanreturn(IsUnitDeadBJ(GetFilterUnit()))endfunctionfunction t3 takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_USER)endfunctionfunction T3 takes nothing returns booleanreturn GetBooleanAnd(S3(),t3())endfunctionfunction u3 takes nothing returns booleanreturn GetBooleanAnd(Q3(),T3())endfunctionfunction U3 takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),Sv))endfunctionfunction w3 takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mi[bj_forLoopAIndex]))endfunctionfunction W3 takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),mi[bj_forLoopBIndex]))endfunctionfunction y3 takes nothing returns nothingif(U3())thencall ForceRemovePlayer(Sv,GetOwningPlayer(GetEnumUnit()))call SetPlayerAbilityAvailableBJ(true,'A01T',GetOwningPlayer(GetEnumUnit()))call SetPlayerAbilityAvailableBJ(true,'A02T',GetOwningPlayer(GetEnumUnit()))call SetPlayerAbilityAvailableBJ(true,'A07W',GetOwningPlayer(GetEnumUnit()))call SetPlayerAbilityAvailableBJ(true,'A01U',GetOwningPlayer(GetEnumUnit()))call SetPlayerAbilityAvailableBJ(true,'A02U',GetOwningPlayer(GetEnumUnit()))call SetPlayerAbilityAvailableBJ(true,'A07X',GetOwningPlayer(GetEnumUnit()))endifset cn=GetUnitLoc(GetEnumUnit())call ReviveHeroLoc(GetEnumUnit(),cn,true)call SetUnitManaPercentBJ(GetEnumUnit(),30.)call DestroyTimerDialog(Oo[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])call ForceRemovePlayer(sv,GetOwningPlayer(GetEnumUnit()))call ForceAddPlayer(Ze,GetOwningPlayer(GetEnumUnit()))set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=Inloopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(w3())thencall ForceAddPlayer(Mi[bj_forLoopAIndex],GetOwningPlayer(GetEnumUnit()))endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopBIndex=1set bj_forLoopBIndexEnd=Inloopexitwhen bj_forLoopBIndex>bj_forLoopBIndexEndif(W3())thencall GroupAddUnit(mi[bj_forLoopBIndex],GetEnumUnit())endifset bj_forLoopBIndex=bj_forLoopBIndex+1endloopendfunctionfunction Y3 takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),qe)==false)endfunctionfunction z3 takes nothing returns nothingif(Y3())thenset gr=tF(300.,GetUnitLoc(GetTriggerUnit()),Condition(function u3))call ForGroupBJ(gr,function y3)call DestroyGroup(gr)call RemoveLocation(cn)elsecall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),10.,"|cffff0000Resurrection has no effect when used in the Rite of Passage|r.")endifendfunctionfunction v4 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction e4 takes nothing returns booleanreturn(IsUnitDeadBJ(GetFilterUnit()))endfunctionfunction x4 takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_USER)endfunctionfunction o4 takes nothing returns booleanreturn GetBooleanAnd(e4(),x4())endfunctionfunction r4 takes nothing returns booleanreturn GetBooleanAnd(v4(),o4())endfunctionfunction i4 takes nothing returns booleanreturn(GetSpellAbilityId()=='A05I')and(CountUnitsInGroup(tF(300.,GetUnitLoc(GetTriggerUnit()),Condition(function r4)))==0)endfunctionfunction a4 takes nothing returns nothingcall IssueImmediateOrderById(GetTriggerUnit(),$D0004)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff0000There are no friendly dead Heroes nearby|r.")endfunctionfunction V4 takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),kx)==false)and(IsPlayerInForce(GetTriggerPlayer(),wn)==false)endfunctionfunction E4 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction X4 takes nothing returns nothingcall KillUnit(GetEnumUnit())endfunctionfunction O4 takes nothing returns nothingset gr=WF(GetTriggerPlayer(),Condition(function E4))call ForGroupBJ(gr,function X4)call DestroyGroup(gr)endfunctionfunction I4 takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),Ze))and(CountUnitsInGroup(sF(bj_mapInitialPlayableArea,GetTriggerPlayer()))>=1)and(IsPlayerInForce(GetTriggerPlayer(),kx)==false)endfunctionfunction A4 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction N4 takes nothing returns booleanreturn(CountUnitsInGroup(mi[bj_forLoopAIndex])==0)endfunctionfunction b4 takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),Mi[bj_forLoopAIndex]))endfunctionfunction B4 takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),Y[(1+GetPlayerId(GetTriggerPlayer()))])call PauseUnit(GetEnumUnit(),true)call GroupAddUnit(Bn,GetEnumUnit())set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=Inloopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(b4())thencall GroupRemoveUnit(mi[bj_forLoopAIndex],GetEnumUnit())call ForceRemovePlayer(Mi[bj_forLoopAIndex],GetOwningPlayer(GetEnumUnit()))if(N4())thenset w=bj_forLoopAIndexcall TriggerExecute(Rd)endifendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction c4 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction C4 takes nothing returns nothingcall GroupRemoveUnit(Bn,GetEnumUnit())call PauseUnit(GetEnumUnit(),false)endfunctionfunction d4 takes nothing returns nothingset gr=WF(GetTriggerPlayer(),Condition(function A4))call ForGroupBJ(gr,function B4)call DestroyGroup(gr)call ForceRemovePlayer(Ze,GetTriggerPlayer())call ForceRemovePlayer(sv,GetTriggerPlayer())call ForceRemovePlayer(Ko,GetTriggerPlayer())call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),Y[(1+GetPlayerId(GetTriggerPlayer()))],0)call DisplayTimedTextToForce(YF(GetTriggerPlayer()),10.,"|cffffcc00Exiting the Dungeon will pause you for 50 seconds.|r")call ForceAddPlayer(mx,GetTriggerPlayer())call GF(50.)set gr=WF(GetTriggerPlayer(),Condition(function c4))call ForGroupBJ(gr,function C4)call DestroyGroup(gr)call ForceRemovePlayer(mx,GetTriggerPlayer())endfunctionfunction f4 takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),sv))and(IsPlayerInForce(GetTriggerPlayer(),kx)==false)endfunctionfunction F4 takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),Sv))endfunctionfunction g4 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction G4 takes nothing returns nothingcall ReviveHeroLoc(GetEnumUnit(),Y[(1+GetPlayerId(GetTriggerPlayer()))],true)call SetUnitManaPercentBJ(GetEnumUnit(),80.)call PauseUnit(GetEnumUnit(),true)endfunctionfunction h4 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction H4 takes nothing returns nothingcall PauseUnit(GetEnumUnit(),false)call SetUnitInvulnerable(GetEnumUnit(),false)endfunctionfunction j4 takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),sv))endfunctionfunction J4 takes nothing returns nothingif(F4())thencall ForceRemovePlayer(Sv,GetTriggerPlayer())call SetPlayerAbilityAvailableBJ(true,'A01U',GetTriggerPlayer())call SetPlayerAbilityAvailableBJ(true,'A02U',GetTriggerPlayer())call SetPlayerAbilityAvailableBJ(true,'A07X',GetTriggerPlayer())call SetPlayerAbilityAvailableBJ(true,'A01T',GetTriggerPlayer())call SetPlayerAbilityAvailableBJ(true,'A02T',GetTriggerPlayer())call SetPlayerAbilityAvailableBJ(true,'A07W',GetTriggerPlayer())endifcall DestroyTimerDialog(Oo[(1+GetPlayerId(GetTriggerPlayer()))])set gr=WF(GetTriggerPlayer(),Condition(function g4))call ForGroupBJ(gr,function G4)call DestroyGroup(gr)call DisplayTimedTextToForce(YF(GetTriggerPlayer()),10.,"|cffffcc00Your Hero will be paused for 80 seconds. Use this command only if your Hero does not revive after 60 seconds.|r")call ForceAddPlayer(mx,GetTriggerPlayer())call TriggerSleepAction(80.)call ForceRemovePlayer(mx,GetTriggerPlayer())set gr=WF(GetTriggerPlayer(),Condition(function h4))call ForGroupBJ(gr,function H4)call DestroyGroup(gr)if(j4())thencall ForceRemovePlayer(sv,GetTriggerPlayer())endifendfunctionfunction K4 takes nothing returns nothingcall SetPlayerName(GetTriggerPlayer(),Sx[(1+GetPlayerId(GetTriggerPlayer()))])endfunctionfunction L4 takes nothing returns booleanreturn(GetSpellAbilityId()=='A01U')or(GetSpellAbilityId()=='A02U')or(GetSpellAbilityId()=='A07X')or(GetSpellAbilityId()=='A01T')or(GetSpellAbilityId()=='A02T')or(GetSpellAbilityId()=='A07W')endfunctionfunction m4 takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Sv)==false)and(L4())endfunctionfunction M4 takes nothing returns booleanreturn(Nr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==2)and(Dr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)endfunctionfunction p4 takes nothing returns booleanreturn(GetSpellAbilityId()=='A01U')or(GetSpellAbilityId()=='A02U')or(GetSpellAbilityId()=='A07X')endfunctionfunction P4 takes nothing returns booleanreturn(p4())endfunctionfunction q4 takes nothing returns booleanreturn(Nr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==2)and(Dr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)endfunctionfunction Q4 takes nothing returns booleanreturn(GetSpellAbilityId()=='A01T')or(GetSpellAbilityId()=='A02T')or(GetSpellAbilityId()=='A07W')endfunctionfunction s4 takes nothing returns booleanreturn(Q4())endfunctionfunction S4 takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Bn)==false)endfunctionfunction t4 takes nothing returns nothingcall PauseUnit(GetTriggerUnit(),true)call GF(.2)if(P4())thencall ForceAddPlayer(Sv,GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(false,'A01T',GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(false,'A02T',GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(false,'A07W',GetOwningPlayer(GetTriggerUnit()))if(M4())thencall UnitAddAbility(GetTriggerUnit(),'A08T')endifendifif(s4())thencall ForceAddPlayer(Sv,GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(false,'A01U',GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(false,'A02U',GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(false,'A07X',GetOwningPlayer(GetTriggerUnit()))if(q4())thencall UnitAddAbility(GetTriggerUnit(),'A08T')endifendifif(S4())thencall PauseUnit(GetTriggerUnit(),false)endifendfunctionfunction u4 takes nothing returns booleanreturn(GetSpellAbilityId()=='A01U')or(GetSpellAbilityId()=='A02U')or(GetSpellAbilityId()=='A07X')or(GetSpellAbilityId()=='A01T')or(GetSpellAbilityId()=='A02T')or(GetSpellAbilityId()=='A07W')endfunctionfunction U4 takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Sv))and(u4())endfunctionfunction w4 takes nothing returns booleanreturn(Nr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==2)and(Dr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)endfunctionfunction W4 takes nothing returns booleanreturn(GetSpellAbilityId()=='A01U')or(GetSpellAbilityId()=='A02U')or(GetSpellAbilityId()=='A07X')endfunctionfunction y4 takes nothing returns booleanreturn(W4())endfunctionfunction Y4 takes nothing returns booleanreturn(Nr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==2)and(Dr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)endfunctionfunction z4 takes nothing returns booleanreturn(GetSpellAbilityId()=='A01T')or(GetSpellAbilityId()=='A02T')or(GetSpellAbilityId()=='A07W')endfunctionfunction Z4 takes nothing returns booleanreturn(z4())endfunctionfunction v5 takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Bn)==false)endfunctionfunction e5 takes nothing returns nothingcall PauseUnit(GetTriggerUnit(),true)call GF(.2)if(y4())thencall ForceRemovePlayer(Sv,GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(true,'A01T',GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(true,'A02T',GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(true,'A07W',GetOwningPlayer(GetTriggerUnit()))if(w4())thencall UnitAddAbility(GetTriggerUnit(),'A08T')endifendifif(Z4())thencall ForceRemovePlayer(Sv,GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(true,'A01U',GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(true,'A02U',GetOwningPlayer(GetTriggerUnit()))call SetPlayerAbilityAvailableBJ(true,'A07X',GetOwningPlayer(GetTriggerUnit()))if(Y4())thencall UnitAddAbility(GetTriggerUnit(),'A08T')endifendifif(v5())thencall PauseUnit(GetTriggerUnit(),false)endifendfunctionfunction o5 takes nothing returns booleanreturn(GetSpellAbilityId()=='A086')endfunctionfunction r5 takes nothing returns booleanreturn(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction i5 takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))endfunctionfunction a5 takes nothing returns booleanreturn GetBooleanAnd(r5(),i5())endfunctionfunction n5 takes nothing returns nothingcall UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(3000.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)endfunctionfunction V5 takes nothing returns nothingcall GroupAddUnit(LV,GetTriggerUnit())set Ra[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetSpellTargetLoc()call GF(.5)set Ia[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=tF(600.,Ra[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Condition(function a5))call ForGroupBJ(Ia[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function n5)call GroupRemoveUnit(LV,GetTriggerUnit())call DestroyGroup(Ia[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(Ra[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction X5 takes nothing returns booleanreturn(GetSpellAbilityId()=='A084')endfunctionfunction O5 takes nothing returns nothingset Ra[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetTriggerUnit())call CreateNUnitsAtLoc(1,'h03H',GetOwningPlayer(GetTriggerUnit()),Ra[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],bj_UNIT_FACING)call RemoveLocation(Ra[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction I5 takes nothing returns booleanreturn(GetSpellAbilityId()=='A07D')or(GetSpellAbilityId()=='A07M')or(GetSpellAbilityId()=='A04W')endfunctionfunction A5 takes nothing returns booleanreturn(I5())endfunctionfunction N5 takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))endfunctionfunction b5 takes nothing returns booleanreturn(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction B5 takes nothing returns booleanreturn GetBooleanAnd(N5(),b5())endfunctionfunction c5 takes nothing returns nothingset va=GetUnitLoc(GetEnumUnit())call CreateNUnitsAtLoc(1,'h03F',GetOwningPlayer(GetTriggerUnit()),va,270.)call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(800.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)call RemoveLocation(va)endfunctionfunction C5 takes nothing returns booleanreturn(GetSpellAbilityId()=='A07D')endfunctionfunction d5 takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))endfunctionfunction D5 takes nothing returns booleanreturn(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction f5 takes nothing returns booleanreturn GetBooleanAnd(d5(),D5())endfunctionfunction F5 takes nothing returns nothingcall AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")call DestroyEffect(bj_lastCreatedEffect)call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(900.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)endfunctionfunction g5 takes nothing returns booleanreturn(GetSpellAbilityId()=='A07M')endfunctionfunction G5 takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))endfunctionfunction h5 takes nothing returns booleanreturn(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction H5 takes nothing returns booleanreturn GetBooleanAnd(G5(),h5())endfunctionfunction j5 takes nothing returns nothingset va=GetUnitLoc(GetEnumUnit())call CreateNUnitsAtLoc(1,'h02A',GetOwningPlayer(GetTriggerUnit()),va,270.)call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(900.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)call RemoveLocation(va)endfunctionfunction J5 takes nothing returns booleanreturn(GetSpellAbilityId()=='A04W')endfunctionfunction k5 takes nothing returns nothingcall GroupAddUnit(LV,GetTriggerUnit())if(C5())thenset Zi=GetUnitLoc(GetTriggerUnit())set zi=tF(600.,Zi,Condition(function B5))call ForGroupBJ(zi,function c5)call RemoveLocation(Zi)call DestroyGroup(zi)endifif(g5())thenset Zi=GetUnitLoc(GetTriggerUnit())set zi=tF(600.,Zi,Condition(function f5))call ForGroupBJ(zi,function F5)call RemoveLocation(Zi)call DestroyGroup(zi)endifif(J5())thenset Zi=GetUnitLoc(GetTriggerUnit())set zi=tF(550.,Zi,Condition(function H5))call ForGroupBJ(zi,function j5)call RemoveLocation(Zi)call DestroyGroup(zi)endifcall GroupRemoveUnit(LV,GetTriggerUnit())endfunctionfunction l5 takes nothing returns booleanreturn(GetSpellAbilityId()=='A09L')endfunctionfunction L5 takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),xa)==false)endfunctionfunction m5 takes nothing returns nothingif(L5())thencall GroupAddUnit(LV,GetTriggerUnit())set ra[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=('d'*GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))call ForceAddPlayer(xa,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl")set Ea[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall GF(10.)call DestroyEffect(Ea[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call ForceRemovePlayer(xa,GetOwningPlayer(GetTriggerUnit()))call GroupRemoveUnit(LV,GetTriggerUnit())elseset ra[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=($C8*GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))endifendfunctionfunction p5 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction P5 takes nothing returns nothingset aa=GetEnumUnit()set oa=GetUnitLoc(GetEnumUnit())call GroupAddUnit(Va,aa)endfunctionfunction q5 takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),Player(-1+(bj_forLoopAIndex))))endfunctionfunction Q5 takes nothing returns booleanreturn(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction s5 takes nothing returns booleanreturn GetBooleanAnd(q5(),Q5())endfunctionfunction S5 takes nothing returns nothingset na=GetUnitLoc(GetEnumUnit())call CreateNUnitsAtLoc(1,'h03G',Player(-1+(bj_forLoopAIndex)),na,270.)call UnitDamageTargetBJ(aa,GetEnumUnit(),I2R(ra[bj_forLoopAIndex]),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)endfunctionfunction t5 takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),Player(-1+(bj_forLoopAIndex))))endfunctionfunction T5 takes nothing returns booleanreturn(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction u5 takes nothing returns booleanreturn GetBooleanAnd(t5(),T5())endfunctionfunction U5 takes nothing returns booleanreturn(GetItemTypeId(UnitItemInSlotBJ(aa,bj_forLoopBIndex))=='I046')endfunctionfunction w5 takes nothing returns nothingcall UnitDamageTargetBJ(aa,GetEnumUnit(),20000.,ATTACK_TYPE_HERO,DAMAGE_TYPE_ENHANCED)endfunctionfunction W5 takes nothing returns booleanreturn(IsPlayerInForce(Player(-1+(bj_forLoopAIndex)),bi))endfunctionfunction y5 takes nothing returns booleanreturn(yn<=(8+(2*XV[(1+GetPlayerId(GetOwningPlayer(aa)))])))endfunctionfunction Y5 takes nothing returns booleanreturn(IsPlayerInForce(Player(-1+(bj_forLoopAIndex)),rn)==false)and(UnitHasItemOfTypeBJ(aa,'I046'))and(CountUnitsInGroup(tF(500.,oa,Condition(function u5)))>=1)endfunctionfunction z5 takes nothing returns booleanreturn(IsPlayerInForce(Player(-1+(bj_forLoopAIndex)),xa))endfunctionfunction Z5 takes nothing returns nothingset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=$Aloopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(z5())thenset ea=WF(Player(-1+(bj_forLoopAIndex)),Condition(function p5))call ForGroupBJ(ea,function P5)set ia=zF(1,tF(500.,oa,Condition(function s5)))call ForGroupBJ(ia,function S5)if(Y5())thenset yn=GetRandomInt(1,'d')set XV[(1+GetPlayerId(GetOwningPlayer(aa)))]=0set bj_forLoopBIndex=1set bj_forLoopBIndexEnd=6loopexitwhen bj_forLoopBIndex>bj_forLoopBIndexEndif(U5())thenset XV[(1+GetPlayerId(GetOwningPlayer(aa)))]=(XV[(1+GetPlayerId(GetOwningPlayer(aa)))]+1)endifset bj_forLoopBIndex=bj_forLoopBIndex+1endloopif(y5())thencall CreateNUnitsAtLoc(1,'h033',Player(-1+(bj_forLoopAIndex)),na,270.)call ForGroupBJ(ia,function w5)if(W5())thenset Di[bj_forLoopAIndex]=(Di[bj_forLoopAIndex]+20000.)endifcall CreateTextTagUnitBJ("|cffffcc00Jet Zanber!|r",aa,0,12.,'d',100.,100.,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,30.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.)endifendifcall GroupRemoveUnit(Va,aa)call RemoveLocation(oa)call RemoveLocation(na)call DestroyGroup(ea)call DestroyGroup(ia)endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction e6 takes nothing returns booleanreturn(GetSpellAbilityId()=='A01Y')endfunctionfunction x6 takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Bn)==false)endfunctionfunction o6 takes nothing returns booleanreturn(IsUnitDeadBJ(cv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))endfunctionfunction r6 takes nothing returns nothingcall GroupAddUnit(KV,GetTriggerUnit())set Bv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()set cv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetSpellTargetUnit()call PauseUnit(cv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(cv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call PauseUnit(Bv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=3loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetUnitAnimation(Bv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"attack")call AddSpecialEffectTargetUnitBJ("origin",cv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")call DestroyEffect(bj_lastCreatedEffect)call TriggerSleepAction(.1)set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall SetUnitAnimation(Bv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"attack")call AddSpecialEffectTargetUnitBJ("origin",cv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl")call DestroyEffect(bj_lastCreatedEffect)if(x6())thencall PauseUnit(Bv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)endifcall PauseUnit(cv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitInvulnerable(cv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call UnitDamageTargetBJ(Bv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],cv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],(100.*I2R(GetUnitAbilityLevelSwapped('A01Y',Bv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)if(o6())thencall KillUnit(cv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endifcall GroupRemoveUnit(KV,GetTriggerUnit())call ResetUnitAnimation(Bv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call ResetUnitAnimation(cv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction a6 takes nothing returns booleanreturn(GetSpellAbilityId()=='A03U')endfunctionfunction n6 takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Bn)==false)endfunctionfunction V6 takes nothing returns nothingset he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()set Ge[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetSpellTargetUnit()set me[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetTriggerUnit())call GroupAddUnit(KV,GetTriggerUnit())call PauseUnit(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call PauseUnit(Ge[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(Ge[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitVertexColorBJ(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],'d','d','d',60.)call AddSpecialEffectTargetUnitBJ("left hand",he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl")set He[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall AddSpecialEffectTargetUnitBJ("right hand",he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl")set je[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectset On=1loopexitwhen On>8call TriggerSleepAction(.1)call SetUnitAnimation(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"attack")call SetUnitPositionLoc(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(Ge[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),120.,120.)))call AddSpecialEffectLocBJ(GetUnitLoc(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call AddSpecialEffectLocBJ(GetUnitLoc(Ge[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")call DestroyEffect(bj_lastCreatedEffect)set On=On+1endloopcall SetUnitVertexColorBJ(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],'d','d','d',.0)if(n6())thencall PauseUnit(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitPositionLoc(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],me[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endifcall SetUnitInvulnerable(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call PauseUnit(Ge[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitInvulnerable(Ge[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call ResetUnitAnimation(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call UnitDamageTargetBJ(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Ge[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],(160.*I2R(GetUnitAbilityLevelSwapped('A03U',he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))),ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL)call DestroyEffect(He[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call DestroyEffect(je[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call GroupRemoveUnit(KV,GetTriggerUnit())call RemoveLocation(me[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction X6 takes nothing returns booleanreturn(GetSpellAbilityId()=='A067')endfunctionfunction O6 takes nothing returns nothingcall GF(.15)call GroupAddUnit(LV,GetTriggerUnit())call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellTargetUnit()),"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")call DestroyEffect(bj_lastCreatedEffect)call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((100.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))*(100.-GetUnitLifePercent(GetSpellTargetUnit()))),ATTACK_TYPE_HERO,DAMAGE_TYPE_ENHANCED)call GroupRemoveUnit(LV,GetTriggerUnit())endfunctionfunction I6 takes nothing returns booleanreturn(GetSpellAbilityId()=='A07E')endfunctionfunction A6 takes nothing returns nothingcall UnitResetCooldown(GetTriggerUnit())endfunctionfunction b6 takes nothing returns booleanreturn(GetSpellAbilityId()=='A048')endfunctionfunction B6 takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Bn)==false)endfunctionfunction c6 takes nothing returns nothingcall GroupAddUnit(KV,GetTriggerUnit())set Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()set ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetTriggerUnit())set le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetSpellTargetUnit()call PauseUnit(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call PauseUnit(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call AddSpecialEffectTargetUnitBJ("right hand",Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl")set Le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall GF(.8)set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=6loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall TriggerSleepAction(.1)call SetUnitAnimation(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"attack")call SetUnitPositionLoc(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),120.,120.)))call AddSpecialEffectLocBJ(GetUnitLoc(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")call DestroyEffect(bj_lastCreatedEffect)set bj_forLoopAIndex=bj_forLoopAIndex+1endloopif(B6())thencall PauseUnit(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitPositionLoc(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endifcall PauseUnit(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call GroupRemoveUnit(KV,GetTriggerUnit())call DestroyEffect(Le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call ResetUnitAnimation(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call GF(.1)call SetUnitInvulnerable(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitInvulnerable(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call UnitDamageTargetBJ(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],(150.*I2R(GetUnitAbilityLevelSwapped('A048',Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))),ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL)call RemoveLocation(ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction d6 takes nothing returns booleanreturn(GetSpellAbilityId()=='A04P')endfunctionfunction D6 takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_USER)endfunctionfunction f6 takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))endfunctionfunction F6 takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(GetSpellTargetUnit()))!=MAP_CONTROL_USER)endfunctionfunction g6 takes nothing returns nothingcall ForceAddPlayer(vx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetOwningPlayer(GetEnumUnit()))call SetUnitInvulnerable(GetEnumUnit(),true)call PauseUnit(GetEnumUnit(),true)endfunctionfunction G6 takes nothing returns nothingcall PauseUnit(GetEnumUnit(),true)call SetUnitInvulnerable(GetEnumUnit(),true)endfunctionfunction h6 takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),Pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],.0)endfunctionfunction H6 takes nothing returns nothingcall CameraSetEQNoiseForPlayer(GetEnumPlayer(),13.)endfunctionfunction j6 takes nothing returns booleanreturn(bj_forLoopBIndex==4)or(bj_forLoopBIndex==8)or(bj_forLoopBIndex==$C)endfunctionfunction J6 takes nothing returns booleanreturn(j6())endfunctionfunction k6 takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),Qa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0)endfunctionfunction K6 takes nothing returns nothingset qa=GetUnitLoc(GetEnumUnit())call CreateNUnitsAtLoc(1,'h00T',GetOwningPlayer(GetTriggerUnit()),qa,270.)call RemoveLocation(qa)endfunctionfunction l6 takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),Dv,0)endfunctionfunction L6 takes nothing returns nothingcall CameraClearNoiseForPlayer(GetEnumPlayer())endfunctionfunction m6 takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),Pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0)endfunctionfunction M6 takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='U00N')and(CV[1]==2)endfunctionfunction p6 takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='U00O')and(CV[2]==2)endfunctionfunction P6 takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())!='U00N')and(GetUnitTypeId(GetEnumUnit())!='U00O')endfunctionfunction q6 takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(hv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))==MAP_CONTROL_USER)endfunctionfunction Q6 takes nothing returns nothingif(P6())thencall SetUnitInvulnerable(GetEnumUnit(),false)call PauseUnit(GetEnumUnit(),false)elseif(M6())thencall SetUnitInvulnerable(GetEnumUnit(),false)call PauseUnit(GetEnumUnit(),false)elsecall PauseUnit(GetEnumUnit(),false)endifif(p6())thencall SetUnitInvulnerable(GetEnumUnit(),false)call PauseUnit(GetEnumUnit(),false)elsecall PauseUnit(GetEnumUnit(),false)endifendifif(q6())thencall UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(25000.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)elsecall UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(100000.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)endifendfunctionfunction s6 takes nothing returns nothingcall SetUnitInvulnerable(GetEnumUnit(),false)call PauseUnit(GetEnumUnit(),false)endfunctionfunction S6 takes nothing returns nothingset hv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetSpellTargetUnit()set Pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetTriggerUnit())set Qa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetSpellTargetUnit())set Dv=GetRectCenter(PX)set Fv=GetRectCenter(XE)set jv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=tF(1200.,GetUnitLoc(GetTriggerUnit()),Condition(function D6))set dv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=tF(700.,Qa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Condition(function f6))if(F6())thencall AdjustPlayerStateBJ((-1*GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())),GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)endifcall ForGroupBJ(jv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function g6)call ForGroupBJ(dv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function G6)call ForForce(vx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function h6)call AddSpecialEffectTargetUnitBJ("left hand",GetTriggerUnit(),"Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl")set gv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall AddSpecialEffectTargetUnitBJ("right hand",GetTriggerUnit(),"Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl")set Gv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall SetUnitAnimation(GetTriggerUnit(),"channel")call GF(1.)call AddSpecialEffectLocBJ(Pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)call GF(1.2)call AddSpecialEffectLocBJ(Pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call GF(1.2)call AddSpecialEffectLocBJ(Pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)call GF(1.1)call AddSpecialEffectLocBJ(Pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"war3mapImported\\Great Lightning.mdx")call DestroyEffect(bj_lastCreatedEffect)call GF(1.4)call SetUnitTimeScalePercent(GetTriggerUnit(),40.)call SetUnitAnimation(GetTriggerUnit(),"spell")call CreateTextTagUnitBJ("|cff009ACDI call upon the highest of all Arcane magics, the embodiment of destruction, power enough to smash even those of gods! Twilight's Eve!!|r",GetTriggerUnit(),0,12.,100.,100.,100.,0)set Hv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedTextTagcall GF(2.)call CreateNUnitsAtLoc(1,'h048',GetOwningPlayer(GetTriggerUnit()),Pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],270.)set pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedUnitcall SetUnitTimeScalePercent(pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],40.)call SetTimeOfDay(24.)call AddWeatherEffectSaveLast(RectFromCenterSizeBJ(Pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],3000.,3000.),'LRma')set Dn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedWeatherEffectcall EnableWeatherEffect(Dn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitAnimation(GetTriggerUnit(),"channel")call ForForce(vx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function H6)set bj_forLoopBIndex=1set bj_forLoopBIndexEnd=$Cloopexitwhen bj_forLoopBIndex>bj_forLoopBIndexEndset qa=GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(GetTriggerUnit()),800.,800.))call AddSpecialEffectLocBJ(qa,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")call DestroyEffect(bj_lastCreatedEffect)call RemoveLocation(qa)set qa=GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(GetTriggerUnit()),800.,800.))call AddSpecialEffectLocBJ(qa,"Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)call RemoveLocation(qa)set qa=GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(GetTriggerUnit()),800.,800.))call AddSpecialEffectLocBJ(qa,"Objects\\Spawnmodels\\Undead\\UCancelDeath\\UCancelDeath.mdl")call DestroyEffect(bj_lastCreatedEffect)call RemoveLocation(qa)set qa=GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(GetTriggerUnit()),800.,800.))call CreateNUnitsAtLoc(1,'h00V',GetOwningPlayer(GetTriggerUnit()),qa,270.)call RemoveLocation(qa)call GF(.1)set qa=GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(GetTriggerUnit()),800.,800.))call AddSpecialEffectLocBJ(qa,"Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl")set fv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall RemoveLocation(qa)call GF(.4)if(J6())thencall AddSpecialEffectLocBJ(Pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"war3mapImported\\Great Lightning.mdx")call DestroyEffect(bj_lastCreatedEffect)call AddSpecialEffectLocBJ(Pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call AddSpecialEffectLocBJ(Pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)endifcall DestroyEffect(fv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set bj_forLoopBIndex=bj_forLoopBIndex+1endloopcall SetUnitTimeScalePercent(pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],5.)call ForForce(vx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function k6)call CreateNUnitsAtLoc(1,'h00T',GetOwningPlayer(GetTriggerUnit()),Qa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],270.)call SetUnitTimeScalePercent(bj_lastCreatedUnit,70.)call DestroyTextTag(Hv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call GF(1.8)call ForGroupBJ(dv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function K6)call GF(4.)set Ma=1loopexitwhen Ma>$Acall GF(1.)set ko=GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(hv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),800.,800.))call CreateNUnitsAtLoc(1,'h00S',GetOwningPlayer(GetTriggerUnit()),ko,270.)call RemoveLocation(ko)set Ma=Ma+1endloopcall CinematicFadeBJ(1,.4,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)call GF(.5)call ForForce(vx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function l6)call RemoveWeatherEffect(Dn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call GF(.4)call CinematicFadeBJ(0,.4,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)call CreateNUnitsAtLoc(1,'h00R',GetOwningPlayer(GetTriggerUnit()),Dv,270.)set Cv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedUnitcall GF(.05)call CreateNUnitsAtLoc(1,'h00W',GetOwningPlayer(GetTriggerUnit()),Fv,230.)call SetUnitTimeScalePercent(bj_lastCreatedUnit,40.)call DestroyEffect(gv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call DestroyEffect(Gv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call GF(3.2)call CreateNUnitsAtLoc(1,'h00U',GetOwningPlayer(GetTriggerUnit()),Fv,230.)call SetUnitTimeScalePercent(bj_lastCreatedUnit,60.)call GF(1.2)call CreateNUnitsAtLoc(1,'h00Q',GetOwningPlayer(GetTriggerUnit()),Fv,230.)call SetUnitTimeScalePercent(bj_lastCreatedUnit,40.)call GF(1.1)call CreateNUnitsAtLoc(1,'h00W',GetOwningPlayer(GetTriggerUnit()),Fv,230.)call GF(3.)call ForForce(vx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function L6)call CinematicFadeBJ(1,.4,"ReplaceableTextures\\CameraMasks\\White_mask.blp",100.,100.,100.,0)call GF(.1)call RemoveUnit(pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call ForForce(vx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function m6)call GF(.1)call CinematicFadeBJ(0,.3,"ReplaceableTextures\\CameraMasks\\White_mask.blp",100.,100.,100.,0)call ResetUnitAnimation(GetTriggerUnit())call GF(.03)call ForGroupBJ(dv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function Q6)call ForGroupBJ(jv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function s6)call SetUnitTimeScalePercent(GetTriggerUnit(),100.)call ForceClear(vx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveUnit(Cv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set hv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=nullset Cv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=nullset pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=nullcall RemoveLocation(Dv)call RemoveLocation(Fv)call RemoveLocation(Pa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(Qa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call DestroyGroup(jv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call DestroyGroup(dv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction T6 takes nothing returns booleanreturn(GetSpellAbilityId()=='A04P')and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)<(1*GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetSpellTargetUnit()))!=MAP_CONTROL_USER)endfunctionfunction u6 takes nothing returns nothingcall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),4.,"|cffff0000Not enough power shards|r.")call IssueImmediateOrderById(GetTriggerUnit(),$D0004)endfunctionfunction w6 takes nothing returns booleanreturn(GetSpellAbilityId()=='A06Y')endfunctionfunction W6 takes nothing returns booleanreturn(GetUnitManaPercent(GetTriggerUnit())>=50.)endfunctionfunction y6 takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))==MAP_CONTROL_USER)endfunctionfunction Y6 takes nothing returns nothingcall GroupAddUnit(KV,GetTriggerUnit())set Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()set le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetSpellTargetUnit()call PauseUnit(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call PauseUnit(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitAnimation(GetTriggerUnit(),"attack")call GF(.02)call SetUnitTimeScalePercent(GetTriggerUnit(),.0)call AddSpecialEffectTargetUnitBJ("weapon,right",GetTriggerUnit(),"Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl")set Tx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall GF(.8)call AddSpecialEffectTargetUnitBJ("weapon,right",GetTriggerUnit(),"Abilities\\Weapons\\VengeanceMissile\\VengeanceMissile.mdl")set ux[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall GF(.8)call SetUnitTimeScalePercent(GetTriggerUnit(),100.)call SetUnitInvulnerable(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)if(y6())thencall UnitDamageTargetBJ(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+I2R(GetHeroStatBJ(0,GetTriggerUnit(),true))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)elseif(W6())thencall UnitDamageTargetBJ(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],((GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+I2R(GetHeroStatBJ(0,GetTriggerUnit(),true)))+(1000.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)elsecall UnitDamageTargetBJ(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+I2R(GetHeroStatBJ(0,GetTriggerUnit(),true))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)endifendifcall SetUnitManaBJ(GetTriggerUnit(),0)call ResetUnitAnimation(GetTriggerUnit())call PauseUnit(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call PauseUnit(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call GroupRemoveUnit(KV,GetTriggerUnit())call DestroyEffect(Tx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call DestroyEffect(ux[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call CinematicFadeBJ(1,.6,"war3mapImported\\Asura Strike.blp",100.,100.,100.,40.)call GF(2.8)call CinematicFadeBJ(0,.6,"war3mapImported\\Asura Strike.blp",100.,100.,100.,40.)endfunctionfunction Z6 takes nothing returns booleanreturn(GetSpellAbilityId()=='A06U')endfunctionfunction v7 takes nothing returns booleanreturn(GetUnitLifePercent(GetSpellTargetUnit())>=30.)endfunctionfunction e7 takes nothing returns nothingif(v7())thencall SetWidgetLife(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())-((20./ 100.)*GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit()))))call SetWidgetLife(GetTriggerUnit(),50.)endifendfunctionfunction o7 takes nothing returns booleanreturn(GetSpellAbilityId()=='A06T')endfunctionfunction r7 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=nullendfunctionfunction i7 takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))endfunctionfunction a7 takes nothing returns booleanreturn GetBooleanAnd(r7(),i7())endfunctionfunction n7 takes nothing returns nothingcall SaveIntegerBJ((1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))),0,GetHandleIdBJ(GetEnumUnit()),wi)endfunctionfunction V7 takes nothing returns nothingcall FlushChildHashtableBJ(GetHandleIdBJ(GetEnumUnit()),wi)endfunctionfunction E7 takes nothing returns nothingset ui[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()set Si[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetTriggerUnit())set si[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=tF(((10.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))+210.),GetUnitLoc(GetTriggerUnit()),Condition(function a7))call InitHashtableBJ()set wi=GetLastCreatedHashtableBJ()call ForGroupBJ(si[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function n7)call GF(6.)call ForGroupBJ(si[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function V7)set ui[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=nullcall RemoveLocation(Si[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call DestroyGroup(si[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction O7 takes nothing returns booleanreturn(UnitHasBuffBJ(GetAttacker(),'B018'))endfunctionfunction R7 takes nothing returns booleanreturn(GetTriggerUnit()!=ui[Wi])endfunctionfunction I7 takes nothing returns booleanreturn(IsUnitInGroup(GetAttacker(),si[Wi]))endfunctionfunction A7 takes nothing returns nothingset Wi=LoadIntegerBJ(0,GetHandleIdBJ(GetAttacker()),wi)if(I7())thenif(R7())thencall IssueTargetOrderById(GetAttacker(),$D000F,ui[Wi])endifendifendfunctionfunction b7 takes nothing returns booleanreturn(GetSpellAbilityId()=='A075')endfunctionfunction B7 takes nothing returns booleanreturn(RAbsBJ((ModuloReal(AngleBetweenPoints(Ux,wx),360.)-ModuloReal(GetUnitFacing(GetSpellTargetUnit()),360.)))>100.)and(RAbsBJ((ModuloReal(AngleBetweenPoints(Ux,wx),360.)-ModuloReal(GetUnitFacing(GetSpellTargetUnit()),360.)))<260.)endfunctionfunction c7 takes nothing returns nothingset Ux=GetUnitLoc(GetTriggerUnit())set wx=GetUnitLoc(GetSpellTargetUnit())if(B7())thencall DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffff0000You must be behind the target|r.")call IssueImmediateOrderById(GetTriggerUnit(),$D0004)call RemoveLocation(Ux)call RemoveLocation(wx)elsecall RemoveLocation(Ux)call RemoveLocation(wx)endifendfunctionfunction d7 takes nothing returns booleanreturn(GetSpellAbilityId()=='A075')endfunctionfunction D7 takes nothing returns booleanreturn(Yn<=45)endfunctionfunction f7 takes nothing returns nothingset Yn=GetRandomInt(1,'d')if(D7())thencall UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(2000.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)elsecall UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(1000.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)endifendfunctionfunction g7 takes nothing returns booleanreturn(GetSpellAbilityId()=='A076')endfunctionfunction G7 takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Bn)==false)endfunctionfunction h7 takes nothing returns booleanreturn(GetHeroStatBJ(1,Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)>GetHeroStatBJ(1,le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true))endfunctionfunction H7 takes nothing returns nothingcall GroupAddUnit(KV,GetTriggerUnit())set Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()set le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetSpellTargetUnit()call PauseUnit(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call PauseUnit(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)set bj_forLoopBIndex=1set bj_forLoopBIndexEnd=3loopexitwhen bj_forLoopBIndex>bj_forLoopBIndexEndcall SetUnitVertexColorBJ(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],'d','d','d',100.)call GF(.2)call SetUnitPositionLocFacingLocBJ(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),60.,60.)),GetUnitLoc(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))call GF(.2)call SetUnitVertexColorBJ(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],'d','d','d',.0)call GF(.2)set bj_forLoopBIndex=bj_forLoopBIndex+1endloopcall SetUnitAnimation(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"attack")call GF(.2)if(G7())thencall PauseUnit(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)endifcall PauseUnit(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call GroupRemoveUnit(KV,GetTriggerUnit())call SetUnitInvulnerable(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitInvulnerable(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)if(h7())thenset Wx=((I2R(GetHeroStatBJ(1,Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true))-I2R(GetHeroStatBJ(1,le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)))*(1.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))))call UnitDamageTargetBJ(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Wx,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)endifendfunctionfunction J7 takes nothing returns booleanreturn(GetSpellAbilityId()=='A078')endfunctionfunction k7 takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Bn)==false)endfunctionfunction K7 takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(Ge[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))!=MAP_CONTROL_USER)endfunctionfunction l7 takes nothing returns nothingcall GroupAddUnit(KV,GetTriggerUnit())set he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()set Ge[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetSpellTargetUnit()set me[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetTriggerUnit())call PauseUnit(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call PauseUnit(Ge[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call GF(.2)call SetUnitVertexColorBJ(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],'d','d','d',80.)call SetUnitPositionLoc(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetUnitLoc(Ge[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))call SetUnitAnimation(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"attack")call GF(.3)call AddSpecialEffectLocBJ(GetUnitLoc(Ge[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")call DestroyEffect(bj_lastCreatedEffect)call SetUnitVertexColorBJ(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],'d','d','d',.0)if(k7())thencall PauseUnit(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitPositionLoc(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],me[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endifcall PauseUnit(Ge[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call ResetUnitAnimation(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call GroupRemoveUnit(KV,GetTriggerUnit())if(K7())thencall UnitDamageTargetBJ(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Ge[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],I2R(((GetHeroStatBJ(1,he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)*GetUnitAbilityLevelSwapped(GetSpellAbilityId(),he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))/ 2)),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)endifcall RemoveLocation(me[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction m7 takes nothing returns booleanreturn(GetSpellAbilityId()=='A07U')endfunctionfunction M7 takes nothing returns booleanreturn(Ti>$61A80)endfunctionfunction p7 takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Bn)==false)endfunctionfunction P7 takes nothing returns booleanreturn(IsUnitDeadBJ(cv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))endfunctionfunction q7 takes nothing returns nothingcall GroupAddUnit(KV,GetTriggerUnit())set Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()set le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetSpellTargetUnit()call PauseUnit(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call PauseUnit(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)set On=1loopexitwhen On>35call GF(.07)set ti[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(GetTriggerUnit()),500.,500.))call SetUnitAnimation(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"attack")call PlaySoundOnUnitBJ(MI,'d',Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call AddSpecialEffectLocBJ(GetUnitLoc(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")call DestroyEffect(bj_lastCreatedEffect)call AddSpecialEffectLocBJ(ti[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"war3mapImported\\Great Lightning.mdx")call DestroyEffect(bj_lastCreatedEffect)call SetUnitAnimation(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"death")call CreateTextTagUnitBJ((I2S(On)+" Hit!"),le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,12.,'d',.0,.0,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,1.)call RemoveLocation(ti[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set On=On+1endloopcall GF(.07)call SetUnitAnimation(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"attack")call PlaySoundOnUnitBJ(mI,'d',Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call AddSpecialEffectLocBJ(GetUnitLoc(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")call DestroyEffect(bj_lastCreatedEffect)call CreateTextTagUnitBJ("36 Hits!!",le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.)call SetUnitInvulnerable(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitInvulnerable(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)set Ti=(($BB8*GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))+(R2I(GetUnitStateSwap(UNIT_STATE_MAX_MANA,le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))-R2I(GetUnitStateSwap(UNIT_STATE_MANA,le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))))if(M7())thencall UnitDamageTargetBJ(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],400000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)elsecall UnitDamageTargetBJ(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],I2R(Ti),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)endifif(p7())thencall PauseUnit(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)endifcall PauseUnit(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)if(P7())thencall KillUnit(cv[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endifcall GroupRemoveUnit(KV,GetTriggerUnit())call ResetUnitAnimation(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call ResetUnitAnimation(le[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction s7 takes nothing returns booleanreturn(GetSpellAbilityId()=='A04S')endfunctionfunction S7 takes nothing returns booleanreturn(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction t7 takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))endfunctionfunction T7 takes nothing returns booleanreturn GetBooleanAnd(S7(),t7())endfunctionfunction u7 takes nothing returns nothingset Oa=GetUnitLoc(GetEnumUnit())call CreateNUnitsAtLoc(1,'h028',GetOwningPlayer(GetTriggerUnit()),Oa,270.)call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(1000.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)call RemoveLocation(Oa)endfunctionfunction U7 takes nothing returns nothingcall GroupAddUnit(LV,GetTriggerUnit())set Cx=GetUnitLoc(GetTriggerUnit())set Xa=tF(600.,Cx,Condition(function T7))call ForGroupBJ(Xa,function u7)call GroupRemoveUnit(LV,GetTriggerUnit())call RemoveLocation(Cx)call DestroyGroup(Xa)endfunctionfunction W7 takes nothing returns booleanreturn(GetSpellAbilityId()=='A04Q')or(GetSpellAbilityId()=='A09O')endfunctionfunction y7 takes nothing returns booleanreturn(W7())endfunctionfunction Y7 takes nothing returns booleanreturn(GetSpellAbilityId()=='A04Q')endfunctionfunction z7 takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))endfunctionfunction Z7 takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())!='h02J')endfunctionfunction v8 takes nothing returns booleanreturn GetBooleanAnd(z7(),Z7())endfunctionfunction e8 takes nothing returns nothingcall PauseUnit(GetEnumUnit(),true)call SetUnitInvulnerable(GetEnumUnit(),true)endfunctionfunction x8 takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='U00N')and(CV[1]==2)endfunctionfunction o8 takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='U00O')and(CV[2]==2)endfunctionfunction r8 takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())!='U00N')and(GetUnitTypeId(GetEnumUnit())!='U00O')endfunctionfunction i8 takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(GetEnumUnit()))==MAP_CONTROL_USER)endfunctionfunction a8 takes nothing returns booleanreturn(GetSpellAbilityId()=='A04Q')endfunctionfunction n8 takes nothing returns nothingif(r8())thencall SetUnitInvulnerable(GetEnumUnit(),false)call PauseUnit(GetEnumUnit(),false)elseif(x8())thencall SetUnitInvulnerable(GetEnumUnit(),false)call PauseUnit(GetEnumUnit(),false)elsecall PauseUnit(GetEnumUnit(),false)endifif(o8())thencall SetUnitInvulnerable(GetEnumUnit(),false)call PauseUnit(GetEnumUnit(),false)elsecall PauseUnit(GetEnumUnit(),false)endifendifif(a8())thenif(i8())thencall UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(2500.*I2R(GetUnitAbilityLevelSwapped('A04Q',GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)elsecall UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(5000.*I2R(GetUnitAbilityLevelSwapped('A04Q',GetTriggerUnit()))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)endifelsecall CreateNUnitsAtLoc(1,'h047',GetOwningPlayer(GetTriggerUnit()),pe[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],bj_UNIT_FACING)call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),50000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)endifendfunctionfunction V8 takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),Bn)==false)endfunctionfunction E8 takes nothing returns nothingcall GroupAddUnit(LV,GetTriggerUnit())call GroupAddUnit(KV,GetTriggerUnit())if(Y7())thenset pe[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetSpellTargetLoc()elseset pe[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetSpellTargetUnit())endifset Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()set Jx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=tF(600.,pe[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Condition(function v8))call PauseUnit(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitAnimation(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"channel")call CreateNUnitsAtLoc(1,'h027',GetOwningPlayer(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),GetUnitLoc(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),270.)set Vx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedUnitcall ForGroupBJ(Jx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function e8)set On=1loopexitwhen On>8call GF(.1)set ga[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(GetTriggerUnit()),600.,600.))call CreateNUnitsAtLoc(1,'h00T',GetOwningPlayer(GetTriggerUnit()),ga[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],270.)call RemoveLocation(ga[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set On=On+1endloopcall GF(3.8)call CreateNUnitsAtLoc(1,'h029',GetOwningPlayer(GetTriggerUnit()),pe[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],270.)call GF(1.5)call ForGroupBJ(Jx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function n8)call RemoveUnit(Vx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call GroupRemoveUnit(KV,GetTriggerUnit())call GroupRemoveUnit(LV,GetTriggerUnit())if(V8())thencall PauseUnit(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)endifcall ResetUnitAnimation(Ke[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(pe[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call DestroyGroup(Jx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction O8 takes nothing returns booleanreturn(Uo[To[1]]==mo)endfunctionfunction R8 takes nothing returns booleanreturn(uo>To[1])endfunctionfunction I8 takes nothing returns booleanreturn(to==0)endfunctionfunction A8 takes nothing returns booleanreturn(IsUnitInGroup(mo,So))endfunctionfunction N8 takes nothing returns booleanreturn(to==0)endfunctionfunction b8 takes nothing returns nothingif(A8())thencall GroupRemoveUnit(So,mo)set to=(to-1)set To[2]=1loopexitwhen To[2]>uoif(O8())thenset To[1]=To[2]set To[2]=uoendifset To[2]=To[2]+1endloopif(R8())thenset wo[To[1]]=wo[uo]set Uo[To[1]]=Uo[uo]set Wo[To[1]]=Wo[uo]set yo[To[1]]=yo[uo]set Yo[To[1]]=Yo[uo]set zo[To[1]]=zo[uo]set Zo[To[1]]=Zo[uo]set vr[To[1]]=vr[uo]set er[To[1]]=er[uo]set xr[To[1]]=xr[uo]set rr[To[1]]=rr[uo]set ir[To[1]]=ir[uo]set To[1]=(To[1]-1)endifset Uo[uo]=nullset uo=(uo-1)if(I8())thenset uo=0call DisableTrigger(Zd)endifendifif(N8())thencall EnableTrigger(Zd)endifset to=(to+1)set uo=(uo+1)set ar[uo]=Loset wo[uo]=Moset Uo[uo]=moset nr[uo]=poset Vr[uo]=GetUnitLoc(mo)set Wo[uo]=AngleBetweenPoints(nr[uo],Vr[uo])set yo[uo]=(qo*I2R(Mo))set Yo[uo]=.0set zo[To[1]]=.0set Zo[uo]=Poset vr[uo]=Qo[1]set er[uo]=Qo[2]set xr[uo]=soset rr[To[1]]=0set ir[To[1]]=0call GroupAddUnit(So,mo)call RemoveLocation(po)call RemoveLocation(Vr[uo])call RemoveLocation(nr[uo])endfunctionfunction c8 takes nothing returns booleanreturn(uo>To[1])endfunctionfunction C8 takes nothing returns booleanreturn(to==0)endfunctionfunction d8 takes nothing returns nothingcall KillDestructable(GetEnumDestructable())endfunctionfunction D8 takes nothing returns booleanreturn(xr[To[1]])endfunctionfunction f8 takes nothing returns booleanreturn(rr[To[1]]==6)endfunctionfunction F8 takes nothing returns booleanreturn(ir[To[1]]==8)endfunctionfunction g8 takes nothing returns booleanreturn(Yo[To[1]]>=yo[To[1]])endfunctionfunction G8 takes nothing returns booleanreturn(IsUnitInGroup(Uo[To[1]],So))endfunctionfunction h8 takes nothing returns nothingset To[1]=1loopexitwhen To[1]>uoif(G8())thenif(g8())thencall GroupRemoveUnit(So,Uo[To[1]])set to=(to-1)if(c8())thenset wo[To[1]]=wo[uo]set Uo[To[1]]=Uo[uo]set Wo[To[1]]=Wo[uo]set yo[To[1]]=yo[uo]set Yo[To[1]]=Yo[uo]set zo[To[1]]=zo[uo]set Zo[To[1]]=Zo[uo]set vr[To[1]]=vr[uo]set er[To[1]]=er[uo]set xr[To[1]]=xr[uo]set rr[To[1]]=rr[uo]set ir[To[1]]=ir[uo]set To[1]=(To[1]-1)endifset Uo[uo]=nullset uo=(uo-1)if(C8())thenset uo=0call DisableTrigger(GetTriggeringTrigger())endifelseset Er=((Zo[To[1]]/ yo[To[1]])*Yo[To[1]])set zo[To[1]]=(Er-(zo[To[1]]*.1))set Xr=((Zo[To[1]]-zo[To[1]])*2.)set Vr[1]=GetUnitLoc(Uo[To[1]])set Vr[2]=jF(Vr[1],Xr,Wo[To[1]])set rr[To[1]]=(rr[To[1]]+1)set ir[To[1]]=(ir[To[1]]+1)if(D8())thencall LF(200.,Vr[2],function d8)endifif(f8())thenset rr[To[1]]=0call AddSpecialEffectLocBJ(Vr[1],vr[To[1]])call DestroyEffect(bj_lastCreatedEffect)endifif(F8())thenset ir[To[1]]=0call AddSpecialEffectLocBJ(Vr[1],er[To[1]])call DestroyEffect(bj_lastCreatedEffect)endifcall SetUnitPositionLoc(Uo[To[1]],Vr[2])call RemoveLocation(Vr[1])call RemoveLocation(Vr[2])set Yo[To[1]]=(Yo[To[1]]+Xr)endifendifset To[1]=To[1]+1endloopendfunctionfunction j8 takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Sr)==false)and(Nr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==2)and(Dr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)endfunctionfunction J8 takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02M')or(GetUnitTypeId(GetTriggerUnit())=='H02L')or(GetUnitTypeId(GetTriggerUnit())=='H023')or(GetUnitTypeId(GetTriggerUnit())=='H024')endfunctionfunction k8 takes nothing returns booleanreturn(J8())endfunctionfunction K8 takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02P')or(GetUnitTypeId(GetTriggerUnit())=='H02Q')or(GetUnitTypeId(GetTriggerUnit())=='H02E')or(GetUnitTypeId(GetTriggerUnit())=='H02F')or(GetUnitTypeId(GetTriggerUnit())=='H02H')or(GetUnitTypeId(GetTriggerUnit())=='H02K')endfunctionfunction l8 takes nothing returns booleanreturn(K8())endfunctionfunction L8 takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02B')or(GetUnitTypeId(GetTriggerUnit())=='H02C')or(GetUnitTypeId(GetTriggerUnit())=='H02R')or(GetUnitTypeId(GetTriggerUnit())=='H02S')or(GetUnitTypeId(GetTriggerUnit())=='H02O')or(GetUnitTypeId(GetTriggerUnit())=='H02N')endfunctionfunction m8 takes nothing returns booleanreturn(L8())endfunctionfunction M8 takes nothing returns nothingcall ForceAddPlayer(Sr,GetOwningPlayer(GetTriggerUnit()))if(k8())thencall UnitAddAbility(GetTriggerUnit(),'A098')endifif(l8())thencall UnitAddAbility(GetTriggerUnit(),'A09G')endifif(m8())thencall UnitAddAbility(GetTriggerUnit(),'A08T')endifendfunctionfunction P8 takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetEventDamage()>=((3./ 100.)*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())))and(Nr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=1))!=nullendfunctionfunction q8 takes nothing returns booleanreturn(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_FOOD_USED)<'d')endfunctionfunction Q8 takes nothing returns nothingif(q8())thencall AdjustPlayerStateBJ(1,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_FOOD_USED)endifendfunctionfunction S8 takes nothing returns booleanreturn(Nr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==0)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Rr)==false)and(GetOrderTargetUnit()==Pf)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction t8 takes nothing returns booleanreturn(GetHeroLevel(GetTriggerUnit())>=$FA)endfunctionfunction T8 takes nothing returns nothingif(t8())thencall ForceAddPlayer(Rr,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00The Angel of Clouds|r : You are strong and your power is immense. But you have not realised your true potential yet, young one. I can help you unlock your inner power and break all your limits...but you must prove yourself worthy of this power. In the Unknown Regions lives a terrible monster known as Doppelganger. I want you to find him and kill him. Do this, and return to me.")call CreateQuestBJ(0,("Unlocking Your Inner Power ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"In order to unlock my inner power and break all the limits of my power, I must find Doppelganger in the Unknown Regions and kill him. I need not land the killing blow on him, and killing him with a party should suffice.","ReplaceableTextures\\CommandButtons\\BTNShackle.blp")set Ir[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestelsecall DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00The Angel of Clouds|r : You are not strong enough. Come back when you think you are more worthy.")endifendfunctionfunction U8 takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ar))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Rr))and(GetOrderTargetUnit()==Pf)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))endfunctionfunction w8 takes nothing returns nothingcall ForceRemovePlayer(Ar,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Rr,GetOwningPlayer(GetTriggerUnit()))set Nr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=1call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00The Angel of Clouds|r : You have done well. As promised, I shall unlock your inner power and grant you a power you never thought you possessed! Speak to me as you become stronger as you might unlock more of your potential, gaining access to even more powerful skills.")call PlaySoundBJ(lI)call AddHeroXPSwapped($249F0,GetTriggerUnit(),true)call AdjustPlayerStateBJ($30D40,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)call DestroyQuest(Ir[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction y8 takes nothing returns booleanreturn(GetUnitLevel(GetTriggerUnit())>=$FA)and(Nr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(GetOrderTargetUnit()==Pf)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(Tr!=5)endfunctionfunction Y8 takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02H')or(GetUnitTypeId(GetTriggerUnit())=='H02K')endfunctionfunction z8 takes nothing returns booleanreturn(Y8())endfunctionfunction Z8 takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H023')or(GetUnitTypeId(GetTriggerUnit())=='H024')endfunctionfunction vvv takes nothing returns booleanreturn(Z8())endfunctionfunction vev takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02M')or(GetUnitTypeId(GetTriggerUnit())=='H02L')endfunctionfunction vxv takes nothing returns booleanreturn(vev())endfunctionfunction vov takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02O')or(GetUnitTypeId(GetTriggerUnit())=='H02N')endfunctionfunction vrv takes nothing returns booleanreturn(vov())endfunctionfunction viv takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02P')or(GetUnitTypeId(GetTriggerUnit())=='H02Q')endfunctionfunction vav takes nothing returns booleanreturn(viv())endfunctionfunction vnv takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02E')or(GetUnitTypeId(GetTriggerUnit())=='H02F')endfunctionfunction vVv takes nothing returns booleanreturn(vnv())endfunctionfunction vEv takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02B')or(GetUnitTypeId(GetTriggerUnit())=='H02C')endfunctionfunction vXv takes nothing returns booleanreturn(vEv())endfunctionfunction vOv takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02R')or(GetUnitTypeId(GetTriggerUnit())=='H02S')or(GetUnitTypeId(GetTriggerUnit())=='H02T')or(GetUnitTypeId(GetTriggerUnit())=='H02U')endfunctionfunction vRv takes nothing returns booleanreturn(vOv())endfunctionfunction vIv takes nothing returns nothingset Tr=5set Qr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitTypeId(GetTriggerUnit())set sr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()call DialogClear(br)if(z8())thencall DialogSetMessage(br,"Swordman's Tier 1 Limit Break Skill Tree")call DialogAddButtonBJ(br,"Devastator Strike")set Br[1]=bj_lastCreatedButtoncall DialogAddButtonBJ(br,"Skill Description")set Br[2]=bj_lastCreatedButtonendifif(vvv())thencall DialogSetMessage(br,"Initiate's Tier 1 Limit Break Skill Tree")call DialogAddButtonBJ(br,"Arcane Explosion")set Br[1]=bj_lastCreatedButtoncall DialogAddButtonBJ(br,"Skill Description")set Br[2]=bj_lastCreatedButtonendifif(vxv())thencall DialogSetMessage(br,"Templar's Tier 1 Limit Break Skill Tree")call DialogAddButtonBJ(br,"Supernova")set Br[1]=bj_lastCreatedButtoncall DialogAddButtonBJ(br,"Skill Description")set Br[2]=bj_lastCreatedButtonendifif(vrv())thencall DialogSetMessage(br,"Thief's Tier 1 Limit Break Skill Tree")call DialogAddButtonBJ(br,"Speed Freak")set Br[1]=bj_lastCreatedButtoncall DialogAddButtonBJ(br,"Skill Description")set Br[2]=bj_lastCreatedButtonendifif(vav())thencall DialogSetMessage(br,"Witch Hunter's Tier 1 Limit Break Skill Tree")call DialogAddButtonBJ(br,"Mark of the Wolverine")set Br[1]=bj_lastCreatedButtoncall DialogAddButtonBJ(br,"Skill Description")set Br[2]=bj_lastCreatedButtonendifif(vVv())thencall DialogSetMessage(br,"Archer's Tier 1 Limit Break Skill Tree")call DialogAddButtonBJ(br,"Energy Rush")set Br[1]=bj_lastCreatedButtoncall DialogAddButtonBJ(br,"Skill Description")set Br[2]=bj_lastCreatedButtonendifif(vXv())thencall DialogSetMessage(br,"Acolyte's Tier 1 Limit Break Skill Tree")call DialogAddButtonBJ(br,"Lex Divina")set Br[1]=bj_lastCreatedButtoncall DialogAddButtonBJ(br,"Skill Description")set Br[2]=bj_lastCreatedButtonendifif(vRv())thencall DialogSetMessage(br,"Druid's Tier 1 Limit Break Skill Tree")call DialogAddButtonBJ(br,"Cybele")set Br[1]=bj_lastCreatedButtoncall DialogAddButtonBJ(br,"Skill Description")set Br[2]=bj_lastCreatedButtonendifcall DialogDisplayBJ(true,br,GetOwningPlayer(GetTriggerUnit()))endfunctionfunction vNv takes nothing returns booleanreturn(GetClickedButton()==Br[2])and(Nr[(1+GetPlayerId(GetTriggerPlayer()))]==1)endfunctionfunction vbv takes nothing returns booleanreturn(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02H')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02K')endfunctionfunction vBv takes nothing returns booleanreturn(vbv())endfunctionfunction vcv takes nothing returns booleanreturn(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H023')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H024')endfunctionfunction vCv takes nothing returns booleanreturn(vcv())endfunctionfunction vdv takes nothing returns booleanreturn(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02L')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02M')endfunctionfunction vDv takes nothing returns booleanreturn(vdv())endfunctionfunction vfv takes nothing returns booleanreturn(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02N')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02O')endfunctionfunction vFv takes nothing returns booleanreturn(vfv())endfunctionfunction vgv takes nothing returns booleanreturn(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02P')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02Q')endfunctionfunction vGv takes nothing returns booleanreturn(vgv())endfunctionfunction vhv takes nothing returns booleanreturn(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02F')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02E')endfunctionfunction vHv takes nothing returns booleanreturn(vhv())endfunctionfunction vjv takes nothing returns booleanreturn(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02B')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02C')endfunctionfunction vJv takes nothing returns booleanreturn(vjv())endfunctionfunction vkv takes nothing returns booleanreturn(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02R')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02S')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02T')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02U')endfunctionfunction vKv takes nothing returns booleanreturn(vkv())endfunctionfunction vlv takes nothing returns nothingset Tr=0if(vBv())thencall DisplayTextToForce(YF(GetTriggerPlayer()),"|cffffcc00Devastator Strike|r - Charges up power, then teleports to the enemy and strike the target with the charged force, dealing 50,000 universal damage and knocking the unit back.")endifif(vCv())thencall DisplayTextToForce(YF(GetTriggerPlayer()),"|cffffcc00Arcane Explosion|r - Unleashes 6 powerful arcane explosions in the targetted area, dealing 10,000 chaos damage to every unit caught in each blast.")endifif(vDv())thencall DisplayTextToForce(YF(GetTriggerPlayer()),"|cffffcc00Supernova|r - Unleashes supernovas in the targetted area, dealing 26,000 universal damage and knocking the units back in an area of 700.")endifif(vFv())thencall DisplayTextToForce(YF(GetTriggerPlayer()),"|cffffcc00Speed Freak|r - Turns amazingly fast, becoming invulnerable and striking a random target in an area of 700. Does not strike Bosses. Each strike deals 5000 chaos damage. Strikes 18 times.")endifif(vGv())thencall DisplayTextToForce(YF(GetTriggerPlayer()),"|cffffcc00Mark of the Wolverine|r - Becomes imbued with the power of the Wolverine, striking the target 8 times with incredible speed, knocking back the target with every hit. Deals 40,000 universal damage at the end of the 8 hits.")endifif(vHv())thencall DisplayTextToForce(YF(GetTriggerPlayer()),"|cffffcc00Energy Rush|r - Charges up amazing force into the weapon, unleashing it in a powerful burst of energy, dealing 45,000 universal damage to the target and knocking it back.")endifif(vJv())thencall DisplayTextToForce(YF(GetTriggerPlayer()),"|cffffcc00Lex Divina|r - Unleashes holy power unto an area of 700, dealing 20,000 universal damage to all enemies and healing all allies, including the caster, to full health.")endifif(vKv())thencall DisplayTextToForce(YF(GetTriggerPlayer()),"|cffffcc00Cybele|r - Summons the might of the greek god, Cybele, causing powerful thorns to pierce enemies from below, dealing 35,000 chaos damage to all enemies in an area of 700.")endifendfunctionfunction vmv takes nothing returns booleanreturn(GetClickedButton()==Br[1])and(Nr[(1+GetPlayerId(GetTriggerPlayer()))]==1)endfunctionfunction vMv takes nothing returns booleanreturn(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02M')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02L')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H023')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H024')endfunctionfunction vpv takes nothing returns booleanreturn(vMv())endfunctionfunction vPv takes nothing returns booleanreturn(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02P')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02Q')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02E')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02F')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02H')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02K')endfunctionfunction vqv takes nothing returns booleanreturn(vPv())endfunctionfunction vQv takes nothing returns booleanreturn(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02N')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02O')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02C')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02B')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02R')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02S')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02T')or(Qr[(1+GetPlayerId(GetTriggerPlayer()))]=='H02U')endfunctionfunction vsv takes nothing returns booleanreturn(vQv())endfunctionfunction vSv takes nothing returns nothingset Tr=0if(vpv())thencall DisplayTextToForce(YF(GetTriggerPlayer()),"|Cff00ff00You have successfully learnt a Limit Break skill.|r")call UnitAddAbility(sr[(1+GetPlayerId(GetTriggerPlayer()))],'A098')set Dr[(1+GetPlayerId(GetTriggerPlayer()))]=1set Nr[(1+GetPlayerId(GetTriggerPlayer()))]=2endifif(vqv())thencall DisplayTextToForce(YF(GetTriggerPlayer()),"|Cff00ff00You have successfully learnt a Limit Break skill.|r")call UnitAddAbility(sr[(1+GetPlayerId(GetTriggerPlayer()))],'A09G')set Dr[(1+GetPlayerId(GetTriggerPlayer()))]=1set Nr[(1+GetPlayerId(GetTriggerPlayer()))]=2endifif(vsv())thencall DisplayTextToForce(YF(GetTriggerPlayer()),"|Cff00ff00You have successfully learnt a Limit Break skill.|r")call UnitAddAbility(sr[(1+GetPlayerId(GetTriggerPlayer()))],'A08T')set Dr[(1+GetPlayerId(GetTriggerPlayer()))]=1set Nr[(1+GetPlayerId(GetTriggerPlayer()))]=2endifendfunctionfunction vTv takes nothing returns booleanreturn(GetSpellAbilityId()=='A09G')or(GetSpellAbilityId()=='A08T')or(GetSpellAbilityId()=='A098')endfunctionfunction vuv takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),qe))and(vTv())endfunctionfunction vUv takes nothing returns nothingcall IssueImmediateOrderById(GetTriggerUnit(),$D0004)endfunctionfunction vWv takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02H')or(GetUnitTypeId(GetTriggerUnit())=='H02K')endfunctionfunction vyv takes nothing returns booleanreturn(GetSpellAbilityId()=='A09G')and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_FOOD_USED)=='d')and(Dr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(vWv())endfunctionfunction vYv takes nothing returns nothingset hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()call SetPlayerStateBJ(GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),PLAYER_STATE_RESOURCE_FOOD_USED,0)set Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetSpellTargetUnit()set jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetTriggerUnit())set Jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetSpellTargetUnit())call PauseUnit(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call PauseUnit(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)set kr[1]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,90.)set kr[2]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,160.)set kr[3]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,235.)set kr[4]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,305.)set kr[5]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,20.)call AddLightningLoc("DRAM",kr[1],kr[3])set Kr[1]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[3])set Kr[2]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[2])set Kr[3]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[2],kr[4])set Kr[4]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[4],kr[1])set Kr[5]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[1],kr[3])set Kr[6]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[3])set Kr[7]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[2])set Kr[8]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[2],kr[4])set Kr[9]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[4],kr[1])set Kr[$A]=bj_lastCreatedLightningcall GF(.5)call SetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"spell")call GF(.1)call AddSpecialEffectLocBJ(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call CreateTextTagUnitBJ("LIMIT BREAK!!!",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)set lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedTextTagcall GF(2.5)set ka=1loopexitwhen ka>$Acall DestroyLightning(Kr[ka])set ka=ka+1endloopcall DestroyTextTag(lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call TriggerSleepAction(.2)call CreateTextTagUnitBJ("DEVASTATOR STRIKE!!!",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)call CreateNUnitsAtLoc(1,'h03A',GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],bj_UNIT_FACING)set Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedUnitcall SetUnitTimeScalePercent(bj_lastCreatedUnit,10.)call TriggerSleepAction(.4)call SetUnitScalePercent(Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],120.,140.,140.)call TriggerSleepAction(.4)call SetUnitScalePercent(Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],140.,180.,180.)call TriggerSleepAction(.4)call SetUnitScalePercent(Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],160.,220.,220.)call TriggerSleepAction(.4)call SetUnitScalePercent(Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],180.,260.,260.)call TriggerSleepAction(.4)call SetUnitScalePercent(Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],200.,300.,300.)call TriggerSleepAction(.4)call ExplodeUnitBJ(Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call AddSpecialEffectTargetUnitBJ("right hand",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl")set mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall SetUnitPositionLoc(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call TriggerSleepAction(.2)call SetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"attack slam")call TriggerSleepAction(.2)call CreateNUnitsAtLoc(1,'h03A',GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),Jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],bj_UNIT_FACING)set Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedUnitcall SetUnitScalePercent(Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],200.,200.,200.)call DestroyEffect(mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call TriggerSleepAction(.5)call SetUnitInvulnerable(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitInvulnerable(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitPositionLoc(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call UnitDamageTargetBJ(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],50000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)set Lo=hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]set mo=Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]set Mo=1set po=jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]set Po=18.set qo=800.set Qo[1]="Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl"set Qo[2]="Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl"set so=falsecall ConditionalTriggerExecute(zd)call RemoveUnit(Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PauseUnit(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call PauseUnit(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call ResetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call ResetUnitAnimation(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(Jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction vZv takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02E')or(GetUnitTypeId(GetTriggerUnit())=='H02F')endfunctionfunction v_v takes nothing returns booleanreturn(GetSpellAbilityId()=='A09G')and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_FOOD_USED)=='d')and(Dr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(vZv())endfunctionfunction v0v takes nothing returns nothingset hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()call SetPlayerStateBJ(GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),PLAYER_STATE_RESOURCE_FOOD_USED,0)set Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetSpellTargetUnit()set jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetTriggerUnit())set Jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetSpellTargetUnit())call PauseUnit(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call PauseUnit(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)set kr[1]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,90.)set kr[2]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,160.)set kr[3]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,235.)set kr[4]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,305.)set kr[5]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,20.)call AddLightningLoc("DRAM",kr[1],kr[3])set Kr[1]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[3])set Kr[2]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[2])set Kr[3]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[2],kr[4])set Kr[4]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[4],kr[1])set Kr[5]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[1],kr[3])set Kr[6]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[3])set Kr[7]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[2])set Kr[8]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[2],kr[4])set Kr[9]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[4],kr[1])set Kr[$A]=bj_lastCreatedLightningcall GF(.5)call SetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"spell")call GF(.1)call AddSpecialEffectLocBJ(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call CreateTextTagUnitBJ("LIMIT BREAK!!!",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)set lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedTextTagcall GF(2.5)set ka=1loopexitwhen ka>$Acall DestroyLightning(Kr[ka])set ka=ka+1endloopcall DestroyTextTag(lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call TriggerSleepAction(.2)call CreateTextTagUnitBJ("ENERGY RUSH!!!",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)call SetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"attack")call SetUnitTimeScalePercent(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],25.)call CreateNUnitsAtLoc(1,'h03A',GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],270.)set Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedUnitcall SetUnitTimeScalePercent(bj_lastCreatedUnit,10.)call TriggerSleepAction(.4)call SetUnitScalePercent(Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],120.,140.,140.)call TriggerSleepAction(.4)call SetUnitScalePercent(Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],140.,180.,180.)call TriggerSleepAction(.4)call SetUnitScalePercent(Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],160.,220.,220.)call TriggerSleepAction(.4)call SetUnitScalePercent(Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],180.,260.,260.)call TriggerSleepAction(.4)call SetUnitScalePercent(Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],200.,300.,300.)call TriggerSleepAction(.4)call ExplodeUnitBJ(Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call AddSpecialEffectTargetUnitBJ("right hand",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl")set mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall SetUnitTimeScalePercent(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],100.)call CreateNUnitsAtLocFacingLocBJ(1,'h03D',GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)call TriggerSleepAction(.15)call DestroyEffect(mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetUnitInvulnerable(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitInvulnerable(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call UnitDamageTargetBJ(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],45000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)set Lo=hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]set mo=Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]set Mo=1set po=jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]set Po=15.set qo=600.set Qo[1]="Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl"set Qo[2]="Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl"set so=falsecall ConditionalTriggerExecute(zd)call RemoveUnit(Lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PauseUnit(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call PauseUnit(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call ResetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call ResetUnitAnimation(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(Jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction v2v takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02C')or(GetUnitTypeId(GetTriggerUnit())=='H02B')endfunctionfunction v3v takes nothing returns booleanreturn(GetSpellAbilityId()=='A08T')and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_FOOD_USED)=='d')and(Dr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(v2v())endfunctionfunction v4v takes nothing returns booleanreturn(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction v5v takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_USER)endfunctionfunction v6v takes nothing returns booleanreturn GetBooleanAnd(v4v(),v5v())endfunctionfunction v7v takes nothing returns nothingcall SetUnitInvulnerable(GetEnumUnit(),true)call PauseUnit(GetEnumUnit(),true)endfunctionfunction v8v takes nothing returns booleanreturn(IsUnitEnemy(GetEnumUnit(),GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])))endfunctionfunction v9v takes nothing returns nothingif(v8v())thencall PauseUnit(GetEnumUnit(),false)call SetUnitInvulnerable(GetEnumUnit(),false)call UnitDamageTargetBJ(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetEnumUnit(),20000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)elsecall AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)call ResetUnitAnimation(GetEnumUnit())call PauseUnit(GetEnumUnit(),false)call SetUnitInvulnerable(GetEnumUnit(),false)call SetUnitLifePercentBJ(GetEnumUnit(),'d')endifendfunctionfunction evv takes nothing returns nothingset hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()call SetPlayerStateBJ(GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),PLAYER_STATE_RESOURCE_FOOD_USED,0)set jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetTriggerUnit())set Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=tF(700.,jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Condition(function v6v))call ForGroupBJ(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function v7v)set kr[1]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,90.)set kr[2]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,160.)set kr[3]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,235.)set kr[4]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,305.)set kr[5]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,20.)call AddLightningLoc("DRAM",kr[1],kr[3])set Kr[1]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[3])set Kr[2]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[2])set Kr[3]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[2],kr[4])set Kr[4]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[4],kr[1])set Kr[5]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[1],kr[3])set Kr[6]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[3])set Kr[7]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[2])set Kr[8]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[2],kr[4])set Kr[9]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[4],kr[1])set Kr[$A]=bj_lastCreatedLightningcall GF(.5)call SetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"spell")call SetUnitTimeScalePercent(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],50.)call GF(.1)call AddSpecialEffectLocBJ(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call CreateTextTagUnitBJ("LIMIT BREAK!!!",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)set lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedTextTagcall GF(2.5)set ka=1loopexitwhen ka>$Acall DestroyLightning(Kr[ka])set ka=ka+1endloopcall DestroyTextTag(lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call GF(.2)call CreateTextTagUnitBJ("LEX DIVINA!!!",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)call AddSpecialEffectTargetUnitBJ("overhead",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl")set mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall GF(1.)call CreateNUnitsAtLoc(1,'h03C',GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],270.)call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)call SetUnitTimeScalePercent(bj_lastCreatedUnit,40.)call GF(.25)call ForGroupBJ(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function v9v)call DestroyEffect(mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetUnitTimeScalePercent(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],100.)call IssueImmediateOrderById(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],$D0004)call RemoveLocation(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call DestroyGroup(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction exv takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02R')or(GetUnitTypeId(GetTriggerUnit())=='H02S')or(GetUnitTypeId(GetTriggerUnit())=='H02U')or(GetUnitTypeId(GetTriggerUnit())=='H02T')endfunctionfunction eov takes nothing returns booleanreturn(GetSpellAbilityId()=='A08T')and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_FOOD_USED)=='d')and(Dr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(exv())endfunctionfunction erv takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))endfunctionfunction eiv takes nothing returns nothingcall SetUnitInvulnerable(GetEnumUnit(),true)call PauseUnit(GetEnumUnit(),true)endfunctionfunction eav takes nothing returns nothingcall PauseUnit(GetEnumUnit(),false)call SetUnitInvulnerable(GetEnumUnit(),false)call UnitDamageTargetBJ(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetEnumUnit(),35000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_ENHANCED)endfunctionfunction env takes nothing returns nothingset hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()call SetPlayerStateBJ(GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),PLAYER_STATE_RESOURCE_FOOD_USED,0)set jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetTriggerUnit())set Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=tF(700.,jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Condition(function erv))call ForGroupBJ(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function eiv)call PauseUnit(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)set kr[1]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,90.)set kr[2]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,160.)set kr[3]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,235.)set kr[4]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,305.)set kr[5]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,20.)call AddLightningLoc("DRAM",kr[1],kr[3])set Kr[1]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[3])set Kr[2]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[2])set Kr[3]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[2],kr[4])set Kr[4]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[4],kr[1])set Kr[5]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[1],kr[3])set Kr[6]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[3])set Kr[7]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[2])set Kr[8]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[2],kr[4])set Kr[9]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[4],kr[1])set Kr[$A]=bj_lastCreatedLightningcall GF(.5)call SetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"spell")call SetUnitTimeScalePercent(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],20.)call GF(.1)call AddSpecialEffectLocBJ(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call CreateTextTagUnitBJ("LIMIT BREAK!!!",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)set lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedTextTagcall GF(2.5)set ka=1loopexitwhen ka>$Acall DestroyLightning(Kr[ka])set ka=ka+1endloopcall DestroyTextTag(lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call GF(.2)call CreateTextTagUnitBJ("CYBELE!!!",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)call GF(1.)set Xn=1loopexitwhen Xn>20call TriggerSleepAction(.05)set pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetRandomLocInRect(RectFromCenterSizeBJ(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],700.,700.))call CreateNUnitsAtLoc(1,'h03B',GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],270.)call RemoveLocation(pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set Xn=Xn+1endloopcall GF(.1)call ForGroupBJ(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function eav)call PauseUnit(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitInvulnerable(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitTimeScalePercent(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],100.)call IssueImmediateOrderById(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],$D0004)call RemoveLocation(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call DestroyGroup(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction eEv takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02N')or(GetUnitTypeId(GetTriggerUnit())=='H02O')endfunctionfunction eXv takes nothing returns booleanreturn(GetSpellAbilityId()=='A08T')and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_FOOD_USED)=='d')and(Dr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(eEv())endfunctionfunction eOv takes nothing returns booleanreturn(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction eRv takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)!=nullendfunctionfunction eIv takes nothing returns booleanreturn GetBooleanAnd(eOv(),eRv())endfunctionfunction eAv takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])))endfunctionfunction eNv takes nothing returns booleanreturn GetBooleanAnd(eIv(),eAv())endfunctionfunction ebv takes nothing returns nothingcall SetUnitInvulnerable(GetEnumUnit(),true)call PauseUnit(GetEnumUnit(),true)endfunctionfunction eBv takes nothing returns booleanreturn(IsUnitGroupEmptyBJ(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))endfunctionfunction ecv takes nothing returns booleanreturn(IsUnitDeadBJ(Pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))endfunctionfunction eCv takes nothing returns nothingcall SetUnitInvulnerable(GetEnumUnit(),false)call PauseUnit(GetEnumUnit(),false)endfunctionfunction edv takes nothing returns nothingset hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()call SetPlayerStateBJ(GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),PLAYER_STATE_RESOURCE_FOOD_USED,0)set jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetTriggerUnit())call PauseUnit(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)set Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=tF(700.,jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Condition(function eNv))call ForGroupBJ(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function ebv)set kr[1]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,90.)set kr[2]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,160.)set kr[3]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,235.)set kr[4]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,305.)set kr[5]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,20.)call AddLightningLoc("DRAM",kr[1],kr[3])set Kr[1]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[3])set Kr[2]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[2])set Kr[3]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[2],kr[4])set Kr[4]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[4],kr[1])set Kr[5]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[1],kr[3])set Kr[6]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[3])set Kr[7]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[2])set Kr[8]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[2],kr[4])set Kr[9]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[4],kr[1])set Kr[$A]=bj_lastCreatedLightningcall GF(.5)call AddSpecialEffectLocBJ(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call CreateTextTagUnitBJ("LIMIT BREAK!!!",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)set lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedTextTagcall GF(2.5)set ka=1loopexitwhen ka>$Acall DestroyLightning(Kr[ka])set ka=ka+1endloopcall DestroyTextTag(lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call GF(.2)call CreateTextTagUnitBJ("SPEED FREAK!!!",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)call PlaySoundBJ(LI)call GF(1.2)set Xn=1loopexitwhen Xn>18if(eBv())thencall SetUnitPositionLoc(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PauseUnit(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitInvulnerable(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call IssueImmediateOrderById(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],$D0004)call ResetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call DestroyGroup(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])returnendifcall TriggerSleepAction(.05)set Pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GroupPickRandomUnit(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set tr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetOwningPlayer(Pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(Pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetUnitPositionLoc(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"attack")call SetUnitInvulnerable(Pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call AddSpecialEffectLocBJ(GetUnitLoc(Pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")call DestroyEffect(bj_lastCreatedEffect)call UnitDamageTargetBJ(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],5000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_ENHANCED)if(ecv())thencall GroupRemoveUnit(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])elsecall SetUnitInvulnerable(Pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)endifcall RemoveLocation(pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set Xn=Xn+1endloopcall GF(.1)call ForGroupBJ(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function eCv)call SetUnitPositionLoc(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call PauseUnit(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitInvulnerable(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call IssueImmediateOrderById(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],$D0004)call ResetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call DestroyGroup(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction efv takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02M')or(GetUnitTypeId(GetTriggerUnit())=='H02L')endfunctionfunction eFv takes nothing returns booleanreturn(GetSpellAbilityId()=='A098')and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_FOOD_USED)=='d')and(Dr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(efv())endfunctionfunction egv takes nothing returns booleanreturn(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction eGv takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])))endfunctionfunction ehv takes nothing returns booleanreturn GetBooleanAnd(egv(),eGv())endfunctionfunction eHv takes nothing returns nothingcall SetUnitInvulnerable(GetEnumUnit(),true)call PauseUnit(GetEnumUnit(),true)endfunctionfunction ejv takes nothing returns nothingcall PauseUnit(GetEnumUnit(),false)call SetUnitInvulnerable(GetEnumUnit(),false)call UnitDamageTargetBJ(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetEnumUnit(),26000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)set Lo=hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]set mo=GetEnumUnit()set Mo=1set po=jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]set Po=6.set qo=450.set Qo[1]="Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl"set Qo[2]="Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl"set so=falsecall ConditionalTriggerExecute(zd)endfunctionfunction eJv takes nothing returns nothingset hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()call SetPlayerStateBJ(GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),PLAYER_STATE_RESOURCE_FOOD_USED,0)set jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetTriggerUnit())set Jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetSpellTargetLoc()set Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=tF(700.,GetSpellTargetLoc(),Condition(function ehv))call ForGroupBJ(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function eHv)call PauseUnit(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)set kr[1]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,90.)set kr[2]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,160.)set kr[3]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,235.)set kr[4]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,305.)set kr[5]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,20.)call AddLightningLoc("DRAM",kr[1],kr[3])set Kr[1]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[3])set Kr[2]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[2])set Kr[3]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[2],kr[4])set Kr[4]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[4],kr[1])set Kr[5]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[1],kr[3])set Kr[6]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[3])set Kr[7]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[2])set Kr[8]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[2],kr[4])set Kr[9]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[4],kr[1])set Kr[$A]=bj_lastCreatedLightningcall GF(.5)call SetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"spell")call SetUnitTimeScalePercent(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],20.)call GF(.1)call AddSpecialEffectLocBJ(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call CreateTextTagUnitBJ("LIMIT BREAK!!!",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)set lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedTextTagcall GF(2.5)set ka=1loopexitwhen ka>$Acall DestroyLightning(Kr[ka])set ka=ka+1endloopcall DestroyTextTag(lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call GF(.2)call CreateTextTagUnitBJ("SUPERNOVA!!!",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)call GF(1.)set Xn=1loopexitwhen Xn>5call GF(.1)set pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetRandomLocInRect(RectFromCenterSizeBJ(Jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],700.,700.))call CreateNUnitsAtLoc(1,'h037',GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],270.)call SetUnitTimeScalePercent(bj_lastCreatedUnit,50.)call RemoveLocation(pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set Xn=Xn+1endloopcall GF(.5)call ForGroupBJ(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function ejv)call SetUnitTimeScalePercent(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],100.)call PauseUnit(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitInvulnerable(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call IssueImmediateOrderById(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],$D0004)call RemoveLocation(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call DestroyGroup(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(Jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction eKv takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H02P')or(GetUnitTypeId(GetTriggerUnit())=='H02Q')endfunctionfunction elv takes nothing returns booleanreturn(GetSpellAbilityId()=='A09G')and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_FOOD_USED)=='d')and(Dr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(eKv())endfunctionfunction eLv takes nothing returns nothingset hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()call SetPlayerStateBJ(GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),PLAYER_STATE_RESOURCE_FOOD_USED,0)set Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetSpellTargetUnit()set jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetTriggerUnit())set Jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetSpellTargetUnit())call PauseUnit(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call PauseUnit(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)set kr[1]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,90.)set kr[2]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,160.)set kr[3]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,235.)set kr[4]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,305.)set kr[5]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,20.)call AddLightningLoc("DRAM",kr[1],kr[3])set Kr[1]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[3])set Kr[2]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[2])set Kr[3]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[2],kr[4])set Kr[4]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[4],kr[1])set Kr[5]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[1],kr[3])set Kr[6]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[3])set Kr[7]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[2])set Kr[8]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[2],kr[4])set Kr[9]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[4],kr[1])set Kr[$A]=bj_lastCreatedLightningcall GF(.5)call SetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"spell")call SetUnitTimeScalePercent(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],30.)call GF(.1)call AddSpecialEffectLocBJ(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call CreateTextTagUnitBJ("LIMIT BREAK!!!",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)set lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedTextTagcall GF(2.5)set ka=1loopexitwhen ka>$Acall DestroyLightning(Kr[ka])set ka=ka+1endloopcall DestroyTextTag(lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call TriggerSleepAction(.2)call CreateNUnitsAtLoc(1,'h038',GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],270.)call CreateTextTagUnitBJ("MARK OF THE WOLVERINE!!!",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)call AddSpecialEffectTargetUnitBJ("right hand",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl")set mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedEffectcall TriggerSleepAction(.5)call SetUnitTimeScalePercent(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],100.)set Xn=1loopexitwhen Xn>8call TriggerSleepAction(.12)set pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),60.,60.))call SetUnitPositionLoc(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"attack")call AddSpecialEffectLocBJ(GetUnitLoc(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")call DestroyEffect(bj_lastCreatedEffect)set Lo=hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]set mo=Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]set Mo=1set po=pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]set Po=4.set qo=200.set Qo[1]="Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl"set Qo[2]="Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl"set so=falsecall ConditionalTriggerExecute(zd)call RemoveLocation(pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set Xn=Xn+1endloopcall DestroyEffect(mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetUnitPositionLoc(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SetUnitInvulnerable(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitInvulnerable(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call UnitDamageTargetBJ(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],40000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)call PauseUnit(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call PauseUnit(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call ResetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call ResetUnitAnimation(Hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(Jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction eMv takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='H023')or(GetUnitTypeId(GetTriggerUnit())=='H024')endfunctionfunction epv takes nothing returns booleanreturn(GetSpellAbilityId()=='A098')and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_FOOD_USED)=='d')and(Dr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(eMv())endfunctionfunction ePv takes nothing returns booleanreturn(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction eqv takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])))endfunctionfunction eQv takes nothing returns booleanreturn GetBooleanAnd(ePv(),eqv())endfunctionfunction esv takes nothing returns nothingcall SetUnitInvulnerable(GetEnumUnit(),true)call PauseUnit(GetEnumUnit(),true)endfunctionfunction eSv takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])))endfunctionfunction etv takes nothing returns booleanreturn(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction eTv takes nothing returns booleanreturn GetBooleanAnd(eSv(),etv())endfunctionfunction euv takes nothing returns booleanreturn(IsUnitAliveBJ(GetEnumUnit()))endfunctionfunction eUv takes nothing returns nothingcall SetUnitInvulnerable(GetEnumUnit(),false)call UnitDamageTargetBJ(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],GetEnumUnit(),10000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_ENHANCED)if(euv())thencall SetUnitInvulnerable(GetEnumUnit(),true)endifendfunctionfunction ewv takes nothing returns nothingcall PauseUnit(GetEnumUnit(),false)call SetUnitInvulnerable(GetEnumUnit(),false)endfunctionfunction eWv takes nothing returns nothingset hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetTriggerUnit()call SetPlayerStateBJ(GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),PLAYER_STATE_RESOURCE_FOOD_USED,0)set jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetUnitLoc(GetTriggerUnit())set Jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetSpellTargetLoc()set Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=tF(700.,GetSpellTargetLoc(),Condition(function eQv))call ForGroupBJ(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function esv)call PauseUnit(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call SetUnitInvulnerable(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)set kr[1]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,90.)set kr[2]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,160.)set kr[3]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,235.)set kr[4]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,305.)set kr[5]=jF(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],600.,20.)call AddLightningLoc("DRAM",kr[1],kr[3])set Kr[1]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[3])set Kr[2]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[2])set Kr[3]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[2],kr[4])set Kr[4]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[4],kr[1])set Kr[5]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[1],kr[3])set Kr[6]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[3])set Kr[7]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[5],kr[2])set Kr[8]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[2],kr[4])set Kr[9]=bj_lastCreatedLightningcall AddLightningLoc("DRAM",kr[4],kr[1])set Kr[$A]=bj_lastCreatedLightningcall GF(.5)call SetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"spell")call SetUnitTimeScalePercent(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],20.)call GF(.1)call AddSpecialEffectLocBJ(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call CreateTextTagUnitBJ("LIMIT BREAK!!!",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)set lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedTextTagcall GF(2.5)set ka=1loopexitwhen ka>$Acall DestroyLightning(Kr[ka])set ka=ka+1endloopcall DestroyTextTag(lr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call GF(.2)call CreateTextTagUnitBJ("ARCANE EXPLOSION!!!",hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],0,15.,'d',.0,.0,0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)call GF(1.)call SetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"channel")set Xn=1loopexitwhen Xn>6call GF(.2)set pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=GetRandomLocInRect(RectFromCenterSizeBJ(Jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],700.,700.))set qr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=tF(400.,pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],Condition(function eTv))call CreateNUnitsAtLoc(1,'h039',GetOwningPlayer(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]),pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],270.)call SetUnitTimeScalePercent(bj_lastCreatedUnit,50.)call ForGroupBJ(qr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function eUv)call DestroyGroup(qr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(pr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set Xn=Xn+1endloopcall GF(.2)call ForGroupBJ(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],function ewv)call SetUnitTimeScalePercent(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],100.)call PauseUnit(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call SetUnitInvulnerable(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],false)call IssueImmediateOrderById(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],$D0004)call ResetUnitAnimation(hr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call DestroyGroup(Mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call RemoveLocation(Jr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction eYv takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction ezv takes nothing returns nothingcall ForceAddPlayer(qe,GetOwningPlayer(GetTriggerUnit()))call StartTimerBJ(nx,false,60.)call CreateTimerDialogBJ(nx,"|cffff0000Time Remaining|r")set Nx=bj_lastCreatedTimerDialogset ue=GetRectCenter(kR)call CreateNUnitsAtLoc($A,'n01I',Player($A),ue,bj_UNIT_FACING)call CreateNUnitsAtLoc(8,'n01J',Player($A),ue,bj_UNIT_FACING)call EnableTrigger(CD)call RemoveLocation(ue)endfunctionfunction e_v takes nothing returns booleanreturn(CountPlayersInForceBJ(qe)==0)and(GetOrderTargetUnit()==wf)and(GetHeroLevel(GetTriggerUnit())>='d')and(IsUnitInGroup(GetTriggerUnit(),uF(110.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),kx)==false)endfunctionfunction e0v takes nothing returns nothingcall DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Angel Dawn|r : |cff87ceebYou are worthy enough to enter the Rite of Passage...at the end lies the pathway to the Unknown Regions. However, you must transverse it in 1 minute...get moving.")set Qe=GetRectCenter(NR)call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),Qe,0)call SetUnitPositionLoc(GetTriggerUnit(),Qe)call RemoveLocation(Qe)endfunctionfunction e2v takes nothing returns booleanreturn(GetOrderTargetUnit()==Wf)and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),kx)==false)endfunctionfunction e3v takes nothing returns nothingset rx=GetRectCenter(bR)call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00Angel Dawn|r : |cff87ceebVery well, I shall teleport you back to Mount Twilight.")call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),rx,0)call SetUnitPositionLoc(GetTriggerUnit(),rx)call RemoveLocation(rx)endfunctionfunction e5v takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)!=nullendfunctionfunction e6v takes nothing returns nothingcall IssuePointOrderByIdLoc(GetEnumUnit(),$D000F,Se)endfunctionfunction e7v takes nothing returns nothingset se=GetRectCenter(cR)set Se=GetRectCenter(NR)call CreateNUnitsAtLoc(5,'n01I',Player($A),se,bj_UNIT_FACING)call CreateNUnitsAtLoc(4,'n01J',Player($A),se,bj_UNIT_FACING)set OV=PF(rX,Condition(function e5v))call ForGroupBJ(OV,function e6v)call DestroyGroup(OV)call RemoveLocation(se)call RemoveLocation(Se)endfunctionfunction e9v takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction xvv takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),ze))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Ye)==false)endfunctionfunction xev takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)!=nullendfunctionfunction xxv takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction xov takes nothing returns nothingcall ForceRemovePlayer(qe,GetOwningPlayer(GetTriggerUnit()))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),4.,"Entering the |cffffcc00Unknown Regions...|r")set ax=GetRectCenter(BR)call SetUnitPositionLoc(GetTriggerUnit(),ax)call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),ax,0)if(xvv())thencall ForceAddPlayer(Ye,GetOwningPlayer(GetTriggerUnit()))endifset OV=PF(rX,Condition(function xev))call ForGroupBJ(OV,function xxv)call DisableTrigger(CD)call DestroyTimerDialog(Nx)call DestroyGroup(OV)call RemoveLocation(ax)endfunctionfunction xiv takes nothing returns booleanreturn((IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO))and(IsPlayerInForce(GetOwningPlayer(GetDyingUnit()),qe)))!=nullendfunctionfunction xav takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)!=nullendfunctionfunction xnv takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction xVv takes nothing returns nothingcall ForceRemovePlayer(qe,GetOwningPlayer(GetTriggerUnit()))set OV=PF(rX,Condition(function xav))call ForGroupBJ(OV,function xnv)call DestroyGroup(OV)call DisableTrigger(CD)call DestroyTimerDialog(Nx)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),4.,"|cffffcc00You have failed to transverse the Rite of Passage!|r")endfunctionfunction xXv takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction xOv takes nothing returns nothingcall SetUnitPositionLoc(GetEnumUnit(),Y[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])endfunctionfunction xRv takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)!=nullendfunctionfunction xIv takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction xAv takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),Y[(1+GetPlayerId(GetEnumPlayer()))],0)endfunctionfunction xNv takes nothing returns nothingset OV=PF(rX,Condition(function xXv))call ForGroupBJ(OV,function xOv)call DestroyGroup(OV)set OV=PF(rX,Condition(function xRv))call ForGroupBJ(OV,function xIv)call DestroyGroup(OV)call ForForce(qe,function xAv)call DisableTrigger(CD)call DestroyTimerDialog(Nx)call DisplayTimedTextToForce(qe,4.,"|cffffcc00You have failed to transverse the Rite of Passage!|r")call ForceClear(qe)endfunctionfunction xBv takes nothing returns booleanreturn(GetSpellAbilityId()=='A09P')endfunctionfunction xcv takes nothing returns nothingcall SetCameraTargetControllerNoZForPlayer(GetOwningPlayer(GetEnumUnit()),GetEnumUnit(),0,0,false)endfunctionfunction xCv takes nothing returns booleanreturn(Ha==1)endfunctionfunction xdv takes nothing returns nothingcall DisplayTimedTextToForce(YF(GetEnumPlayer()),5.,"TRIGSTR_11640")endfunctionfunction xDv takes nothing returns booleanreturn(Ha==2)endfunctionfunction xfv takes nothing returns nothingcall DisplayTimedTextToForce(YF(GetEnumPlayer()),5.,"TRIGSTR_11645")endfunctionfunction xFv takes nothing returns booleanreturn(Ha==3)endfunctionfunction xgv takes nothing returns nothingcall DisplayTimedTextToForce(YF(GetEnumPlayer()),5.,"TRIGSTR_11647")endfunctionfunction xGv takes nothing returns booleanreturn(Ha==4)endfunctionfunction xhv takes nothing returns nothingcall DisplayTimedTextToForce(YF(GetEnumPlayer()),5.,"TRIGSTR_11649")endfunctionfunction xHv takes nothing returns booleanreturn(IsUnitInGroup(GetEnumUnit(),ja)==false)endfunctionfunction xjv takes nothing returns nothingcall ResetToGameCameraForPlayer(GetOwningPlayer(GetEnumUnit()),0)if(xHv())thenset Ja=GetUnitLoc(GetEnumUnit())call CreateNUnitsAtLoc(1,'h042',GetOwningPlayer(GetTriggerUnit()),Ja,bj_UNIT_FACING)call KillUnit(GetEnumUnit())call RemoveLocation(Ja)endifendfunctionfunction xJv takes nothing returns nothingset ha=GetUnitLoc(GetTriggerUnit())set Ka=GetUnitLoc(GetSpellTargetUnit())call SetUnitAnimation(GetTriggerUnit(),"attack")call SetUnitTimeScalePercent(GetTriggerUnit(),10.)call GF(.3)call CreateNUnitsAtLoc(1,'h040',GetOwningPlayer(GetTriggerUnit()),ha,270.)call SetUnitTimeScalePercent(bj_lastCreatedUnit,10.)call GF(.5)call ForGroupBJ(mi[$C],function xcv)call EnableTrigger(gD)call EnableTrigger(GD)call EnableTrigger(hD)call EnableTrigger(HD)set Ha=GetRandomInt(1,4)if(xCv())thencall ForForce(Mi[$C],function xdv)endifif(xDv())thencall ForForce(Mi[$C],function xfv)endifif(xFv())thencall ForForce(Mi[$C],function xgv)endifif(xGv())thencall ForForce(Mi[$C],function xhv)endifcall GF(2.)call DisableTrigger(gD)call DisableTrigger(GD)call DisableTrigger(hD)call DisableTrigger(HD)call CreateNUnitsAtLoc(1,'h041',GetOwningPlayer(GetTriggerUnit()),Ka,bj_UNIT_FACING)call SetUnitTimeScalePercent(bj_lastCreatedUnit,20.)call GF(1)call ForGroupBJ(mi[$C],function xjv)set ma=1loopexitwhen ma>$Aset La[ma]=0set ma=ma+1endloopcall GroupClear(ja)call GroupClear(la)call SetUnitTimeScalePercent(GetTriggerUnit(),100.)call RemoveLocation(Ka)call RemoveLocation(ha)endfunctionfunction xKv takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),Mi[$C]))and(Ha==1)endfunctionfunction xlv takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction xLv takes nothing returns booleanreturn(La[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))]==4)endfunctionfunction xmv takes nothing returns booleanreturn(IsUnitInGroup(GetEnumUnit(),ja)==false)and(IsUnitInGroup(GetEnumUnit(),la)==false)endfunctionfunction xMv takes nothing returns nothingif(xmv())thencall GroupAddUnit(ja,GetEnumUnit())call CreateTextTagUnitBJ("|cffffcc00Nice Dodge!|r",GetEnumUnit(),0,14.,'d','d','d',0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,45.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.5)elseif(xLv())thencall GroupRemoveUnit(ja,GetEnumUnit())call GroupAddUnit(la,GetEnumUnit())call CreateTextTagUnitBJ("|cffff0000Overdodge!|r",GetEnumUnit(),0,15.,'d','d','d',0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,45.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.5)endifendifendfunctionfunction xpv takes nothing returns nothingset La[(1+GetPlayerId(GetTriggerPlayer()))]=(La[(1+GetPlayerId(GetTriggerPlayer()))]+1)set gr=WF(GetTriggerPlayer(),Condition(function xlv))call ForGroupBJ(gr,function xMv)call DestroyGroup(gr)endfunctionfunction xqv takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),Mi[$C]))and(Ha==2)endfunctionfunction xQv takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction xsv takes nothing returns booleanreturn(La[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))]==4)endfunctionfunction xSv takes nothing returns booleanreturn(IsUnitInGroup(GetEnumUnit(),ja)==false)and(IsUnitInGroup(GetEnumUnit(),la)==false)endfunctionfunction xtv takes nothing returns nothingif(xSv())thencall GroupAddUnit(ja,GetEnumUnit())call CreateTextTagUnitBJ("|cffffcc00Nice Dodge!|r",GetEnumUnit(),0,14.,'d','d','d',0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,45.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.5)elseif(xsv())thencall GroupRemoveUnit(ja,GetEnumUnit())call GroupAddUnit(la,GetEnumUnit())call CreateTextTagUnitBJ("|cffff0000Overdodge!|r",GetEnumUnit(),0,15.,'d','d','d',0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,45.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.5)endifendifendfunctionfunction xTv takes nothing returns nothingset La[(1+GetPlayerId(GetTriggerPlayer()))]=(La[(1+GetPlayerId(GetTriggerPlayer()))]+1)set gr=WF(GetTriggerPlayer(),Condition(function xQv))call ForGroupBJ(gr,function xtv)call DestroyGroup(gr)endfunctionfunction xUv takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),Mi[$C]))and(Ha==3)endfunctionfunction xwv takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction xWv takes nothing returns booleanreturn(La[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))]==4)endfunctionfunction xyv takes nothing returns booleanreturn(IsUnitInGroup(GetEnumUnit(),ja)==false)and(IsUnitInGroup(GetEnumUnit(),la)==false)endfunctionfunction xYv takes nothing returns nothingif(xyv())thencall GroupAddUnit(ja,GetEnumUnit())call CreateTextTagUnitBJ("|cffffcc00Nice Dodge!|r",GetEnumUnit(),0,14.,'d','d','d',0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,45.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.5)elseif(xWv())thencall GroupRemoveUnit(ja,GetEnumUnit())call GroupAddUnit(la,GetEnumUnit())call CreateTextTagUnitBJ("|cffff0000Overdodge!|r",GetEnumUnit(),0,15.,'d','d','d',0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,45.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.5)endifendifendfunctionfunction xzv takes nothing returns nothingset La[(1+GetPlayerId(GetTriggerPlayer()))]=(La[(1+GetPlayerId(GetTriggerPlayer()))]+1)set gr=WF(GetTriggerPlayer(),Condition(function xwv))call ForGroupBJ(gr,function xYv)call DestroyGroup(gr)endfunctionfunction x_v takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),Mi[$C]))and(Ha==4)endfunctionfunction x0v takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction x1v takes nothing returns booleanreturn(La[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))]==4)endfunctionfunction x2v takes nothing returns booleanreturn(IsUnitInGroup(GetEnumUnit(),ja)==false)and(IsUnitInGroup(GetEnumUnit(),la)==false)endfunctionfunction x3v takes nothing returns nothingif(x2v())thencall GroupAddUnit(ja,GetEnumUnit())call CreateTextTagUnitBJ("|cffffcc00Nice Dodge!|r",GetEnumUnit(),0,14.,'d','d','d',0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,45.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.5)elseif(x1v())thencall GroupRemoveUnit(ja,GetEnumUnit())call GroupAddUnit(la,GetEnumUnit())call CreateTextTagUnitBJ("|cffff0000Overdodge!|r",GetEnumUnit(),0,15.,'d','d','d',0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,45.,90)call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.5)call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.5)endifendifendfunctionfunction x4v takes nothing returns nothingset La[(1+GetPlayerId(GetTriggerPlayer()))]=(La[(1+GetPlayerId(GetTriggerPlayer()))]+1)set gr=WF(GetTriggerPlayer(),Condition(function x0v))call ForGroupBJ(gr,function x3v)call DestroyGroup(gr)endfunctionfunction x6v takes nothing returns booleanreturn(GetSpellAbilityId()=='A028')endfunctionfunction x7v takes nothing returns nothingcall PlaySoundAtPointBJ(fI,'d',GetUnitLoc(GetTriggerUnit()),0)set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=3loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall CreateNUnitsAtLoc(1,'ngsp',Player($A),GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(GetTriggerUnit()),100.,100.)),bj_UNIT_FACING)call IssueTargetOrderById(bj_lastCreatedUnit,$D0048,GroupPickRandomUnit(uF(600.,GetUnitLoc(bj_lastCreatedUnit))))set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction x9v takes nothing returns booleanreturn(GetUnitTypeId(GetSpellTargetUnit())=='U00R')or(GetUnitTypeId(GetSpellTargetUnit())=='U00C')endfunctionfunction ovv takes nothing returns booleanreturn(x9v())and(GetSpellAbilityId()!='A06U')and(GetSpellAbilityId()!='A04P')and(GetSpellAbilityId()!='A06Y')endfunctionfunction oev takes nothing returns nothingcall DisableTrigger(GetTriggeringTrigger())set Eo=GetSpellTargetUnit()call AddSpecialEffectTargetUnitBJ("overhead",Eo,"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)call UnitRemoveAbility(Eo,Vo)set Vo=GetSpellAbilityId()set Xo=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())call UnitAddAbility(Eo,Vo)call SetUnitAbilityLevelSwapped(Vo,Eo,Xo)call GF(30)call EnableTrigger(GetTriggeringTrigger())endfunctionfunction oov takes nothing returns booleanreturn(RectContainsUnit(dX,oV))endfunctionfunction orv takes nothing returns booleanreturn(RectContainsUnit(CX,oV))endfunctionfunction oiv takes nothing returns booleanreturn(RectContainsUnit(cX,oV))endfunctionfunction oav takes nothing returns booleanreturn(RectContainsUnit(BX,oV))endfunctionfunction onv takes nothing returns booleanreturn(RectContainsUnit(bX,oV))endfunctionfunction oVv takes nothing returns nothingset xV[(1+GetPlayerId(tn))]=0if(onv())thenset Zn=1call UnitAddItemByIdSwapped('I050',oV)elseif(oav())thenset Zn=3call UnitAddItemByIdSwapped('I051',oV)elseif(oiv())thenset Zn=5call UnitAddItemByIdSwapped('I058',oV)elseif(orv())thenset Zn=7call UnitAddItemByIdSwapped('I056',oV)elseif(oov())thenset Zn=9call UnitAddItemByIdSwapped('I059',oV)endifendifendifendifendifendfunctionfunction oXv takes nothing returns booleanreturn(vV<=90)endfunctionfunction oOv takes nothing returns booleanreturn(RectContainsUnit(dX,oV))endfunctionfunction oRv takes nothing returns booleanreturn(vV<=90)endfunctionfunction oIv takes nothing returns booleanreturn(RectContainsUnit(CX,oV))endfunctionfunction oAv takes nothing returns booleanreturn(vV<=90)endfunctionfunction oNv takes nothing returns booleanreturn(RectContainsUnit(cX,oV))endfunctionfunction obv takes nothing returns booleanreturn(vV<=90)endfunctionfunction oBv takes nothing returns booleanreturn(RectContainsUnit(BX,oV))endfunctionfunction ocv takes nothing returns booleanreturn(vV<=90)endfunctionfunction oCv takes nothing returns booleanreturn(RectContainsUnit(bX,oV))endfunctionfunction odv takes nothing returns nothingset xV[(1+GetPlayerId(tn))]=0if(oCv())thenset vV=GetRandomInt(1,'d')if(ocv())thenset Zn=(2*2)call UnitAddItemByIdSwapped('I05A',oV)elseset Zn=(1*2)call UnitAddItemByIdSwapped('I050',oV)endifelseif(oBv())thenset vV=GetRandomInt(1,'d')if(obv())thenset Zn=(4*2)call UnitAddItemByIdSwapped('I057',oV)elseset Zn=(3*2)call UnitAddItemByIdSwapped('I051',oV)endifelseif(oNv())thenset vV=GetRandomInt(1,'d')if(oAv())thenset Zn=(6*2)call UnitAddItemByIdSwapped('I053',oV)elseset Zn=(5*2)call UnitAddItemByIdSwapped('I058',oV)endifelseif(oIv())thenset vV=GetRandomInt(1,'d')if(oRv())thenset Zn=(8*2)call UnitAddItemByIdSwapped('I055',oV)elseset Zn=(7*2)call UnitAddItemByIdSwapped('I056',oV)endifelseif(oOv())thenset vV=GetRandomInt(1,'d')if(oXv())thenset Zn=($A*2)call UnitAddItemByIdSwapped('I052',oV)elseset Zn=(9*2)call UnitAddItemByIdSwapped('I059',oV)endifendifendifendifendifendifendfunctionfunction ofv takes nothing returns booleanreturn(xV[(1+GetPlayerId(tn))]>=5)endfunctionfunction oFv takes nothing returns booleanreturn(eV<=75)endfunctionfunction ogv takes nothing returns booleanreturn(vV>=70)endfunctionfunction oGv takes nothing returns booleanreturn(eV<=75)endfunctionfunction ohv takes nothing returns booleanreturn(vV<=20)endfunctionfunction oHv takes nothing returns booleanreturn(RectContainsUnit(dX,oV))endfunctionfunction ojv takes nothing returns booleanreturn(eV<=30)endfunctionfunction oJv takes nothing returns booleanreturn(eV<=75)endfunctionfunction okv takes nothing returns booleanreturn(vV>=80)endfunctionfunction oKv takes nothing returns booleanreturn(eV<=75)endfunctionfunction olv takes nothing returns booleanreturn(vV<=$A)endfunctionfunction oLv takes nothing returns booleanreturn(RectContainsUnit(CX,oV))endfunctionfunction omv takes nothing returns booleanreturn(eV<=30)endfunctionfunction oMv takes nothing returns booleanreturn(eV<=75)endfunctionfunction opv takes nothing returns booleanreturn(vV>=80)endfunctionfunction oPv takes nothing returns booleanreturn(eV<=75)endfunctionfunction oqv takes nothing returns booleanreturn(vV<=$A)endfunctionfunction oQv takes nothing returns booleanreturn(RectContainsUnit(cX,oV))endfunctionfunction osv takes nothing returns booleanreturn(eV<=30)endfunctionfunction oSv takes nothing returns booleanreturn(eV<=75)endfunctionfunction otv takes nothing returns booleanreturn(vV>=80)endfunctionfunction oTv takes nothing returns booleanreturn(eV<=75)endfunctionfunction ouv takes nothing returns booleanreturn(vV<=$A)endfunctionfunction oUv takes nothing returns booleanreturn(RectContainsUnit(BX,oV))endfunctionfunction owv takes nothing returns booleanreturn(eV<=30)endfunctionfunction oWv takes nothing returns booleanreturn(eV<=75)endfunctionfunction oyv takes nothing returns booleanreturn(vV>=80)endfunctionfunction oYv takes nothing returns booleanreturn(eV<=75)endfunctionfunction ozv takes nothing returns booleanreturn(vV<=$A)endfunctionfunction oZv takes nothing returns booleanreturn(RectContainsUnit(bX,oV))endfunctionfunction o_v takes nothing returns nothingif(oZv())thenset vV=GetRandomInt(1,'d')set eV=GetRandomInt(1,'d')if(ozv())thencall DisplayTimedTextToForce(YF(tn),5.,"|cffff8c00You got lucky and caught 3 fishes in one overhaul!|r")if(oYv())thenset Zn=(2*3)call UnitAddItemByIdSwapped('I05A',oV)call UnitAddItemByIdSwapped('I05A',oV)call UnitAddItemByIdSwapped('I05A',oV)elseset Zn=(1*3)call UnitAddItemByIdSwapped('I050',oV)call UnitAddItemByIdSwapped('I050',oV)call UnitAddItemByIdSwapped('I050',oV)endifelseif(oyv())thencall DisplayTimedTextToForce(YF(tn),5.,"|cffff8c00You got lucky and caught 2 fishes in one overhaul!|r")if(oWv())thenset Zn=(2*3)call UnitAddItemByIdSwapped('I05A',oV)call UnitAddItemByIdSwapped('I05A',oV)elseset Zn=(1*3)call UnitAddItemByIdSwapped('I050',oV)call UnitAddItemByIdSwapped('I050',oV)endifelseif(owv())thenset Zn=(2*3)call UnitAddItemByIdSwapped('I05A',oV)elseset Zn=(3*3)call UnitAddItemByIdSwapped('I051',oV)endifendifendifelseif(oUv())thenset vV=GetRandomInt(1,'d')set eV=GetRandomInt(1,'d')if(ouv())thencall DisplayTimedTextToForce(YF(tn),5.,"|cffff8c00You got lucky and caught 3 fishes in one overhaul!|r")if(oTv())thenset Zn=(4*3)call UnitAddItemByIdSwapped('I057',oV)call UnitAddItemByIdSwapped('I057',oV)call UnitAddItemByIdSwapped('I057',oV)elseset Zn=(3*3)call UnitAddItemByIdSwapped('I051',oV)call UnitAddItemByIdSwapped('I051',oV)call UnitAddItemByIdSwapped('I051',oV)endifelseif(otv())thencall DisplayTimedTextToForce(YF(tn),5.,"|cffff8c00You got lucky and caught 2 fishes in one overhaul!|r")if(oSv())thenset Zn=(4*3)call UnitAddItemByIdSwapped('I057',oV)call UnitAddItemByIdSwapped('I057',oV)elseset Zn=(3*3)call UnitAddItemByIdSwapped('I051',oV)call UnitAddItemByIdSwapped('I051',oV)endifelseif(osv())thenset Zn=(4*3)call UnitAddItemByIdSwapped('I057',oV)elseset Zn=(5*3)call UnitAddItemByIdSwapped('I058',oV)endifendifendifelseif(oQv())thenset vV=GetRandomInt(1,'d')set eV=GetRandomInt(1,'d')if(oqv())thencall DisplayTimedTextToForce(YF(tn),5.,"|cffff8c00You got lucky and caught 3 fishes in one overhaul!|r")if(oPv())thenset Zn=(6*3)call UnitAddItemByIdSwapped('I053',oV)call UnitAddItemByIdSwapped('I053',oV)call UnitAddItemByIdSwapped('I053',oV)elseset Zn=(5*3)call UnitAddItemByIdSwapped('I058',oV)call UnitAddItemByIdSwapped('I058',oV)call UnitAddItemByIdSwapped('I058',oV)endifelseif(opv())thencall DisplayTimedTextToForce(YF(tn),5.,"|cffff8c00You got lucky and caught 2 fishes in one overhaul!|r")if(oMv())thenset Zn=(6*3)call UnitAddItemByIdSwapped('I053',oV)call UnitAddItemByIdSwapped('I053',oV)elseset Zn=(5*3)call UnitAddItemByIdSwapped('I058',oV)call UnitAddItemByIdSwapped('I058',oV)endifelseif(omv())thenset Zn=(6*3)call UnitAddItemByIdSwapped('I053',oV)elseset Zn=(7*3)call UnitAddItemByIdSwapped('I056',oV)endifendifendifelseif(oLv())thenset vV=GetRandomInt(1,'d')set eV=GetRandomInt(1,'d')if(olv())thencall DisplayTimedTextToForce(YF(tn),5.,"|cffff8c00You got lucky and caught 3 fishes in one overhaul!|r")if(oKv())thenset Zn=(8*3)call UnitAddItemByIdSwapped('I055',oV)call UnitAddItemByIdSwapped('I055',oV)call UnitAddItemByIdSwapped('I055',oV)elseset Zn=(7*3)call UnitAddItemByIdSwapped('I056',oV)call UnitAddItemByIdSwapped('I056',oV)call UnitAddItemByIdSwapped('I056',oV)endifelseif(okv())thencall DisplayTimedTextToForce(YF(tn),5.,"|cffff8c00You got lucky and caught 2 fishes in one overhaul!|r")if(oJv())thenset Zn=(8*3)call UnitAddItemByIdSwapped('I055',oV)call UnitAddItemByIdSwapped('I055',oV)elseset Zn=(7*3)call UnitAddItemByIdSwapped('I056',oV)call UnitAddItemByIdSwapped('I056',oV)endifelseif(ojv())thenset Zn=(8*3)call UnitAddItemByIdSwapped('I055',oV)elseset Zn=(9*3)call UnitAddItemByIdSwapped('I059',oV)endifendifendifelseif(oHv())thenset xV[(1+GetPlayerId(tn))]=(xV[(1+GetPlayerId(tn))]+1)if(ofv())thenset xV[(1+GetPlayerId(tn))]=0call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,("|cffffcc00"+(GetPlayerName(tn)+"|r has lured a Flying Wish Fish from the depths!")))set rV=GetRectCenter(DX)call CreateNUnitsAtLoc(1,'n02Z',Player($C),rV,bj_UNIT_FACING)call InitHashtableBJ()set aV=GetLastCreatedHashtableBJ()call SaveIntegerBJ((1+GetPlayerId(tn)),(1+GetPlayerId(tn)),GetHandleIdBJ(bj_lastCreatedUnit),aV)call RemoveLocation(rV)returnendifset vV=GetRandomInt(1,'d')set eV=GetRandomInt(1,'d')if(ohv())thencall DisplayTimedTextToForce(YF(tn),5.,"|cffff8c00You got lucky and caught 3 fishes in one overhaul!|r")if(oGv())thenset Zn=($A*3)call UnitAddItemByIdSwapped('I052',oV)call UnitAddItemByIdSwapped('I052',oV)call UnitAddItemByIdSwapped('I052',oV)elseset Zn=(9*3)call UnitAddItemByIdSwapped('I059',oV)call UnitAddItemByIdSwapped('I059',oV)call UnitAddItemByIdSwapped('I059',oV)endifelseif(ogv())thencall DisplayTimedTextToForce(YF(tn),5.,"|cffff8c00You got lucky and caught 2 fishes in one overhaul!|r")if(oFv())thenset Zn=($A*3)call UnitAddItemByIdSwapped('I052',oV)call UnitAddItemByIdSwapped('I052',oV)elseset Zn=(9*3)call UnitAddItemByIdSwapped('I059',oV)call UnitAddItemByIdSwapped('I059',oV)endifelseset Zn=($A*3)call UnitAddItemByIdSwapped('I052',oV)endifendifendifendifendifendifendifendfunctionfunction o1v takes nothing returns booleanreturn(Hn[(1+GetPlayerId(tn))]==5)endfunctionfunction o2v takes nothing returns booleanreturn(zn[(1+GetPlayerId(tn))]>=Fn[(1+GetPlayerId(tn))])endfunctionfunction o3v takes nothing returns booleanreturn(Fn[(1+GetPlayerId(tn))]<(50*Hn[(1+GetPlayerId(tn))]))endfunctionfunction o4v takes nothing returns nothingif(o3v())thenset zn[(1+GetPlayerId(tn))]=(zn[(1+GetPlayerId(tn))]+Zn)if(o2v())thenset zn[(1+GetPlayerId(tn))]=0set Fn[(1+GetPlayerId(tn))]=(Fn[(1+GetPlayerId(tn))]+1)call DisplayTimedTextToForce(YF(tn),5.,"|cff00ff00Your Profession Level has just increased by 1!|r")elsecall DisplayTimedTextToForce(YF(tn),5.,("You earned |cffffcc00"+(I2S(Zn)+" Profession Experience Point(s)!|r")))endifelseif(o1v())thencall DisplayTimedTextToForce(YF(tn),5.,"|cff00ff00You have reached the highest level limit for your Profession.|r")elsecall DisplayTimedTextToForce(YF(tn),15.,"|cffff0000You have reached the level limit for your current rank. You must be promoted to a higher rank in order to continue increasing your Profession Level.|r")endifendifendfunctionfunction o6v takes nothing returns booleanreturn(GetItemTypeId(GetManipulatedItem())=='I04W')or(GetItemTypeId(GetManipulatedItem())=='I04Z')or(GetItemTypeId(GetManipulatedItem())=='I04X')or(GetItemTypeId(GetManipulatedItem())=='I04Y')or(GetItemTypeId(GetManipulatedItem())=='I04V')endfunctionfunction o7v takes nothing returns booleanreturn(RectContainsUnit(bX,GetTriggerUnit()))and(gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(o6v())and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),kx)==false)endfunctionfunction o8v takes nothing returns booleanreturn(hn<=5)endfunctionfunction o9v takes nothing returns booleanreturn(Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]!=5)endfunctionfunction rvv takes nothing returns booleanreturn(hn<=80)endfunctionfunction rev takes nothing returns booleanreturn(Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]!=5)endfunctionfunction rxv takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())<=4)endfunctionfunction rov takes nothing returns nothingif(rxv())thencall ForceAddPlayer(wn,GetOwningPlayer(GetTriggerUnit()))call PauseUnit(GetTriggerUnit(),true)call SetUnitInvulnerable(GetTriggerUnit(),true)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00You swing your fishing line into the water.|r")call GF(GetRandomReal(2.,4.))if(o9v())thenset hn=GetRandomInt(1,'d')if(o8v())thencall KillUnit(GetTriggerUnit())call PauseUnit(GetTriggerUnit(),false)call SetUnitInvulnerable(GetTriggerUnit(),false)call ForceRemovePlayer(wn,GetOwningPlayer(GetTriggerUnit()))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),10.,"TRIGSTR_10270")returnendifendifif(rev())thenset hn=GetRandomInt(1,'d')if(rvv())thencall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00You feel a tug on your fishing rod!|r")call SetCameraTargetControllerNoZForPlayer(GetOwningPlayer(GetTriggerUnit()),GetTriggerUnit(),0,0,false)set Wn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0set tn=GetOwningPlayer(GetTriggerUnit())call TriggerExecute(sD)elsecall PauseUnit(GetTriggerUnit(),false)call SetUnitInvulnerable(GetTriggerUnit(),false)call ForceRemovePlayer(wn,GetOwningPlayer(GetTriggerUnit()))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00There seems to be no bite.|r")endifelsecall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00You feel a tug on your fishing rod!|r")call SetCameraTargetControllerNoZForPlayer(GetOwningPlayer(GetTriggerUnit()),GetTriggerUnit(),0,0,false)set Wn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0set tn=GetOwningPlayer(GetTriggerUnit())call TriggerExecute(sD)endifelsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff0000Inventory must have at least 2 empty slots in order to begin fishing.|r")endifendfunctionfunction riv takes nothing returns booleanreturn(GetItemTypeId(GetManipulatedItem())=='I04Z')or(GetItemTypeId(GetManipulatedItem())=='I04X')or(GetItemTypeId(GetManipulatedItem())=='I04Y')or(GetItemTypeId(GetManipulatedItem())=='I04V')endfunctionfunction rav takes nothing returns booleanreturn(RectContainsUnit(BX,GetTriggerUnit()))and(gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(riv())and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),kx)==false)endfunctionfunction rnv takes nothing returns booleanreturn(hn<=5)endfunctionfunction rVv takes nothing returns booleanreturn(Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]!=5)endfunctionfunction rEv takes nothing returns booleanreturn(hn<=80)endfunctionfunction rXv takes nothing returns booleanreturn(Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]!=5)endfunctionfunction rOv takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())<=4)endfunctionfunction rRv takes nothing returns nothingif(rOv())thencall ForceAddPlayer(wn,GetOwningPlayer(GetTriggerUnit()))call PauseUnit(GetTriggerUnit(),true)call SetUnitInvulnerable(GetTriggerUnit(),true)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00You swing your fishing line into the water.|r")call GF(GetRandomReal(2.,4.))if(rVv())thenset hn=GetRandomInt(1,'d')if(rnv())thencall KillUnit(GetTriggerUnit())call PauseUnit(GetTriggerUnit(),false)call SetUnitInvulnerable(GetTriggerUnit(),false)call ForceRemovePlayer(wn,GetOwningPlayer(GetTriggerUnit()))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),10.,"TRIGSTR_292")returnendifendifif(rXv())thenset hn=GetRandomInt(1,'d')if(rEv())thencall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00You feel a tug on your fishing rod!|r")call SetCameraTargetControllerNoZForPlayer(GetOwningPlayer(GetTriggerUnit()),GetTriggerUnit(),0,0,false)set Wn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0set tn=GetOwningPlayer(GetTriggerUnit())call TriggerExecute(sD)elsecall PauseUnit(GetTriggerUnit(),false)call SetUnitInvulnerable(GetTriggerUnit(),false)call ForceRemovePlayer(wn,GetOwningPlayer(GetTriggerUnit()))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00There seems to be no bite.|r")endifelsecall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00You feel a tug on your fishing rod!|r")call SetCameraTargetControllerNoZForPlayer(GetOwningPlayer(GetTriggerUnit()),GetTriggerUnit(),0,0,false)set Wn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0set tn=GetOwningPlayer(GetTriggerUnit())call TriggerExecute(sD)endifelsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff0000Inventory must have at least 2 empty slots in order to begin fishing.|r")endifendfunctionfunction rAv takes nothing returns booleanreturn(GetItemTypeId(GetManipulatedItem())=='I04X')or(GetItemTypeId(GetManipulatedItem())=='I04Y')or(GetItemTypeId(GetManipulatedItem())=='I04V')endfunctionfunction rNv takes nothing returns booleanreturn(RectContainsUnit(cX,GetTriggerUnit()))and(gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(rAv())and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),kx)==false)endfunctionfunction rbv takes nothing returns booleanreturn(hn<=5)endfunctionfunction rBv takes nothing returns booleanreturn(Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]!=5)endfunctionfunction rcv takes nothing returns booleanreturn(hn<=80)endfunctionfunction rCv takes nothing returns booleanreturn(Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]!=5)endfunctionfunction rdv takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())<=4)endfunctionfunction rDv takes nothing returns nothingif(rdv())thencall ForceAddPlayer(wn,GetOwningPlayer(GetTriggerUnit()))call PauseUnit(GetTriggerUnit(),true)call SetUnitInvulnerable(GetTriggerUnit(),true)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00You swing your fishing line into the water.|r")call GF(GetRandomReal(2.,4.))if(rBv())thenset hn=GetRandomInt(1,'d')if(rbv())thencall KillUnit(GetTriggerUnit())call PauseUnit(GetTriggerUnit(),false)call SetUnitInvulnerable(GetTriggerUnit(),false)call ForceRemovePlayer(wn,GetOwningPlayer(GetTriggerUnit()))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),10.,"TRIGSTR_294")returnendifendifif(rCv())thenset hn=GetRandomInt(1,'d')if(rcv())thencall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00You feel a tug on your fishing rod!|r")call SetCameraTargetControllerNoZForPlayer(GetOwningPlayer(GetTriggerUnit()),GetTriggerUnit(),0,0,false)set Wn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0set tn=GetOwningPlayer(GetTriggerUnit())call TriggerExecute(sD)elsecall PauseUnit(GetTriggerUnit(),false)call SetUnitInvulnerable(GetTriggerUnit(),false)call ForceRemovePlayer(wn,GetOwningPlayer(GetTriggerUnit()))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00There seems to be no bite.|r")endifelsecall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00You feel a tug on your fishing rod!|r")call SetCameraTargetControllerNoZForPlayer(GetOwningPlayer(GetTriggerUnit()),GetTriggerUnit(),0,0,false)set Wn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0set tn=GetOwningPlayer(GetTriggerUnit())call TriggerExecute(sD)endifelsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff0000Inventory must have at least 2 empty slots in order to begin fishing.|r")endifendfunctionfunction rFv takes nothing returns booleanreturn(GetItemTypeId(GetManipulatedItem())=='I04Y')or(GetItemTypeId(GetManipulatedItem())=='I04V')endfunctionfunction rgv takes nothing returns booleanreturn(RectContainsUnit(CX,GetTriggerUnit()))and(gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(rFv())and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),kx)==false)endfunctionfunction rGv takes nothing returns booleanreturn(hn<=5)endfunctionfunction rhv takes nothing returns booleanreturn(Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]!=5)endfunctionfunction rHv takes nothing returns booleanreturn(hn<=80)endfunctionfunction rjv takes nothing returns booleanreturn(Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]!=5)endfunctionfunction rJv takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())<=4)endfunctionfunction rkv takes nothing returns nothingif(rJv())thencall ForceAddPlayer(wn,GetOwningPlayer(GetTriggerUnit()))call PauseUnit(GetTriggerUnit(),true)call SetUnitInvulnerable(GetTriggerUnit(),true)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00You swing your fishing line into the water.|r")call GF(GetRandomReal(2.,4.))if(rhv())thenset hn=GetRandomInt(1,'d')if(rGv())thencall KillUnit(GetTriggerUnit())call PauseUnit(GetTriggerUnit(),false)call SetUnitInvulnerable(GetTriggerUnit(),false)call ForceRemovePlayer(wn,GetOwningPlayer(GetTriggerUnit()))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),10.,"TRIGSTR_1862")returnendifendifif(rjv())thenset hn=GetRandomInt(1,'d')if(rHv())thencall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00You feel a tug on your fishing rod!|r")call SetCameraTargetControllerNoZForPlayer(GetOwningPlayer(GetTriggerUnit()),GetTriggerUnit(),0,0,false)set Wn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0set tn=GetOwningPlayer(GetTriggerUnit())call TriggerExecute(sD)elsecall PauseUnit(GetTriggerUnit(),false)call SetUnitInvulnerable(GetTriggerUnit(),false)call ForceRemovePlayer(wn,GetOwningPlayer(GetTriggerUnit()))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00There seems to be no bite.|r")endifelsecall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00You feel a tug on your fishing rod!|r")call SetCameraTargetControllerNoZForPlayer(GetOwningPlayer(GetTriggerUnit()),GetTriggerUnit(),0,0,false)set Wn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0set tn=GetOwningPlayer(GetTriggerUnit())call TriggerExecute(sD)endifelsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff0000Inventory must have at least 2 empty slots in order to begin fishing.|r")endifendfunctionfunction rlv takes nothing returns booleanreturn(RectContainsUnit(dX,GetTriggerUnit()))and(gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(GetItemTypeId(GetManipulatedItem())=='I04V')and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),kx)==false)endfunctionfunction rLv takes nothing returns booleanreturn(hn<=5)endfunctionfunction rmv takes nothing returns booleanreturn(Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]!=5)endfunctionfunction rMv takes nothing returns booleanreturn(hn<=80)endfunctionfunction rpv takes nothing returns booleanreturn(Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]!=5)endfunctionfunction rPv takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())<=4)endfunctionfunction rqv takes nothing returns nothingif(rPv())thencall ForceAddPlayer(wn,GetOwningPlayer(GetTriggerUnit()))call PauseUnit(GetTriggerUnit(),true)call SetUnitInvulnerable(GetTriggerUnit(),true)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00You swing your fishing line into the water.|r")call GF(GetRandomReal(2.,4.))if(rmv())thenset hn=GetRandomInt(1,'d')if(rLv())thencall KillUnit(GetTriggerUnit())call PauseUnit(GetTriggerUnit(),false)call SetUnitInvulnerable(GetTriggerUnit(),false)call ForceRemovePlayer(wn,GetOwningPlayer(GetTriggerUnit()))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),10.,"TRIGSTR_1863")returnendifendifif(rpv())thenset hn=GetRandomInt(1,'d')if(rMv())thencall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00You feel a tug on your fishing rod!|r")call SetCameraTargetControllerNoZForPlayer(GetOwningPlayer(GetTriggerUnit()),GetTriggerUnit(),0,0,false)set Wn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0set tn=GetOwningPlayer(GetTriggerUnit())call TriggerExecute(sD)elsecall PauseUnit(GetTriggerUnit(),false)call SetUnitInvulnerable(GetTriggerUnit(),false)call ForceRemovePlayer(wn,GetOwningPlayer(GetTriggerUnit()))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00There seems to be no bite.|r")endifelsecall DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffffcc00You feel a tug on your fishing rod!|r")call SetCameraTargetControllerNoZForPlayer(GetOwningPlayer(GetTriggerUnit()),GetTriggerUnit(),0,0,false)set Wn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0set tn=GetOwningPlayer(GetTriggerUnit())call TriggerExecute(sD)endifelsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff0000Inventory must have at least 2 empty slots in order to begin fishing.|r")endifendfunctionfunction rsv takes nothing returns booleanreturn(GetItemTypeId(GetManipulatedItem())=='I05B')or(GetItemTypeId(GetManipulatedItem())=='I05C')or(GetItemTypeId(GetManipulatedItem())=='I05D')or(GetItemTypeId(GetManipulatedItem())=='I05E')endfunctionfunction rSv takes nothing returns booleanreturn((gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(rsv()))!=nullendfunctionfunction rtv takes nothing returns booleanreturn(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05A'))==30)endfunctionfunction rTv takes nothing returns booleanreturn(GetItemTypeId(GetManipulatedItem())=='I05B')and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05A'))>=30)and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04W'))endfunctionfunction ruv takes nothing returns booleanreturn(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I057'))==35)endfunctionfunction rUv takes nothing returns booleanreturn(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I051'))==20)endfunctionfunction rwv takes nothing returns booleanreturn(GetItemTypeId(GetManipulatedItem())=='I05C')and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I057'))>=35)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I051'))>=20)and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04Z'))endfunctionfunction rWv takes nothing returns booleanreturn(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I053'))==55)endfunctionfunction ryv takes nothing returns booleanreturn(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I058'))==55)endfunctionfunction rYv takes nothing returns booleanreturn(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05A'))==65)endfunctionfunction rzv takes nothing returns booleanreturn(GetItemTypeId(GetManipulatedItem())=='I05D')and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I053'))>=55)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I058'))>=55)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05A'))>=65)and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04X'))endfunctionfunction rZv takes nothing returns booleanreturn(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I059'))==40)endfunctionfunction r_v takes nothing returns booleanreturn(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I055'))==80)endfunctionfunction r0v takes nothing returns booleanreturn(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I053'))==40)endfunctionfunction r1v takes nothing returns booleanreturn(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I058'))==25)endfunctionfunction r2v takes nothing returns booleanreturn(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I051'))==60)endfunctionfunction r3v takes nothing returns booleanreturn(GetItemTypeId(GetManipulatedItem())=='I05E')and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I059'))>=40)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I055'))>=80)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I053'))>=40)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I058'))>=25)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I051'))>=60)and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04Y'))endfunctionfunction r4v takes nothing returns nothingif(rTv())thenif(rtv())thencall RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05A'))elsecall SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05A'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05A'))-30))endifcall RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04W'))call UnitAddItemByIdSwapped('I04Z',GetTriggerUnit())call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff0000Traded fishes for a Good Fishing Rod.|r")endifif(rwv())thenif(ruv())thencall RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I057'))elsecall SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I057'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I057'))-35))endifif(rUv())thencall RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I051'))elsecall SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I051'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I051'))-20))endifcall RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04Z'))call UnitAddItemByIdSwapped('I04X',GetTriggerUnit())call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff0000Traded fishes for a Silver Fishing Rod.|r")endifif(rzv())thenif(rWv())thencall RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I053'))elsecall SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I053'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I053'))-55))endifif(ryv())thencall RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I058'))elsecall SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I058'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I058'))-55))endifif(rYv())thencall RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05A'))elsecall SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05A'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05A'))-65))endifcall RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04X'))call UnitAddItemByIdSwapped('I04Y',GetTriggerUnit())call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff0000Traded fishes for a Mystic Fishing Rod.|r")endifif(r3v())thenif(rZv())thencall RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I059'))elsecall SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I059'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I059'))-40))endifif(r_v())thencall RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I055'))elsecall SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I055'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I055'))-80))endifif(r0v())thencall RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I053'))elsecall SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I053'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I053'))-40))endifif(r1v())thencall RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I058'))elsecall SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I058'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I058'))-25))endifif(r2v())thencall RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I051'))elsecall SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I051'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I051'))-60))endifcall RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04Y'))call UnitAddItemByIdSwapped('I04V',GetTriggerUnit())call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff0000Traded fishes for a Mastercraft Fishing Rod.|r")endifendfunctionfunction r6v takes nothing returns nothinglocal unit r7vlocal player r8v=tnlocal group r9vlocal integer i=1loopexitwhen i>20if GetRandomInt(1,2)==1 thencall DisplayTimedTextToPlayer(r8v,0,0,4,"Press the [|cffffcc00UP ARROW KEY!|r]")call ForceAddPlayer(Tn,r8v)elsecall DisplayTimedTextToPlayer(r8v,0,0,4,"Press the [|cff00ff00DOWN ARROW KEY!|r]")call ForceAddPlayer(un,r8v)endifcall StartTimerBJ(Un[(1+GetPlayerId(r8v))],false,2.)call TriggerSleepAction(2.1)set i=i+1endloopcall ForceRemovePlayer(wn,r8v)set r9v=WF(r8v,Condition(function Cg))set r7v=GroupPickRandomUnit(r9v)call PauseUnit(r7v,false)call SetUnitInvulnerable(r7v,false)call DestroyGroup(r9v)call ResetToGameCameraForPlayer(r8v,0)call DisplayTimedTextToPlayer(r8v,0,0,$C,("|cff00ff00SCORE|r: "+I2S(Wn[(1+GetPlayerId(r8v))])))set tn=r8vset oV=r7vif Wn[(1+GetPlayerId(r8v))]<5000 thencall DisplayTimedTextToPlayer(r8v,0,0,$C,"|cff00FFFFGRADE|r: |cffFF69B4MISSXTAKE")call DisplayTimedTextToPlayer(r8v,0,0,$C,"|cffffcc00Unfortunately, it seems that the fish got away...")elseif Wn[(1+GetPlayerId(r8v))]<8000 thencall DisplayTimedTextToPlayer(r8v,0,0,$C,"|cff00FFFFGRADE|r: |cff1874CDSTANDARD")call TriggerExecute(kD)call TriggerExecute(LD)elseif Wn[(1+GetPlayerId(r8v))]<$2710 thencall DisplayTimedTextToPlayer(r8v,0,0,$C,"|cff00FFFFGRADE|r: |cffFFC125GREAT")call TriggerExecute(KD)call TriggerExecute(LD)elsecall DisplayTimedTextToPlayer(r8v,0,0,$C,"|cff00FFFFGRADE|r: |cffFF69B4P|r|cffDB7093E|r|cff9932CCR|r|cff00F5FFF|r|cff4EEE94E|r|cffFFA500C|r|cffFFA54FT|r")call TriggerExecute(lD)call TriggerExecute(LD)endifset r8v=nullendfunctionfunction iev takes nothing returns nothinglocal player ixv=tnif TimerGetElapsed(Un[(1+GetPlayerId(ixv))])<=1. thenset Wn[(1+GetPlayerId(ixv))]=(Wn[(1+GetPlayerId(ixv))]+500)call DisplayTimedTextToPlayer(ixv,0,0,4,"|cffFFD700COOL")elseif TimerGetElapsed(Un[(1+GetPlayerId(ixv))])<=1.3 thenset Wn[(1+GetPlayerId(ixv))]=(Wn[(1+GetPlayerId(ixv))]+300)call DisplayTimedTextToPlayer(ixv,0,0,4,"|cff1E90FFFINE")elseif TimerGetElapsed(Un[(1+GetPlayerId(ixv))])<=1.6 thenset Wn[(1+GetPlayerId(ixv))]=(Wn[(1+GetPlayerId(ixv))]+'d')call DisplayTimedTextToPlayer(ixv,0,0,4,"|cff00EE00SAFE")elseif TimerGetElapsed(Un[(1+GetPlayerId(ixv))])<=1.99 thenset Wn[(1+GetPlayerId(ixv))]=(Wn[(1+GetPlayerId(ixv))]+50)call DisplayTimedTextToPlayer(ixv,0,0,4,"|cff0000FFSAD")elseif TimerGetElapsed(Un[(1+GetPlayerId(ixv))])<=2. thencall DisplayTimedTextToPlayer(ixv,0,0,4,"|cff8A2BE2WORST")endifset ixv=nullendfunctionfunction irv takes nothing returns nothingcall DisplayTimedTextToForce(YF(tn),4.,"|cff8A2BE2WORST")call ForceRemovePlayer(Tn,tn)call ForceRemovePlayer(un,tn)endfunctionfunction iav takes nothing returns nothingset tn=Player(0)call TriggerExecute(tD)endfunctionfunction iVv takes nothing returns nothingset tn=Player(1)call TriggerExecute(tD)endfunctionfunction iXv takes nothing returns nothingset tn=Player(2)call TriggerExecute(tD)endfunctionfunction iRv takes nothing returns nothingset tn=Player(3)call TriggerExecute(tD)endfunctionfunction iAv takes nothing returns nothingset tn=Player(4)call TriggerExecute(tD)endfunctionfunction ibv takes nothing returns nothingset tn=Player(5)call TriggerExecute(tD)endfunctionfunction icv takes nothing returns nothingset tn=Player(6)call TriggerExecute(tD)endfunctionfunction idv takes nothing returns nothingset tn=Player(7)call TriggerExecute(tD)endfunctionfunction ifv takes nothing returns nothingset tn=Player(8)call TriggerExecute(tD)endfunctionfunction igv takes nothing returns nothingset tn=Player(9)call TriggerExecute(tD)endfunctionfunction ihv takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),Tn))endfunctionfunction iHv takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),un))endfunctionfunction ijv takes nothing returns booleanreturn(GetBooleanOr(ihv(),iHv()))endfunctionfunction iJv takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),Tn))endfunctionfunction ikv takes nothing returns nothingif(iJv())thenset tn=GetTriggerPlayer()call TriggerExecute(SD)call ForceRemovePlayer(Tn,GetTriggerPlayer())elsecall DisplayTimedTextToForce(YF(GetTriggerPlayer()),4.,"|cff8A2BE2WORST")call ForceRemovePlayer(un,GetTriggerPlayer())endifcall PauseTimerBJ(true,Un[(1+GetPlayerId(GetTriggerPlayer()))])endfunctionfunction ilv takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),Tn))endfunctionfunction iLv takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),un))endfunctionfunction imv takes nothing returns booleanreturn(GetBooleanOr(ilv(),iLv()))endfunctionfunction iMv takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),un))endfunctionfunction ipv takes nothing returns nothingif(iMv())thenset tn=GetTriggerPlayer()call TriggerExecute(SD)call ForceRemovePlayer(un,GetTriggerPlayer())elsecall DisplayTimedTextToForce(YF(GetTriggerPlayer()),4.,"|cff8A2BE2WORST")call ForceRemovePlayer(Tn,GetTriggerPlayer())endifcall PauseTimerBJ(true,Un[(1+GetPlayerId(GetTriggerPlayer()))])endfunctionfunction iqv takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='n02Z')endfunctionfunction iQv takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction isv takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),sn))endfunctionfunction iSv takes nothing returns booleanreturn(UnitInventoryCount(GetEnumUnit())<=5)endfunctionfunction itv takes nothing returns nothingif(iSv())thencall UnitAddItemByIdSwapped('I054',GetEnumUnit())if(isv())thencall ForceRemovePlayer(sn,GetOwningPlayer(GetEnumUnit()))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetEnumUnit())),8.,"|cffffcc00I've defeated the legendary Flying Wish Fish and caught him as a result!|r")call QuestSetDescription(jn[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))],"TRIGSTR_7074")endifelsecall DisplayTimedTextToForce(YF(GetOwningPlayer(GetEnumUnit())),8.,"|cffffcc00I've successfully caught the Flying Wish Fish but unfortunately I have no space to carry it...|r")endifendfunctionfunction iTv takes nothing returns nothingset iV=LoadIntegerBJ((1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))),GetHandleIdBJ(GetTriggerUnit()),aV)set nV=WF(Player(-1+(iV)),Condition(function iQv))call ForGroupBJ(nV,function itv)call FlushChildHashtableBJ(GetHandleIdBJ(GetTriggerUnit()),aV)endfunctionfunction iUv takes nothing returns booleanreturn(GetUnitTypeId(GetKillingUnit())=='n02Z')endfunctionfunction iwv takes nothing returns nothingcall RemoveUnit(GetKillingUnit())call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,8.,"|cffff0000A Flying Wish Fish has disappeared into the water after claiming an unfortunate victim...|r")endfunctionfunction iyv takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I04Q')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gn[1])==false)and(gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==0))!=nullendfunctionfunction iYv takes nothing returns nothingcall ForceAddPlayer(Gn[1],GetOwningPlayer(GetTriggerUnit()))call CreateQuestBJ(0,("Profession Advancement ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"TRIGSTR_13901","ReplaceableTextures\\CommandButtons\\BTNStatUp.blp")set jn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestcall DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffff8c00Fisherman's Friend|r : Good! Always glad to see another fisherman join our ranks! The world needs more fishermen these days, especially in these dark times...cursed monsters all around... Anyway, first you must learn how to build your own Fishing rod! Don't worry, it isnt too hard since I'll be guiding you on this! All you need to do is get a sturdy cane commonly found in trees near creeks and a roll of fishing line that I think Skypper sells.")endfunctionfunction iZv takes nothing returns booleanreturn((GetUnitTypeId(GetOrderTargetUnit())==Q)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gn[1]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gn[2])==false)and(gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==0))!=nullendfunctionfunction i_v takes nothing returns nothingcall ForceAddPlayer(Gn[2],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffff8c00Skypper|r : What do you want? I'm very busy. What? Fishing line? Well... of course I have one, but I won't give it up just like that. I'm talking about gold! Pay me 500 gold for one roll of fishing line. What do you say?")endfunctionfunction i1v takes nothing returns booleanreturn((GetUnitTypeId(GetOrderTargetUnit())==Q)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gn[2]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gn[3])==false)and(gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==0)and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=500))!=nullendfunctionfunction i2v takes nothing returns nothingcall ForceAddPlayer(Gn[3],GetOwningPlayer(GetTriggerUnit()))call AdjustPlayerStateBJ(-500,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffff8c00Skypper|r : Great! Now show me the money and the fishing line is yours.")call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00You've purchased a roll of Fishing Line.|r")endfunctionfunction i4v takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gn[1]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gn[4])==false)and(gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==0))!=nullendfunctionfunction i5v takes nothing returns nothingcall ForceAddPlayer(Gn[4],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00You've pulled a straight and sturdy-looking cane from a tree.|r")endfunctionfunction i7v takes nothing returns booleanreturn((GetUnitTypeId(GetOrderTargetUnit())=='h04H')and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==0)and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gn[1]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gn[2]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gn[3]))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gn[4])))!=nullendfunctionfunction i8v takes nothing returns booleanreturn(UnitInventoryCount(GetTriggerUnit())<=5)endfunctionfunction i9v takes nothing returns nothingif(i8v())thencall ForceRemovePlayer(Gn[1],GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Gn[2],GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Gn[3],GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Gn[4],GetOwningPlayer(GetTriggerUnit()))call DestroyQuest(jn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=1set Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=1call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffff8c00Fisherman's Friend|r : I see you've gathered all the items required for a rod! Now let me teach you how to make your very own fishing rod... ah, there we go! Now that you have a rod, you need to learn how to fish. First, look out for signs that read \"Fishing Spot\". They indicate where you")call UnitAddItemByIdSwapped('I04W',GetTriggerUnit())elsecall PlaySoundBJ(bI)call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff0000Inventory is full. Cannot accept reward!|r")endifendfunctionfunction aev takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I04S')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gn[1])==false)and(gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(Fn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=25))!=nullendfunctionfunction axv takes nothing returns nothingset Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=2call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00You are now successfully promoted to Journeyman Fisherman.|r")endfunctionfunction arv takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I04R')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gn[1])==false)and(gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==2)and(Fn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=75))!=nullendfunctionfunction aiv takes nothing returns nothingset Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=3call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffffcc00You are now successfully promoted to Expert Fisherman.|r")endfunctionfunction anv takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I04U')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gn[1])==false)and(gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==3)and(Fn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>='}'))!=nullendfunctionfunction aVv takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(0))endfunctionfunction aEv takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(1))endfunctionfunction aXv takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(2))endfunctionfunction aOv takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(3))endfunctionfunction aRv takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(4))endfunctionfunction aIv takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(5))endfunctionfunction aAv takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(6))endfunctionfunction aNv takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(7))endfunctionfunction abv takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(8))endfunctionfunction aBv takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(9))endfunctionfunction acv takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gn[1]))endfunctionfunction aCv takes nothing returns nothingcall ForceAddPlayer(Gn[1],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffff8c00Fisherman's Friend|r : Aha! Great to see you again! It seems like only yesterday that you were learning how to fish, and now you are already ready to take on bigger challenges. Alright, you know the drill. Catch five Thunderfishes within five minutes to prove yourself worthy enough to become a Master Fisherman!")call CreateQuestBJ(0,("Profession Advancement ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"TRIGSTR_14554","ReplaceableTextures\\CommandButtons\\BTNStatUp.blp")set jn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestif(aVv())thencall StartTimerBJ(Jn,false,300.)endifif(aEv())thencall StartTimerBJ(kn,false,300.)endifif(aXv())thencall StartTimerBJ(Kn,false,300.)endifif(aOv())thencall StartTimerBJ(ln,false,300.)endifif(aRv())thencall StartTimerBJ(Ln,false,300.)endifif(aIv())thencall StartTimerBJ(mn,false,300.)endifif(aAv())thencall StartTimerBJ(Mn,false,300.)endifif(aNv())thencall StartTimerBJ(pn,false,300.)endifif(abv())thencall StartTimerBJ(Pn,false,300.)endifif(aBv())thencall StartTimerBJ(qn,false,300.)endifcall CreateTimerDialogBJ(bj_lastStartedTimer,"Master Advancement")set Qn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedTimerDialogcall TimerDialogDisplay(Qn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true)call GF(300.)call DestroyTimerDialog(Qn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])if(acv())thencall DestroyQuest(jn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call ForceRemovePlayer(Gn[1],GetOwningPlayer(GetTriggerUnit()))call DisplayTimedTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),5.,"|cffff0000You've failed to pass the requirements for Master Profession.|r")endifendfunctionfunction aDv takes nothing returns booleanreturn((GetUnitTypeId(GetOrderTargetUnit())=='h04H')and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Gn[1]))and(gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==3)and(Fn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>='}')and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I055'))>=5))!=nullendfunctionfunction afv takes nothing returns nothingcall AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call ForceRemovePlayer(Gn[1],GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffff8c00Fisherman's Friend|r : Congratulations! You're now promoted to a Master Fisherman! Keep the Thunderfishes; they're your reward for going through such a difficult ordeal!")call DestroyQuest(jn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call DestroyTimerDialog(Qn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])set Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=4endfunctionfunction agv takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I04T')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),sn)==false)and(gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==4)and(Fn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=$AF))!=nullendfunctionfunction aGv takes nothing returns nothingcall ForceAddPlayer(sn,GetOwningPlayer(GetTriggerUnit()))call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffff8c00Fisherman's Friend|r : Ready to take on bigger and better fishes I see. However, before I promote you to Legendary Fisherman, you have to prove yourself. Catch the legendary Flying Wish Fish and defeat it to prove your worth. Sounds simple? However, there's a catch. To order to catch it, you'll need true skill. The Flying Wish Fish is said to only appear to those truly worthy of facing it. It is also known to reside only in the deepest waters...you may find this task more difficult than expected.")call CreateQuestBJ(0,("Profession Advancement ("+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+")")),"TRIGSTR_14581","ReplaceableTextures\\CommandButtons\\BTNStatUp.blp")set jn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=bj_lastCreatedQuestendfunctionfunction aHv takes nothing returns booleanreturn((GetUnitTypeId(GetOrderTargetUnit())=='h04H')and(IsUnitInGroup(GetTriggerUnit(),uF(300.,GetUnitLoc(GetOrderTargetUnit()))))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(gn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==4)and(Fn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=$AF)and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I054')))!=nullendfunctionfunction ajv takes nothing returns nothingcall ForceRemovePlayer(sn,GetOwningPlayer(GetTriggerUnit()))call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call DisplayTextToForce(YF(GetOwningPlayer(GetTriggerUnit())),"|cffff8c00Fisherman's Friend|r : Congratulations!! You're truly an outstanding fisherman - with powerful skills to boot as well! Hence, you're now promoted to a Legendary Fisherman! Oh and keep the Flying Wish Fish - you most certainly deserve it!")set Hn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=5call DestroyQuest(jn[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])endfunctionfunction akv takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),px))endfunctionfunction aKv takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction alv takes nothing returns nothingcall UnitDamageTargetBJ(GetEnumUnit(),GetTriggerUnit(),1000000000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)endfunctionfunction aLv takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction amv takes nothing returns nothingcall UnitDamageTargetBJ(GetEnumUnit(),GetTriggerUnit(),1000000000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)endfunctionfunction aMv takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),fx))endfunctionfunction apv takes nothing returns nothingif(aMv())thenset Kx=(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))call ForGroupBJ(WF(Dx[Kx],Condition(function aLv)),function amv)elseset Kx=Lx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]call ForGroupBJ(WF(lx[Kx],Condition(function aKv)),function alv)endifendfunctionfunction aqv takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetTriggerPlayer()))]>=$F)endfunctionfunction aQv takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetTriggerPlayer()))]>=$F)and(hx[(1+GetPlayerId(GetTriggerPlayer()))]<30)endfunctionfunction asv takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetTriggerPlayer()))]>=30)and(hx[(1+GetPlayerId(GetTriggerPlayer()))]<75)endfunctionfunction aSv takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetTriggerPlayer()))]>=75)and(hx[(1+GetPlayerId(GetTriggerPlayer()))]<'d')endfunctionfunction atv takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetTriggerPlayer()))]>='d')and(hx[(1+GetPlayerId(GetTriggerPlayer()))]<$96)endfunctionfunction aTv takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetTriggerPlayer()))]>=$96)and(hx[(1+GetPlayerId(GetTriggerPlayer()))]<$C8)endfunctionfunction auv takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetTriggerPlayer()))]>=$C8)and(hx[(1+GetPlayerId(GetTriggerPlayer()))]<300)endfunctionfunction aUv takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetTriggerPlayer()))]>=300)and(hx[(1+GetPlayerId(GetTriggerPlayer()))]<500)endfunctionfunction awv takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetTriggerPlayer()))]>=500)and(hx[(1+GetPlayerId(GetTriggerPlayer()))]<750)endfunctionfunction aWv takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetTriggerPlayer()))]>=750)and(hx[(1+GetPlayerId(GetTriggerPlayer()))]<$3E8)endfunctionfunction ayv takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetTriggerPlayer()))]>=$3E8)and(hx[(1+GetPlayerId(GetTriggerPlayer()))]<$5DC)endfunctionfunction aYv takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetTriggerPlayer()))]>=$5DC)and(hx[(1+GetPlayerId(GetTriggerPlayer()))]<$7D0)endfunctionfunction azv takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetTriggerPlayer()))]>=$7D0)and(hx[(1+GetPlayerId(GetTriggerPlayer()))]<$BB8)endfunctionfunction aZv takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetTriggerPlayer()))]>=$BB8)and(hx[(1+GetPlayerId(GetTriggerPlayer()))]<5000)endfunctionfunction a_v takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetTriggerPlayer()))]>=5000)endfunctionfunction a0v takes nothing returns nothingif(aQv())thenset tx=(Sx[(1+GetPlayerId(GetTriggerPlayer()))]+"|r (|cff8B8989Pit Dog|r)")call SetPlayerName(GetTriggerPlayer(),tx)endifif(asv())thenset tx=(Sx[(1+GetPlayerId(GetTriggerPlayer()))]+"|r (|cff8B8989Fighter|r)")call SetPlayerName(GetTriggerPlayer(),tx)endifif(aSv())thenset tx=(Sx[(1+GetPlayerId(GetTriggerPlayer()))]+"|r (Myrmidon)")call SetPlayerName(GetTriggerPlayer(),tx)endifif(atv())thenset tx=(Sx[(1+GetPlayerId(GetTriggerPlayer()))]+"|r (Warrior)")call SetPlayerName(GetTriggerPlayer(),tx)endifif(aTv())thenset tx=(Sx[(1+GetPlayerId(GetTriggerPlayer()))]+"|r (|Cff00ff00Knight|r)")call SetPlayerName(GetTriggerPlayer(),tx)endifif(auv())thenset tx=(Sx[(1+GetPlayerId(GetTriggerPlayer()))]+"|r (|Cff00ff00Crusader|r)")call SetPlayerName(GetTriggerPlayer(),tx)endifif(aUv())thenset tx=(Sx[(1+GetPlayerId(GetTriggerPlayer()))]+"|r (|cffA020F0Gladiator|r)")call SetPlayerName(GetTriggerPlayer(),tx)endifif(awv())thenset tx=(Sx[(1+GetPlayerId(GetTriggerPlayer()))]+"|r (|cffA020F0Veteran|r)")call SetPlayerName(GetTriggerPlayer(),tx)endifif(aWv())thenset tx=(Sx[(1+GetPlayerId(GetTriggerPlayer()))]+"|r (|cff4682B4Commander|r)")call SetPlayerName(GetTriggerPlayer(),tx)endifif(ayv())thenset tx=(Sx[(1+GetPlayerId(GetTriggerPlayer()))]+"|r (|cff4682B4General|r)")call SetPlayerName(GetTriggerPlayer(),tx)endifif(aYv())thenset tx=(Sx[(1+GetPlayerId(GetTriggerPlayer()))]+"|r (|cffff0000Marshal|r)")call SetPlayerName(GetTriggerPlayer(),tx)endifif(azv())thenset tx=(Sx[(1+GetPlayerId(GetTriggerPlayer()))]+"|r (|cffff0000Hero|r)")call SetPlayerName(GetTriggerPlayer(),tx)endifif(aZv())thenset tx=(Sx[(1+GetPlayerId(GetTriggerPlayer()))]+"|r (|cffB8860BChampion|r)")call SetPlayerName(GetTriggerPlayer(),tx)endifif(a_v())thenset tx=(Sx[(1+GetPlayerId(GetTriggerPlayer()))]+"|r (|cffFFD700Grand Champion|r)")call SetPlayerName(GetTriggerPlayer(),tx)endifendfunctionfunction a2v takes nothing returns booleanreturn((IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),kx))and(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mx))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=nullendfunctionfunction a3v takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction a4v takes nothing returns nothingcall UnitDamageTargetBJ(GetEnumUnit(),GetTriggerUnit(),1000000000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)endfunctionfunction a5v takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction a6v takes nothing returns nothingcall UnitDamageTargetBJ(GetEnumUnit(),GetTriggerUnit(),1000000000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)endfunctionfunction a7v takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),fx))endfunctionfunction a8v takes nothing returns booleanreturn((IsUnitType(GetKillingUnit(),UNIT_TYPE_HERO)==false)or(GetPlayerController(GetOwningPlayer(GetKillingUnit()))!=MAP_CONTROL_USER))!=nullendfunctionfunction a9v takes nothing returns booleanreturn(a8v())endfunctionfunction nvv takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),sv))endfunctionfunction nev takes nothing returns booleanreturn(GetUnitLifePercent(GetKillingUnit())==100.)endfunctionfunction nxv takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=1)endfunctionfunction nov takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)endfunctionfunction nrv takes nothing returns booleanreturn(hx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=2)endfunctionfunction niv takes nothing returns booleanreturn(GetUnitLifePercent(GetKillingUnit())==100.)endfunctionfunction nav takes nothing returns booleanreturn(Wa[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]>=3)endfunctionfunction nnv takes nothing returns nothingif(a9v())thenif(a7v())thenset Kx=(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))call ReviveHeroLoc(GetTriggerUnit(),GetUnitLoc(GetTriggerUnit()),false)call ForGroupBJ(WF(Dx[Kx],Condition(function a5v)),function a6v)returnelseset Kx=Lx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]call ReviveHeroLoc(GetTriggerUnit(),GetUnitLoc(GetTriggerUnit()),false)call ForGroupBJ(WF(lx[Kx],Condition(function a3v)),function a4v)returnendifendifcall UnitRemoveAbility(GetKillingUnit(),'B017')call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,("|cffff8c00"+(GetPlayerName(GetOwningPlayer(GetKillingUnit()))+("|r has defeated |cffff0000"+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"|r in a duel.")))))call ReviveHeroLoc(GetTriggerUnit(),GetUnitLoc(GetTriggerUnit()),false)call SetUnitInvulnerable(GetTriggerUnit(),true)call SetUnitLifePercentBJ(GetTriggerUnit(),5.)call SetUnitManaPercentBJ(GetTriggerUnit(),5.)call SetPlayerAllianceStateBJ(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit()),3)call SetPlayerAllianceStateBJ(GetOwningPlayer(GetKillingUnit()),GetOwningPlayer(GetTriggerUnit()),3)call ForceRemovePlayer(jx,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(jx,GetOwningPlayer(GetKillingUnit()))call ForceRemovePlayer(fx,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(fx,GetOwningPlayer(GetKillingUnit()))call ForceRemovePlayer(kx,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(kx,GetOwningPlayer(GetKillingUnit()))call ForceRemovePlayer(Mx,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(Mx,GetOwningPlayer(GetKillingUnit()))call ForceRemovePlayer(px,GetOwningPlayer(GetTriggerUnit()))call ForceRemovePlayer(px,GetOwningPlayer(GetKillingUnit()))call ForceRemovePlayer(px,GetOwningPlayer(GetTriggerUnit()))if(nvv())thencall ForceRemovePlayer(sv,GetOwningPlayer(GetTriggerUnit()))endifcall PlaySoundBJ(kI)if(nev())thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,("|cffff8c00"+(GetPlayerName(GetOwningPlayer(GetKillingUnit()))+"|r has just achieved a |cffDAA520FLAWLESS VICTORY!|r")))call PlaySoundBJ(QI)set hx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(hx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+2)elseset hx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(hx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)endifif(niv())thenif(nrv())thenset hx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(hx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]-2)elseif(nov())thenset hx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(hx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]-1)endifendifelseif(nxv())thenset hx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(hx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]-1)endifendifif(nav())thenset Wa[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=0call GroupRemoveUnit(ya,GetKillingUnit())call GF(.5)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,8.,("|cffffcc00"+(GetPlayerName(GetOwningPlayer(GetKillingUnit()))+"|r is a |Cff00ff00COMBOWHORE!|r")))call PlaySoundBJ(qI)endifcall MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,2,((1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))+1),I2S(hx[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]))call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,2,((1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))+1),I2S(hx[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]))call GF(3.5)call SetUnitInvulnerable(GetTriggerUnit(),false)endfunctionfunction nEv takes nothing returns booleanreturn(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),Mx))endfunctionfunction nXv takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),ya)==false)endfunctionfunction nOv takes nothing returns nothingset Wa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(Wa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]+1)if(nXv())thencall GroupAddUnit(ya,GetTriggerUnit())call GF(5.)set Wa[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=0call GroupRemoveUnit(ya,GetTriggerUnit())endifendfunctionfunction nIv takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),Ze)==false)and(IsPlayerInForce(GetTriggerPlayer(),mx)==false)and(IsPlayerInForce(GetTriggerPlayer(),Ko)==false)and(SubStringBJ(GetEventPlayerChatString(),1,5)==GetEventPlayerChatStringMatched())and(StringLength(GetEventPlayerChatString())>5)and(StringLength(GetEventPlayerChatString())<7)and(SubStringBJ(GetEventPlayerChatString(),6,6)!=I2S((1+GetPlayerId(GetTriggerPlayer()))))and(SubStringBJ(GetEventPlayerChatString(),6,6)!="0")and(IsPlayerInForce(Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,6)))),mx)==false)and(IsPlayerInForce(GetTriggerPlayer(),wn)==false)endfunctionfunction nAv takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),kx))or(IsPlayerInForce(Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,6)))),kx))endfunctionfunction nNv takes nothing returns booleanreturn(nAv())endfunctionfunction nbv takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction nBv takes nothing returns nothingset Fx[(1+GetPlayerId(GetTriggerPlayer()))]=GetEnumUnit()endfunctionfunction ncv takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction nCv takes nothing returns nothingset gx[(1+GetPlayerId(GetTriggerPlayer()))]=GetEnumUnit()endfunctionfunction ndv takes nothing returns booleanreturn(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction nDv takes nothing returns booleanreturn(IsUnitInGroup(Fx[(1+GetPlayerId(GetTriggerPlayer()))],tF(200.,GetUnitLoc(gx[(1+GetPlayerId(GetTriggerPlayer()))]),Condition(function ndv))))and(IsUnitAliveBJ(gx[(1+GetPlayerId(GetTriggerPlayer()))]))endfunctionfunction nfv takes nothing returns nothingif(nNv())thencall DisplayTimedTextToForce(YF(GetTriggerPlayer()),8.,"|cffff0000You cannot challenge a player to a duel when you or the challenged player is in PvP.|r")returnendifcall ForGroupBJ(WF(GetTriggerPlayer(),Condition(function nbv)),function nBv)call ForGroupBJ(WF(Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,6)))),Condition(function ncv)),function nCv)if(nDv())thenset Lx[(1+GetPlayerId(GetTriggerPlayer()))]=(1+GetPlayerId(Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,6))))))set Fx[(1+GetPlayerId(GetTriggerPlayer()))]=nullset gx[(1+GetPlayerId(GetTriggerPlayer()))]=nullset Dx[(1+GetPlayerId(Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,6))))))]=GetTriggerPlayer()set lx[(1+GetPlayerId(Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,6))))))]=Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,6))))call DisplayTimedTextToForce(YF(GetTriggerPlayer()),10.,"|cffffcc00You have challenged a player to a duel. Please wait for the player to accept or decline.|r")call ForceAddPlayer(fx,Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,6)))))call ForceAddPlayer(kx,GetTriggerPlayer())call ForceAddPlayer(kx,Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,6)))))call DisplayTimedTextToForce(YF(Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,6))))),15.,("|cffffcc00"+(GetPlayerName(GetTriggerPlayer())+"|r has challenged you to a |cffff0000duel|r. Type |cffffcc00-yes|r to accept or |cffffcc00-no|r to decline.")))elseset Fx[(1+GetPlayerId(GetTriggerPlayer()))]=nullset gx[(1+GetPlayerId(GetTriggerPlayer()))]=nullcall DisplayTimedTextToForce(YF(GetTriggerPlayer()),10.,"|cffff0000Your Hero must be within 200 range of the challenged player's Hero in order to duel. Both heroes cannot be dead.|r")endifendfunctionfunction ngv takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),Ze)==false)and(IsPlayerInForce(GetTriggerPlayer(),mx)==false)and(IsPlayerInForce(GetTriggerPlayer(),Ko)==false)and(SubStringBJ(GetEventPlayerChatString(),6,7)!=I2S((1+GetPlayerId(GetTriggerPlayer()))))and(IsPlayerInForce(Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,7)))),mx)==false)and(IsPlayerInForce(GetTriggerPlayer(),wn)==false)endfunctionfunction nGv takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),kx))or(IsPlayerInForce(Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,7)))),kx))endfunctionfunction nhv takes nothing returns booleanreturn(nGv())endfunctionfunction nHv takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction njv takes nothing returns nothingset Fx[(1+GetPlayerId(GetTriggerPlayer()))]=GetEnumUnit()endfunctionfunction nJv takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction nkv takes nothing returns nothingset gx[(1+GetPlayerId(GetTriggerPlayer()))]=GetEnumUnit()endfunctionfunction nKv takes nothing returns booleanreturn(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction nlv takes nothing returns booleanreturn(IsUnitInGroup(Fx[(1+GetPlayerId(GetTriggerPlayer()))],tF(200.,GetUnitLoc(gx[(1+GetPlayerId(GetTriggerPlayer()))]),Condition(function nKv))))and(IsUnitAliveBJ(gx[(1+GetPlayerId(GetTriggerPlayer()))]))endfunctionfunction nLv takes nothing returns nothingif(nhv())thencall DisplayTimedTextToForce(YF(GetTriggerPlayer()),8.,"|cffff0000You cannot challenge a player to a duel when you or the challenged player is in PvP.|r")returnendifcall ForGroupBJ(WF(GetTriggerPlayer(),Condition(function nHv)),function njv)call ForGroupBJ(WF(Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,7)))),Condition(function nJv)),function nkv)if(nlv())thenset Lx[(1+GetPlayerId(GetTriggerPlayer()))]=(1+GetPlayerId(Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,7))))))set Fx[(1+GetPlayerId(GetTriggerPlayer()))]=nullset gx[(1+GetPlayerId(GetTriggerPlayer()))]=nullset Dx[(1+GetPlayerId(Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,7))))))]=GetTriggerPlayer()set lx[(1+GetPlayerId(Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,7))))))]=Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,7))))call DisplayTimedTextToForce(YF(GetTriggerPlayer()),10.,"|cffffcc00You have challenged a player to a duel. Please wait for the player to accept or decline.|r")call ForceAddPlayer(fx,Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,7)))))call ForceAddPlayer(kx,GetTriggerPlayer())call ForceAddPlayer(kx,Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,7)))))call DisplayTimedTextToForce(YF(Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),6,7))))),8.,("|cffffcc00"+(GetPlayerName(GetTriggerPlayer())+"|r has challenged you to a |cffff0000duel|r. Type |cffffcc00-yes|r to accept or |cffffcc00-no|r to decline.")))elseset Fx[(1+GetPlayerId(GetTriggerPlayer()))]=nullset gx[(1+GetPlayerId(GetTriggerPlayer()))]=nullcall DisplayTimedTextToForce(YF(GetTriggerPlayer()),10.,"|cffff0000Your Hero must be within 200 range of the challenged player's Hero in order to duel. Both heroes cannot be dead.|r")endifendfunctionfunction nMv takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),kx))and(IsPlayerInForce(GetTriggerPlayer(),fx)==false)and(IsPlayerInForce(GetTriggerPlayer(),Mx)==false)endfunctionfunction npv takes nothing returns nothingset Kx=Lx[(1+GetPlayerId(GetTriggerPlayer()))]call ForceRemovePlayer(fx,Player(-1+(Kx)))call ForceRemovePlayer(kx,GetTriggerPlayer())call ForceRemovePlayer(kx,Player(-1+(Kx)))call DisplayTimedTextToForce(YF(GetTriggerPlayer()),5.,"|cffffcc00You have cancelled the duel challenge.|r")call DisplayTimedTextToForce(YF(Player(-1+(Kx))),8.,("|cffffcc00"+(GetPlayerName(GetTriggerPlayer())+"|r has cancelled the duel challenge.")))endfunctionfunction nqv takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),jx)==false)and(IsPlayerInForce(GetTriggerPlayer(),fx))endfunctionfunction nQv takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction nsv takes nothing returns nothingset Gx[(1+GetPlayerId(GetTriggerPlayer()))]=GetEnumUnit()endfunctionfunction nSv takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction ntv takes nothing returns nothingset Hx[(1+GetPlayerId(GetTriggerPlayer()))]=GetEnumUnit()endfunctionfunction nTv takes nothing returns nothingcall ForceAddPlayer(Mx,Dx[(1+GetPlayerId(GetTriggerPlayer()))])call ForceAddPlayer(Mx,GetTriggerPlayer())call ForceAddPlayer(jx,GetTriggerPlayer())call ForGroupBJ(WF(GetTriggerPlayer(),Condition(function nQv)),function nsv)call CreateNUnitsAtLoc(1,'h02I',GetTriggerPlayer(),GetUnitLoc(Gx[(1+GetPlayerId(GetTriggerPlayer()))]),270.)call IssueImmediateOrderById(bj_lastCreatedUnit,$D026C)call ForGroupBJ(WF(Dx[(1+GetPlayerId(GetTriggerPlayer()))],Condition(function nSv)),function ntv)call CreateNUnitsAtLoc(1,'h02I',Dx[(1+GetPlayerId(GetTriggerPlayer()))],GetUnitLoc(Hx[(1+GetPlayerId(GetTriggerPlayer()))]),270.)call IssueImmediateOrderById(bj_lastCreatedUnit,$D026C)call DisplayTimedTextToForce(YF(GetTriggerPlayer()),3.,"|cffEEB422Battle will begin in|r |cffff00005|r...")call DisplayTimedTextToForce(YF(Dx[(1+GetPlayerId(GetTriggerPlayer()))]),3.,"|cffEEB422Battle will begin in|r |cffff00005|r...")call PlaySoundBJ(HI)call TriggerSleepAction(1.)call DisplayTimedTextToForce(YF(GetTriggerPlayer()),3.,"|cffEEB422Battle will begin in|r |cffff00004|r...")call DisplayTimedTextToForce(YF(Dx[(1+GetPlayerId(GetTriggerPlayer()))]),3.,"|cffEEB422Battle will begin in|r |cffff00004|r...")call PlaySoundBJ(HI)call TriggerSleepAction(1.)call DisplayTimedTextToForce(YF(GetTriggerPlayer()),3.,"|cffEEB422Battle will begin in|r |cffff00003|r...")call DisplayTimedTextToForce(YF(Dx[(1+GetPlayerId(GetTriggerPlayer()))]),3.,"|cffEEB422Battle will begin in|r |cffff00003|r...")call PlaySoundBJ(HI)call TriggerSleepAction(1.)call DisplayTimedTextToForce(YF(GetTriggerPlayer()),3.,"|cffEEB422Battle will begin in|r |cffff00002|r...")call DisplayTimedTextToForce(YF(Dx[(1+GetPlayerId(GetTriggerPlayer()))]),3.,"|cffEEB422Battle will begin in|r |cffff00002|r...")call PlaySoundBJ(HI)call TriggerSleepAction(1.)call DisplayTimedTextToForce(YF(GetTriggerPlayer()),3.,"|cffEEB422Battle will begin in|r |cffff00001|r...")call DisplayTimedTextToForce(YF(Dx[(1+GetPlayerId(GetTriggerPlayer()))]),3.,"|cffEEB422Battle will begin in|r |cffff00001|r...")call PlaySoundBJ(HI)call TriggerSleepAction(1.)call DisplayTimedTextToForce(YF(GetTriggerPlayer()),4.,"|cffEEB422Let the Battle commence!|r")call DisplayTimedTextToForce(YF(Dx[(1+GetPlayerId(GetTriggerPlayer()))]),4.,"|cffEEB422Let the Battle commence!|r")call SetPlayerAllianceStateBJ(Dx[(1+GetPlayerId(GetTriggerPlayer()))],GetTriggerPlayer(),0)call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Dx[(1+GetPlayerId(GetTriggerPlayer()))],0)call ForceAddPlayer(px,Dx[(1+GetPlayerId(GetTriggerPlayer()))])call ForceAddPlayer(px,GetTriggerPlayer())set Hx[(1+GetPlayerId(GetTriggerPlayer()))]=nullset Gx[(1+GetPlayerId(GetTriggerPlayer()))]=nullendfunctionfunction nUv takes nothing returns booleanreturn(IsPlayerInForce(GetTriggerPlayer(),jx)==false)and(IsPlayerInForce(GetTriggerPlayer(),fx))endfunctionfunction nwv takes nothing returns nothingcall ForceRemovePlayer(fx,GetTriggerPlayer())call ForceRemovePlayer(kx,GetTriggerPlayer())call ForceRemovePlayer(kx,Dx[(1+GetPlayerId(GetTriggerPlayer()))])call DisplayTimedTextToForce(YF(GetTriggerPlayer()),5.,"|cffffcc00You have declined the duel challenge.|r")call DisplayTimedTextToForce(YF(Dx[(1+GetPlayerId(GetTriggerPlayer()))]),10.,("|cffffcc00"+(GetPlayerName(GetTriggerPlayer())+"|r has declined your challenge.")))endfunctionfunction nyv takes nothing returns booleanreturn(IsUnitAlly(GetEnteringUnit(),Player(0)))endfunctionfunction nYv takes nothing returns nothingcall KillUnit(GetEnteringUnit())endfunctionfunction nZv takes nothing returns nothingcall UnitRemoveAbility(GetManipulatingUnit(),'B01F')call UnitRemoveAbility(GetManipulatingUnit(),'B01G')call UnitRemoveAbility(GetManipulatingUnit(),'B01E')endfunctionfunction n0v takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='U00B')endfunctionfunction n1v takes nothing returns nothingif(n0v())thencall SetUnitInvulnerable(GetEnumUnit(),true)call DisableTrigger(GetTriggeringTrigger())call EnableTrigger(Jf)endifendfunctionfunction n2v takes nothing returns nothingcall ForGroupBJ(QF(bj_mapInitialPlayableArea),function n1v)endfunctionfunction n4v takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='U00B')endfunctionfunction n5v takes nothing returns nothingif(n4v())thencall SetUnitInvulnerable(GetEnumUnit(),false)call DisableTrigger(GetTriggeringTrigger())call EnableTrigger(kf)endifendfunctionfunction n6v takes nothing returns nothingcall ForGroupBJ(QF(bj_mapInitialPlayableArea),function n5v)endfunctionfunction n8v takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U00B')endfunctionfunction n9v takes nothing returns nothingcall TriggerSleepAction(20.)call DisableTrigger(GetTriggeringTrigger())call EnableTrigger(jf)call TriggerExecute(jf)endfunctionfunction Vev takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='U007')endfunctionfunction Vxv takes nothing returns nothingif(Vev())thencall SetUnitInvulnerable(GetEnumUnit(),true)call DisableTrigger(GetTriggeringTrigger())call EnableTrigger(lf)endifendfunctionfunction Vov takes nothing returns nothingcall ForGroupBJ(QF(bj_mapInitialPlayableArea),function Vxv)endfunctionfunction Viv takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='U007')endfunctionfunction Vav takes nothing returns nothingif(Viv())thencall SetUnitInvulnerable(GetEnumUnit(),false)call DisableTrigger(GetTriggeringTrigger())call EnableTrigger(Lf)endifendfunctionfunction Vnv takes nothing returns nothingcall ForGroupBJ(QF(bj_mapInitialPlayableArea),function Vav)endfunctionfunction VEv takes nothing returns booleanreturn(GetUnitTypeId(GetDyingUnit())=='U007')endfunctionfunction VXv takes nothing returns nothingcall TriggerSleepAction(10.)call DisableTrigger(GetTriggeringTrigger())call EnableTrigger(Kf)call TriggerExecute(jf)endfunctionfunction InitCustomTeams takes nothing returns nothingcall SetPlayerTeam(Player(0),0)call SetPlayerState(Player(0),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(1),1)call SetPlayerState(Player(1),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(2),1)call SetPlayerState(Player(2),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(3),1)call SetPlayerState(Player(3),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(4),1)call SetPlayerState(Player(4),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(5),1)call SetPlayerState(Player(5),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(6),1)call SetPlayerState(Player(6),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(7),1)call SetPlayerState(Player(7),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(8),1)call SetPlayerState(Player(8),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(9),1)call SetPlayerState(Player(9),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerAllianceStateAllyBJ(Player(1),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(8),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(9),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(8),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(9),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(8),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(9),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(8),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(9),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(8),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(9),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(8),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(9),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(8),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(9),true)call SetPlayerAllianceStateAllyBJ(Player(8),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(8),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(8),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(8),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(8),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(8),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(8),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(8),Player(9),true)call SetPlayerAllianceStateAllyBJ(Player(9),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(9),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(9),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(9),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(9),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(9),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(9),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(9),Player(8),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(8),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(9),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(8),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(9),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(8),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(9),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(8),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(9),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(8),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(9),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(8),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(9),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(8),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(9),true)call SetPlayerAllianceStateVisionBJ(Player(8),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(8),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(8),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(8),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(8),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(8),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(8),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(8),Player(9),true)call SetPlayerAllianceStateVisionBJ(Player(9),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(9),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(9),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(9),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(9),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(9),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(9),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(9),Player(8),true)endfunctionfunction main takes nothing returns nothinglocal weathereffect welocal destructable dlocal trigger tlocal real lifelocal integer ilocal integer Rglocal integer Iglocal version vlocal integer ogcall SetCameraBounds(-13568.+GetCameraMargin(CAMERA_MARGIN_LEFT),-13824.+GetCameraMargin(CAMERA_MARGIN_BOTTOM),13568.-GetCameraMargin(CAMERA_MARGIN_RIGHT),13312.-GetCameraMargin(CAMERA_MARGIN_TOP),-13568.+GetCameraMargin(CAMERA_MARGIN_LEFT),13312.-GetCameraMargin(CAMERA_MARGIN_TOP),13568.-GetCameraMargin(CAMERA_MARGIN_RIGHT),-13824.+GetCameraMargin(CAMERA_MARGIN_BOTTOM))call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl","Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")call SetTerrainFogEx(0,1200.,4500.,100.,.753,.753,.753)call SetWaterBaseColor(60,60,$FF,$FF)call NewSoundEnvironment("Default")call SetAmbientDaySound("IceCrownDay")call SetAmbientNightSound("IceCrownNight")call SetMapMusic("Music",true,0)set EI=CreateSound("Sound\\Ambient\\DoodadEffects\\UtherReturns.wav",false,false,false,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(EI,"UtherReturnsSound")call SetSoundDuration(EI,6711)set XI=CreateSound("Sound\\Interface\\NewTournament.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(XI,"NewTournament")call SetSoundDuration(XI,7988)set OI=CreateSound("Sound\\Interface\\GameFound.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(OI,"GameFound")call SetSoundDuration(OI,7488)set RI=CreateSound("Units\\Undead\\Abomination\\AbominationPissed1.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(RI,"AbominationPissed")call SetSoundDuration(RI,$A9C)set II=CreateSound("Units\\Undead\\Abomination\\AbominationYes3.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(II,"AbominationYes")call SetSoundDuration(II,$74D)set AI=CreateSound("Sound\\Interface\\QuestNew.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(AI,"QuestNew")call SetSoundDuration(AI,$EA6)set NI=CreateSound("Sound\\Interface\\ItemReceived.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(NI,"ItemReward")call SetSoundDuration(NI,$5CB)set bI=CreateSound("Sound\\Interface\\CreepAggroWhat1.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(bI,"CreepAggro")call SetSoundDuration(bI,$4D4)set BI=CreateSound("Units\\Human\\HeroPaladin\\HeroPaladinPissed6.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(BI,"HeroPaladinPissed")call SetSoundDuration(BI,9549)set cI=CreateSound("Units\\Human\\HeroPaladin\\HeroPaladinPissed1.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(cI,"HeroPaladinPissed")call SetSoundDuration(cI,$5F1)set CI=CreateSound("Units\\Human\\HeroBloodElf\\BloodElfMagePissed6.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(CI,"BloodElfSorcerorPissed")call SetSoundDuration(CI,$3F1E)set dI=CreateSound("Sound\\Ambient\\Ashenvale\\FreakyForest4.wav",false,false,false,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(dI,"FreakyForest4")call SetSoundDuration(dI,5248)set DI=CreateSound("Sound\\Ambient\\DoodadEffects\\WarlockAppears.wav",false,false,false,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(DI,"ArchimondeAppearsSound")call SetSoundDuration(DI,7361)set fI=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack3.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(fI,"GoblinSapperYesAttack")call SetSoundDuration(fI,$7EA)set FI=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack4.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(FI,"GoblinSapperYesAttack")call SetSoundDuration(FI,$443)set gI=CreateSound("Doodads\\Cinematic\\DungeonLever\\Lever.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(gI,"LeverDeath")call SetSoundDuration(gI,819)set GI=CreateSound("Sound\\Interface\\SecretFound.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(GI,"SecretFound")call SetSoundDuration(GI,$9DD)set hI=CreateSound("Sound\\Interface\\UpkeepRing.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(hI,"UpkeepLevel")call SetSoundDuration(hI,$62B)set HI=CreateSound("Sound\\Interface\\BattleNetTick.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(HI,"ChatroomTimerTick")call SetSoundDuration(HI,476)set jI=CreateSound("Sound\\Ambient\\DoodadEffects\\SargerasLaugh.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(jI,"SargerasLaugh")call SetSoundDuration(jI,$CFE)set JI=CreateSound("Sound\\Interface\\ArrangedTeamInvitation.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(JI,"ArrangedTeamInvitation")call SetSoundDuration(JI,$B62)set kI=CreateSound("war3mapImported\\106 Level Up!.mp3",false,false,false,$A,$A,"")call SetSoundDuration(kI,$E58)call SetSoundChannel(kI,0)call SetSoundVolume(kI,$7F)call SetSoundPitch(kI,1.)set lI=CreateSound("Sound\\Interface\\Rescue.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(lI,"Rescue")call SetSoundDuration(lI,$ED4)set LI=CreateSound("war3mapImported\\SPEED FREAK.mp3",false,false,false,$A,$A,"")call SetSoundDuration(LI,$810)call SetSoundChannel(LI,0)call SetSoundVolume(LI,$7F)call SetSoundPitch(LI,1.)set mI=CreateSound("Units\\Human\\Phoenix\\PhoenixBirth.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(mI,"PhoenixBirth")call SetSoundDuration(mI,$5E8)set MI=CreateSound("Units\\Human\\Phoenix\\PhoenixWhat2.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(MI,"PhoenixWhat")call SetSoundDuration(MI,$577)set PI=CreateSound("war3mapImported\\Speed.mp3",false,false,false,$A,$A,"")call SetSoundDuration(PI,$783)call SetSoundChannel(PI,0)call SetSoundVolume(PI,$7F)call SetSoundPitch(PI,1.)set qI=CreateSound("war3mapImported\\Combowhore.mp3",false,false,false,$A,$A,"")call SetSoundDuration(qI,$7A7)call SetSoundChannel(qI,0)call SetSoundVolume(qI,$7F)call SetSoundPitch(qI,1.)set QI=CreateSound("war3mapImported\\FLAWLESS VICTORY.mp3",false,false,false,$A,$A,"")call SetSoundDuration(QI,$773)call SetSoundChannel(QI,0)call SetSoundVolume(QI,$7F)call SetSoundPitch(QI,1.)set pV=Rect(128.,-12288.,320.,-12096.)set PV=Rect(11712.,12480.,11840.,12608.)set qV=Rect(160.,-12480.,288.,-12352.)set QV=Rect(32.,-12064.,64.,-12000.)set sV=Rect(-5376.,-832.,-4576.,-224.)set SV=Rect(-13600.,9216.,-13216.,9632.)set tV=Rect(-12800.,5984.,-12416.,6272.)set TV=Rect(12800.,12864.,12928.,12992.)set uV=Rect(12768.,13024.,12832.,13088.)set UV=Rect(-928.,4256.,-608.,4608.)set wV=Rect(12384.,11136.,12576.,11296.)set WV=Rect(-4960.,3168.,-4832.,3296.)set yV=Rect(12032.,12864.,12160.,12992.)set YV=Rect(12000.,13024.,12064.,13088.)set zV=Rect(-10848.,12896.,-10592.,13152.)set ZV=Rect(8800.,11712.,9024.,12128.)set vE=Rect(8352.,10688.,8672.,10912.)set eE=Rect(10496.,9856.,10688.,10336.)set xE=Rect(4864.,8896.,5056.,9344.)set oE=Rect(5216.,9504.,5568.,9696.)set rE=Rect(4480.,12704.,4832.,12896.)set iE=Rect(5728.,8896.,5888.,9312.)set aE=Rect(6464.,8640.,6624.,8960.)set nE=Rect(5184.,8672.,5568.,8832.)set VE=Rect(9888.,9024.,10208.,9216.)set EE=Rect(10528.,12512.,10688.,12928.)set XE=Rect(13248.,4864.,13312.,4928.)set OE=Rect(6848.,-1216.,7360.,-704.)set RE=Rect(-4992.,3328.,-4800.,3488.)set IE=Rect(8576.,-11296.,8800.,-11136.)set AE=Rect(-1344.,-8224.,-1024.,-7904.)set NE=Rect(4192.,-8480.,4672.,-7968.)set bE=Rect(2688.,-8768.,3040.,-8416.)set BE=Rect(-3168.,-10400.,-3008.,-10240.)set cE=Rect(-3424.,-10400.,-3264.,-10240.)set CE=Rect(-3168.,-10656.,-3008.,-10496.)set dE=Rect(-3424.,-10656.,-3264.,-10496.)set DE=Rect(4288.,2368.,4416.,2496.)set fE=Rect(5824.,2368.,5952.,2496.)set FE=Rect(4672.,2752.,4800.,2880.)set gE=Rect(4544.,2112.,4672.,2240.)set GE=Rect(5472.,2112.,5600.,2240.)set hE=Rect(6464.,2112.,6592.,2240.)set HE=Rect(5344.,2752.,5472.,2880.)set jE=Rect(5600.,2752.,5728.,2880.)set JE=Rect(5856.,2752.,5984.,2880.)set kE=Rect(6208.,2624.,6336.,2752.)set KE=Rect(6592.,2752.,6720.,2880.)set lE=Rect(6592.,2464.,6720.,2592.)set LE=Rect(-7040.,32.,-6784.,288.)set mE=Rect(-6912.,-6304.,-6720.,-6048.)set ME=Rect(11072.,3104.,11296.,3712.)set pE=Rect(-3424.,-10624.,-3008.,-10272.)set PE=Rect(8064.,3456.,8256.,3680.)set qE=Rect(4128.,2784.,4480.,3136.)set QE=Rect(6240.,3072.,6496.,3200.)set sE=Rect(5216.,1600.,5504.,1888.)set SE=Rect(6336.,192.,6624.,480.)set tE=Rect(6912.,64.,7328.,448.)set TE=Rect(7616.,2880.,7840.,3040.)set uE=Rect(-5536.,-10880.,-5088.,-10304.)set UE=Rect(4384.,3328.,7680.,3808.)set wE=Rect(4224.,2048.,6752.,3200.)set WE=Rect(5216.,384.,6784.,1952.)set yE=Rect(6912.,64.,8000.,3040.)set YE=Rect(6912.,576.,6976.,1472.)set zE=Rect(-7584.,-7488.,-6848.,-6912.)set ZE=Rect(3808.,3360.,4224.,3776.)set vX=Rect(13312.,12864.,13440.,12992.)set eX=Rect(13312.,13024.,13376.,13088.)set xX=Rect(-12960.,4704.,-12384.,4960.)set oX=Rect(-5824.,-11136.,-2784.,-10048.)set rX=Rect(-12992.,-3296.,-12352.,5280.)set iX=Rect(-13536.,-11520.,-11200.,-8000.)set aX=Rect(-11616.,-11232.,-11296.,-10944.)set nX=Rect(-13408.,-11264.,-12992.,-11008.)set VX=Rect(-11776.,-8512.,-11488.,-8192.)set EX=Rect(-13280.,-8640.,-12960.,-8352.)set XX=Rect(12384.,11008.,12576.,11136.)set OX=Rect(11456.,12480.,11648.,12672.)set RX=Rect(5632.,3520.,5760.,3648.)set IX=Rect(6688.,3520.,6816.,3648.)set AX=Rect(7584.,3552.,7648.,3616.)set NX=Rect(4448.,3552.,4512.,3616.)set bX=Rect(8320.,-12768.,8480.,-12288.)set BX=Rect(1312.,-4992.,2016.,-4832.)set cX=Rect(2784.,-3136.,2944.,-2496.)set CX=Rect(-3584.,6272.,-3424.,6976.)set dX=Rect(-10016.,-11552.,-9152.,-11392.)set DX=Rect(-9664.,-11392.,-9536.,-11264.)set fX=Rect(4896.,4384.,5088.,4576.)set FX=Rect(5472.,6176.,5664.,6368.)set gX=Rect(6112.,6496.,6304.,6688.)set GX=Rect(9056.,6560.,9248.,6752.)set hX=Rect(8352.,7328.,8544.,7520.)set HX=Rect(7200.,5408.,7392.,5600.)set jX=Rect(10464.,6496.,10656.,6688.)set JX=Rect(3968.,-8864.,6816.,-4416.)call SetSoundPosition(dI,5392.,-6640.,.0)call RegisterStackedSound(dI,true,2848.,4448.)set kX=Rect(2912.,-13184.,3136.,-12864.)set KX=Rect(4192.,-12512.,4512.,-11968.)set lX=Rect(416.,2048.,864.,2464.)set LX=Rect(-10464.,-5472.,-10176.,-5312.)set mX=Rect(-10592.,-7744.,-10304.,-7520.)set MX=Rect(-10144.,-5504.,-9920.,-5248.)set pX=Rect(-10656.,-7968.,-10176.,-7808.)set PX=Rect(13376.,4928.,13472.,5056.)set qX=Rect(11456.,2080.,11776.,2528.)set QX=Rect(2720.,2368.,3264.,2912.)set sX=Rect(9024.,3520.,9312.,3808.)set SX=Rect(8128.,-1856.,8640.,-1344.)set tX=Rect(6848.,-1856.,7360.,-1344.)set TX=Rect(-9184.,-8192.,-8256.,-7680.)set uX=Rect(-7680.,-9600.,-7264.,-9152.)set UX=Rect(-3200.,-7552.,-2944.,-7040.)set wX=Rect(-7232.,5376.,-6592.,5888.)set WX=Rect(-8448.,11744.,-8064.,12128.)set yX=Rect(10688.,-6176.,11008.,-5920.)set YX=Rect(11680.,-9600.,12000.,-9344.)set zX=Rect(10816.,-9568.,11168.,-9216.)set ZX=Rect(6976.,704.,7104.,832.)set vO=Rect(7488.,992.,7616.,1120.)set eO=Rect(7616.,1600.,7744.,1728.)set xO=Rect(7328.,1856.,7456.,1984.)set oO=Rect(6944.,2208.,7072.,2336.)set rO=Rect(7808.,736.,7936.,864.)set iO=Rect(7808.,480.,7936.,608.)set aO=Rect(7808.,1856.,7936.,1984.)set nO=Rect(6976.,1600.,7104.,1728.)set VO=Rect(6944.,2656.,7072.,2784.)set EO=Rect(7232.,1216.,7360.,1344.)set XO=Rect(7616.,1216.,7744.,1344.)set OO=Rect(7520.,2112.,7648.,2240.)set RO=Rect(7808.,2368.,7936.,2496.)set IO=Rect(7232.,2304.,7360.,2432.)set AO=Rect(7104.,1984.,7232.,2112.)set NO=Rect(9472.,-13440.,10048.,-12768.)set bO=Rect(10688.,-13248.,11136.,-12800.)set BO=Rect(-13248.,-9888.,-12896.,-9536.)set cO=Rect(-10304.,-10944.,-9344.,-10176.)set CO=Rect(-13312.,-10464.,-12992.,-9856.)set dO=Rect(-13408.,-11008.,-12544.,-10464.)set DO=Rect(11776.,12864.,11904.,12992.)set fO=Rect(11744.,13024.,11808.,13088.)set FO=Rect(6048.,-2016.,9440.,-544.)set gO=Rect(-13408.,12992.,-12832.,13216.)set GO=Rect(-12128.,10752.,-11840.,11328.)set hO=Rect(-13472.,7584.,-13248.,8160.)set HO=Rect(-12512.,7232.,-11936.,7392.)set jO=Rect(8768.,-1856.,9280.,-1344.)set JO=Rect(6048.,1344.,6176.,1472.)set kO=Rect(6432.,704.,6560.,832.)set KO=Rect(6176.,1216.,6304.,1344.)set lO=Rect(5696.,1472.,5824.,1600.)set LO=Rect(5472.,704.,5600.,832.)set mO=Rect(6176.,576.,6304.,704.)set MO=Rect(6592.,1472.,6720.,1600.)set pO=Rect(6304.,1344.,6432.,1472.)set PO=Rect(5312.,1344.,5440.,1472.)set qO=Rect(6048.,1088.,6176.,1216.)set QO=Rect(6592.,960.,6720.,1088.)set sO=Rect(5312.,704.,5440.,832.)set SO=Rect(5856.,576.,5984.,704.)set tO=Rect(-10176.,3520.,-9920.,3744.)set TO=Rect(12384.,9952.,12704.,10144.)set uO=Rect(12352.,10176.,12736.,10336.)set UO=Rect(-10240.,3744.,-9856.,3968.)set wO=Rect(1888.,4096.,2368.,4704.)set WO=Rect(2656.,4960.,2944.,5376.)set yO=Rect(-3104.,-2400.,-2656.,-1984.)set YO=Rect(-6304.,-3104.,-5888.,-2688.)set zO=Rect(-5984.,-4448.,-5568.,-4032.)set ZO=Rect(-1920.,-3040.,-1184.,-2688.)set vR=Rect(-8224.,416.,-6176.,1600.)set eR=Rect(-6976.,-2176.,-6016.,-768.)set xR=Rect(-5984.,64.,-1920.,1568.)set oR=Rect(6208.,-1856.,6720.,-1344.)set rR=Rect(7488.,-1856.,8000.,-1344.)set iR=Rect(-736.,-6848.,384.,-5760.)set aR=Rect(8128.,-1216.,8640.,-704.)set nR=Rect(-2528.,8416.,-1696.,9088.)set VR=Rect(3712.,4320.,4224.,4800.)set ER=Rect(9504.,4384.,9824.,4672.)set XR=Rect(6208.,-1216.,6720.,-704.)set OR=Rect(-1600.,-8960.,-832.,-8704.)set RR=Rect(-5792.,2528.,-5472.,2880.)set IR=Rect(2272.,-128.,2560.,160.)set AR=Rect(2656.,-11744.,2944.,-11456.)set NR=Rect(-12736.,-3200.,-12480.,-2944.)set bR=Rect(-7264.,-4480.,-6944.,-4224.)set BR=Rect(-6240.,-5728.,-5760.,-5248.)set cR=Rect(-12864.,4000.,-12480.,4320.)set CR=Rect(2912.,-672.,3008.,-576.)set dR=Rect(11392.,-1472.,11776.,-1024.)set DR=Rect(-10848.,-9568.,-10176.,-8896.)set fR=Rect(8384.,288.,8640.,864.)set FR=Rect(4448.,1120.,4768.,1472.)set gR=Rect(-9216.,9088.,-8736.,9536.)set GR=Rect(320.,6144.,640.,6368.)set hR=Rect(3200.,8256.,3360.,8480.)set HR=Rect(3360.,8256.,3552.,8512.)set jR=Rect(640.,5824.,864.,6112.)set JR=Rect(-192.,10752.,96.,11072.)set kR=Rect(-12800.,-2624.,-12416.,-2304.)set KR=Rect(-3968.,9024.,-3552.,9408.)set lR=Rect(11520.,12864.,11648.,12992.)set LR=Rect(11456.,13024.,11488.,13088.)set mR=Rect(7488.,-1216.,8000.,-704.)set MR=Rect(12544.,12864.,12672.,12992.)set pR=Rect(12512.,13024.,12576.,13088.)set PR=Rect(12288.,12864.,12416.,12992.)set qR=Rect(12288.,13024.,12320.,13088.)set QR=Rect(-10464.,-6816.,-9824.,-6240.)set sR=Rect(-13216.,-4960.,-12768.,-4736.)set SR=Rect(-11808.,-5216.,-11456.,-4928.)set tR=Rect(-9920.,-4320.,-9728.,-4064.)set TR=Rect(-8256.,-2656.,-8064.,-2400.)set uR=Rect(-8064.,-2656.,-7808.,-2400.)set UR=Rect(-10080.,-4384.,-9920.,-4192.)set wR=Rect(13056.,12864.,13184.,12992.)set WR=Rect(12992.,13024.,13024.,13088.)set yR=Rect(8768.,-1216.,9280.,-704.)set YR=Rect(-9504.,-13728.,-6336.,-13024.)set zR=Rect(-5632.,-13696.,-2944.,-13152.)set ZR=Rect(-3744.,-12448.,-3360.,-12096.)set vI=Rect(-5248.,-12448.,-4864.,-12096.)set eI=Rect(-4480.,-12448.,-4096.,-12096.)set xI=Rect(-9408.,-13472.,-9024.,-13120.)set oI=Rect(-4832.,10304.,-4384.,11200.)set rI=Rect(-6400.,-13824.,-2144.,-11648.)set iI=Rect(-4448.,-13152.,-4064.,-12800.)set aI=Rect(-6240.,-13440.,-5920.,-13120.)set nI=Rect(-6240.,-12992.,-5920.,-12672.)set VI=Rect(-5760.,-13696.,-2784.,-12512.)set AF=CreateDestructable('ATg3',7424.,4544.,.0,.9,0)set IF=CreateDestructable('ITg3',3072.,-12992.,.0,.9,0)set RF=CreateDestructable('ITg3',4352.,-12224.,.0,.9,0)set bF=CreateDestructable('LTg1',640.,2240.,270.,.9,0)set NF=CreateDestructable('YTcx',-6912.,5632.,270.,1.,0)call Ng()call Bg()call Ag()call bg()call cg()call ConfigureNeutralVictim()set FF=Filter(function Xg)set filterIssueHauntOrderAtLocBJ=Filter(function IssueHauntOrderAtLocBJFilter)set filterEnumDestructablesInCircleBJ=Filter(function lF)set filterGetUnitsInRectOfPlayer=Filter(function GetUnitsInRectOfPlayerFilter)set filterGetUnitsOfTypeIdAll=Filter(function GetUnitsOfTypeIdAllFilter)set filterGetUnitsOfPlayerAndTypeId=Filter(function GetUnitsOfPlayerAndTypeIdFilter)set filterMeleeTrainedUnitIsHeroBJ=Filter(function MeleeTrainedUnitIsHeroBJFilter)set filterLivingPlayerUnitsOfTypeId=Filter(function LivingPlayerUnitsOfTypeIdFilter)set Rg=0loopexitwhen Rg==16set bj_FORCE_PLAYER[Rg]=CreateForce()call ForceAddPlayer(bj_FORCE_PLAYER[Rg],Player(Rg))set Rg=Rg+1endloopset bj_FORCE_ALL_PLAYERS=CreateForce()call ForceEnumPlayers(bj_FORCE_ALL_PLAYERS,null)set bj_cineModePriorSpeed=GetGameSpeed()set bj_cineModePriorFogSetting=IsFogEnabled()set bj_cineModePriorMaskSetting=IsFogMaskEnabled()set Rg=0loopexitwhen Rg>=bj_MAX_QUEUED_TRIGGERSset bj_queuedExecTriggers[Rg]=nullset bj_queuedExecUseConds[Rg]=falseset Rg=Rg+1endloopset bj_isSinglePlayer=falseset Ig=0set Rg=0loopexitwhen Rg>=$Cif(GetPlayerController(Player(Rg))==MAP_CONTROL_USER and GetPlayerSlotState(Player(Rg))==PLAYER_SLOT_STATE_PLAYING)thenset Ig=Ig+1endifset Rg=Rg+1endloopset bj_isSinglePlayer=(Ig==1)set bj_rescueSound=CreateSoundFromLabel("Rescue",false,false,false,$2710,$2710)set bj_questDiscoveredSound=CreateSoundFromLabel("QuestNew",false,false,false,$2710,$2710)set bj_questUpdatedSound=CreateSoundFromLabel("QuestUpdate",false,false,false,$2710,$2710)set bj_questCompletedSound=CreateSoundFromLabel("QuestCompleted",false,false,false,$2710,$2710)set bj_questFailedSound=CreateSoundFromLabel("QuestFailed",false,false,false,$2710,$2710)set bj_questHintSound=CreateSoundFromLabel("Hint",false,false,false,$2710,$2710)set bj_questSecretSound=CreateSoundFromLabel("SecretFound",false,false,false,$2710,$2710)set bj_questItemAcquiredSound=CreateSoundFromLabel("ItemReward",false,false,false,$2710,$2710)set bj_questWarningSound=CreateSoundFromLabel("Warning",false,false,false,$2710,$2710)set bj_victoryDialogSound=CreateSoundFromLabel("QuestCompleted",false,false,false,$2710,$2710)set bj_defeatDialogSound=CreateSoundFromLabel("QuestFailed",false,false,false,$2710,$2710)call DelayedSuspendDecayCreate()set v=VersionGet()if(v==VERSION_REIGN_OF_CHAOS)thenset bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V0elseset bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V1endifcall InitQueuedTriggers()call InitRescuableBehaviorBJ()call InitDNCSounds()call InitMapRects()call InitSummonableCaps()set og=0loopset bj_stockAllowedPermanent[og]=falseset bj_stockAllowedCharged[og]=falseset bj_stockAllowedArtifact[og]=falseset og=og+1exitwhen og>$Aendloopcall SetAllItemTypeSlots($B)call SetAllUnitTypeSlots($B)set bj_stockUpdateTimer=CreateTimer()call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INITIAL_DELAY,false,function Vg)set bj_stockItemPurchased=CreateTrigger()call TriggerRegisterPlayerUnitEvent(bj_stockItemPurchased,Player($F),EVENT_PLAYER_UNIT_SELL_ITEM,null)call TriggerAddAction(bj_stockItemPurchased,function RemovePurchasedItem)call DetectGameStarted()set i=0set X=CreateGroup()set i=0loopexitwhen(i>1)set R[i]=0set A[i]=0set b[i]=0set P[i]=0set T[i]=0set U[i]=0set ev[i]=0set iv[i]=0set Ev[i]=0set Xv[i]=0set dv[i]=CreateGroup()set jv[i]=CreateGroup()set kv[i]=0set Kv[i]=0set wv[i]=0set Yv[i]=0set ne[i]=0set Ce[i]=0set de[i]=0set De[i]=0set vx[i]=CreateForce()set Bx[i]=0set hx[i]=0set Jx[i]=CreateGroup()set Lx[i]=0set Sx[i]=""set yx[i]=0set Zx[i]=0set xo[i]=0set oo[i]=0set Qo[i]=""set wo[i]=0set Wo[i]=0set yo[i]=0set Yo[i]=0set zo[i]=0set Zo[i]=0set vr[i]=""set er[i]=""set xr[i]=falseset rr[i]=0set ir[i]=0set wr[i]=0set ei[i]=0set oi[i]=0set ni[i]=0set Vi[i]=0set Ri[i]=0set Ai[i]=0set ci[i]=0set Ci[i]=0set di[i]=0set Di[i]=0set fi[i]=0set Fi[i]=0set hi[i]=0set Hi[i]=0set Ki[i]=0set li[i]=0set si[i]=CreateGroup()set ra[i]=0set Ia[i]=CreateGroup()set La[i]=0set Wa[i]=0set Ya[i]=0set za[i]=0set Za[i]=0set en[i]=0set Fn[i]=0set gn[i]=0set Hn[i]=0set Wn[i]=0set zn[i]=0set xV[i]=0set XV[i]=0set i=i+1endloopset K=CreateForce()set xv=CreateForce()set rv=CreateForce()set av=CreateForce()set nv=CreateForce()set Vv=CreateForce()set Ov=CreateForce()set Rv=CreateForce()set Iv=CreateGroup()set Nv=CreateGroup()set bv=CreateGroup()set lv=CreateForce()set mv=CreateForce()set Mv=CreateForce()set pv=CreateForce()set qv=CreateForce()set Qv=CreateForce()set sv=CreateForce()set Sv=CreateForce()set Wv=CreateForce()set Zv=CreateForce()set ee=CreateForce()set ie=CreateForce()set ae=CreateForce()set Ve=CreateForce()set Ee=CreateForce()set Xe=CreateForce()set Oe=CreateForce()set Re=CreateForce()set Ie=CreateForce()set Ae=CreateForce()set Ne=CreateForce()set be=CreateForce()set Be=CreateForce()set ce=CreateForce()set fe=CreateForce()set Fe=CreateForce()set ge=CreateForce()set i=0loopexitwhen(i>$F)set Je[i]=CreateGroup()set i=i+1endloopset qe=CreateForce()set te=CreateForce()set Ue=CreateForce()set Ye=CreateForce()set ze=CreateForce()set Ze=CreateForce()set ex=CreateForce()set xx=CreateForce()set ox=CreateForce()set ix=CreateGroup()set nx=CreateTimer()set Xx=CreateForce()set Ox=CreateForce()set Rx=CreateForce()set Ix=CreateForce()set Ax=CreateForce()set bx=CreateForce()set cx=CreateForce()set fx=CreateForce()set jx=CreateForce()set kx=CreateForce()set mx=CreateForce()set Mx=CreateForce()set px=CreateForce()set Px=CreateGroup()set qx=CreateForce()set Yx=CreateForce()set zx=CreateForce()set Ro=CreateTimer()set bo=CreateTimer()set do=CreateTimer()set Do=CreateTimer()set fo=CreateTimer()set Fo=CreateTimer()set go=CreateTimer()set Go=CreateTimer()set ho=CreateTimer()set Ho=CreateTimer()set jo=CreateTimer()set Ko=CreateForce()set So=CreateGroup()set Rr=CreateForce()set Ar=CreateForce()set i=0loopexitwhen(i>6)set Nr[i]=0set i=i+1endloopset br=DialogCreate()set dr=CreateGroup()set i=0loopexitwhen(i>3)set Dr[i]=0set ji[i]=CreateForce()set i=i+1endloopset fr=CreateGroup()set Fr=CreateGroup()set gr=CreateGroup()set Gr=CreateGroup()set i=0loopexitwhen(i>$A)set Mr[i]=CreateGroup()set qr[i]=CreateGroup()set Un[i]=CreateTimer()set AV[i]=CreateTimer()set i=i+1endloopset Sr=CreateForce()set ur=CreateGroup()set zr=CreateForce()set i=0loopexitwhen(i>$D)set Zr[i]=CreateForce()set vi[i]=CreateForce()set mi[i]=CreateGroup()set Mi[i]=CreateForce()set jV[i]=CreateTimer()set lV[i]=0set i=i+1endloopset bi=CreateForce()set Bi=CreateForce()set i=0loopexitwhen(i>7)set gi[i]=CreateForce()set Gi[i]=CreateForce()set i=i+1endloopset i=0loopexitwhen(i>2)set ki[i]=CreateForce()set CV[i]=0set i=i+1endloopset i=0loopexitwhen(i>5)set Li[i]=CreateForce()set i=i+1endloopset pi=CreateGroup()set Ui=CreateGroup()set zi=CreateGroup()set ea=CreateGroup()set xa=CreateForce()set ia=CreateGroup()set Va=CreateGroup()set Xa=CreateGroup()set ca=CreateGroup()set Ca=CreateGroup()set ja=CreateGroup()set la=CreateGroup()set Ua=CreateGroup()set wa=CreateGroup()set ya=CreateGroup()set rn=CreateForce()set in=CreateGroup()set In=$Dset Bn=CreateGroup()set i=0loopexitwhen(i>4)set Gn[i]=CreateForce()set cV[i]=falseset i=i+1endloopset Jn=CreateTimer()set kn=CreateTimer()set Kn=CreateTimer()set ln=CreateTimer()set Ln=CreateTimer()set mn=CreateTimer()set Mn=CreateTimer()set pn=CreateTimer()set Pn=CreateTimer()set qn=CreateTimer()set sn=CreateForce()set Sn=CreateForce()set Tn=CreateForce()set un=CreateForce()set wn=CreateForce()set nV=CreateGroup()set VV=CreateForce()set EV=CreateForce()set OV=CreateGroup()set IV=1set NV=CreateGroup()set dV=CreateGroup()set gV=CreateGroup()set GV=CreateGroup()set HV=trueset kV=CreateGroup()set KV=CreateGroup()set LV=CreateGroup()set mV=CreateGroup()set MV=CreateGroup()set sI=CreateTrigger()call TriggerAddAction(sI,function zg)set SI=CreateTrigger()call TriggerRegisterTimerEventSingle(SI,1.)call TriggerAddAction(SI,function vG)set tI=CreateTrigger()call TriggerRegisterEnterRectSimple(tI,bj_mapInitialPlayableArea)call TriggerAddCondition(tI,Condition(function oG))call TriggerAddAction(tI,function rG)set TI=CreateTrigger()call TriggerRegisterTimerEventSingle(TI,1.)call TriggerAddAction(TI,function VG)set uI=CreateTrigger()call TriggerRegisterTimerEventSingle(uI,.01)call TriggerAddAction(uI,function OG)set UI=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(UI,EVENT_PLAYER_UNIT_SELL)call TriggerAddAction(UI,function IG)set wI=CreateTrigger()call TriggerRegisterGameLoadedEventBJ(wI)call TriggerAddAction(wI,function bG)set WI=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(WI,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(WI,Condition(function cG))call TriggerAddAction(WI,function CG)set yI=CreateTrigger()call TriggerRegisterTimerEventSingle(yI,.5)call TriggerAddAction(yI,function DG)set YI=CreateTrigger()call TriggerRegisterTimerEventPeriodic(YI,2.)call TriggerAddAction(YI,function FG)set zI=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zI,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(zI,Condition(function GG))call TriggerAddAction(zI,function hG)set ZI=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ZI,EVENT_PLAYER_UNIT_DROP_ITEM)call TriggerAddCondition(ZI,Condition(function jG))call TriggerAddAction(ZI,function JG)set vA=CreateTrigger()call TriggerRegisterPlayerAllianceChange(vA,Player(0),ALLIANCE_SHARED_CONTROL)call TriggerRegisterPlayerAllianceChange(vA,Player(1),ALLIANCE_SHARED_CONTROL)call TriggerRegisterPlayerAllianceChange(vA,Player(2),ALLIANCE_SHARED_CONTROL)call TriggerRegisterPlayerAllianceChange(vA,Player(3),ALLIANCE_SHARED_CONTROL)call TriggerRegisterPlayerAllianceChange(vA,Player(4),ALLIANCE_SHARED_CONTROL)call TriggerRegisterPlayerAllianceChange(vA,Player(5),ALLIANCE_SHARED_CONTROL)call TriggerRegisterPlayerAllianceChange(vA,Player(6),ALLIANCE_SHARED_CONTROL)call TriggerRegisterPlayerAllianceChange(vA,Player(7),ALLIANCE_SHARED_CONTROL)call TriggerRegisterPlayerAllianceChange(vA,Player(8),ALLIANCE_SHARED_CONTROL)call TriggerRegisterPlayerAllianceChange(vA,Player(9),ALLIANCE_SHARED_CONTROL)call TriggerAddAction(vA,function KG)set eA=CreateTrigger()call TriggerRegisterPlayerChatEvent(eA,Player(0),"-clear",true)call TriggerRegisterPlayerChatEvent(eA,Player(1),"-clear",true)call TriggerRegisterPlayerChatEvent(eA,Player(2),"-clear",true)call TriggerRegisterPlayerChatEvent(eA,Player(3),"-clear",true)call TriggerRegisterPlayerChatEvent(eA,Player(4),"-clear",true)call TriggerRegisterPlayerChatEvent(eA,Player(5),"-clear",true)call TriggerRegisterPlayerChatEvent(eA,Player(6),"-clear",true)call TriggerRegisterPlayerChatEvent(eA,Player(7),"-clear",true)call TriggerRegisterPlayerChatEvent(eA,Player(8),"-clear",true)call TriggerRegisterPlayerChatEvent(eA,Player(9),"-clear",true)call TriggerAddAction(eA,function LG)set xA=CreateTrigger()call TriggerRegisterPlayerChatEvent(xA,Player(0),"-unlearn",true)call TriggerRegisterPlayerChatEvent(xA,Player(1),"-unlearn",true)call TriggerRegisterPlayerChatEvent(xA,Player(2),"-unlearn",true)call TriggerRegisterPlayerChatEvent(xA,Player(3),"-unlearn",true)call TriggerRegisterPlayerChatEvent(xA,Player(4),"-unlearn",true)call TriggerRegisterPlayerChatEvent(xA,Player(5),"-unlearn",true)call TriggerRegisterPlayerChatEvent(xA,Player(6),"-unlearn",true)call TriggerRegisterPlayerChatEvent(xA,Player(7),"-unlearn",true)call TriggerRegisterPlayerChatEvent(xA,Player(8),"-unlearn",true)call TriggerRegisterPlayerChatEvent(xA,Player(9),"-unlearn",true)call TriggerAddCondition(xA,Condition(function MG))call TriggerAddAction(xA,function pG)set oA=CreateTrigger()call TriggerRegisterPlayerChatEvent(oA,Player(0),"-time",true)call TriggerRegisterPlayerChatEvent(oA,Player(1),"-time",true)call TriggerRegisterPlayerChatEvent(oA,Player(2),"-time",true)call TriggerRegisterPlayerChatEvent(oA,Player(3),"-time",true)call TriggerRegisterPlayerChatEvent(oA,Player(4),"-time",true)call TriggerRegisterPlayerChatEvent(oA,Player(5),"-time",true)call TriggerRegisterPlayerChatEvent(oA,Player(6),"-time",true)call TriggerRegisterPlayerChatEvent(oA,Player(7),"-time",true)call TriggerRegisterPlayerChatEvent(oA,Player(8),"-time",true)call TriggerRegisterPlayerChatEvent(oA,Player(9),"-time",true)call TriggerAddAction(oA,function qG)set rA=CreateTrigger()call TriggerRegisterTimerEventPeriodic(rA,600.)call TriggerAddAction(rA,function yG)set iA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(iA,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(iA,Condition(function zG))call TriggerAddAction(iA,function eh)set aA=CreateTrigger()call TriggerRegisterPlayerChatEvent(aA,Player(0),"-ms",true)call TriggerRegisterPlayerChatEvent(aA,Player(1),"-ms",true)call TriggerRegisterPlayerChatEvent(aA,Player(2),"-ms",true)call TriggerRegisterPlayerChatEvent(aA,Player(3),"-ms",true)call TriggerRegisterPlayerChatEvent(aA,Player(4),"-ms",true)call TriggerRegisterPlayerChatEvent(aA,Player(5),"-ms",true)call TriggerRegisterPlayerChatEvent(aA,Player(6),"-ms",true)call TriggerRegisterPlayerChatEvent(aA,Player(7),"-ms",true)call TriggerRegisterPlayerChatEvent(aA,Player(8),"-ms",true)call TriggerRegisterPlayerChatEvent(aA,Player(9),"-ms",true)call TriggerAddAction(aA,function ih)set nA=CreateTrigger()call TriggerRegisterPlayerEventLeave(nA,Player(0))call TriggerRegisterPlayerEventLeave(nA,Player(1))call TriggerRegisterPlayerEventLeave(nA,Player(2))call TriggerRegisterPlayerEventLeave(nA,Player(3))call TriggerRegisterPlayerEventLeave(nA,Player(4))call TriggerRegisterPlayerEventLeave(nA,Player(5))call TriggerRegisterPlayerEventLeave(nA,Player(6))call TriggerRegisterPlayerEventLeave(nA,Player(7))call TriggerRegisterPlayerEventLeave(nA,Player(8))call TriggerRegisterPlayerEventLeave(nA,Player(9))call TriggerAddAction(nA,function Ch)set VA=CreateTrigger()call TriggerAddAction(VA,function Dh)set EA=CreateTrigger()call TriggerRegisterPlayerChatEvent(EA,Player(0),"-save",true)call TriggerRegisterPlayerChatEvent(EA,Player(1),"-save",true)call TriggerRegisterPlayerChatEvent(EA,Player(2),"-save",true)call TriggerRegisterPlayerChatEvent(EA,Player(3),"-save",true)call TriggerRegisterPlayerChatEvent(EA,Player(4),"-save",true)call TriggerRegisterPlayerChatEvent(EA,Player(5),"-save",true)call TriggerRegisterPlayerChatEvent(EA,Player(6),"-save",true)call TriggerRegisterPlayerChatEvent(EA,Player(7),"-save",true)call TriggerRegisterPlayerChatEvent(EA,Player(8),"-save",true)call TriggerRegisterPlayerChatEvent(EA,Player(9),"-save",true)call TriggerAddCondition(EA,Condition(function Fh))call TriggerAddAction(EA,function qh)set XA=CreateTrigger()call TriggerRegisterPlayerChatEvent(XA,Player(0),"-load ",false)call TriggerRegisterPlayerChatEvent(XA,Player(1),"-load ",false)call TriggerRegisterPlayerChatEvent(XA,Player(2),"-load ",false)call TriggerRegisterPlayerChatEvent(XA,Player(3),"-load ",false)call TriggerRegisterPlayerChatEvent(XA,Player(4),"-load ",false)call TriggerRegisterPlayerChatEvent(XA,Player(5),"-load ",false)call TriggerRegisterPlayerChatEvent(XA,Player(6),"-load ",false)call TriggerRegisterPlayerChatEvent(XA,Player(7),"-load ",false)call TriggerRegisterPlayerChatEvent(XA,Player(8),"-load ",false)call TriggerRegisterPlayerChatEvent(XA,Player(9),"-load ",false)call TriggerAddCondition(XA,Condition(function sh))call TriggerAddAction(XA,function uh)set OA=CreateTrigger()call TriggerRegisterPlayerChatEvent(OA,Player(0),"-load2 ",false)call TriggerRegisterPlayerChatEvent(OA,Player(1),"-load2 ",false)call TriggerRegisterPlayerChatEvent(OA,Player(2),"-load2 ",false)call TriggerRegisterPlayerChatEvent(OA,Player(3),"-load2 ",false)call TriggerRegisterPlayerChatEvent(OA,Player(4),"-load2 ",false)call TriggerRegisterPlayerChatEvent(OA,Player(5),"-load2 ",false)call TriggerRegisterPlayerChatEvent(OA,Player(6),"-load2 ",false)call TriggerRegisterPlayerChatEvent(OA,Player(7),"-load2 ",false)call TriggerRegisterPlayerChatEvent(OA,Player(8),"-load2 ",false)call TriggerRegisterPlayerChatEvent(OA,Player(9),"-load2 ",false)call TriggerAddCondition(OA,Condition(function wh))call TriggerAddAction(OA,function nH)set RA=CreateTrigger()call TriggerRegisterPlayerChatEvent(RA,Player(0),"-check ",false)call TriggerRegisterPlayerChatEvent(RA,Player(1),"-check ",false)call TriggerRegisterPlayerChatEvent(RA,Player(2),"-check ",false)call TriggerRegisterPlayerChatEvent(RA,Player(3),"-check ",false)call TriggerRegisterPlayerChatEvent(RA,Player(4),"-check ",false)call TriggerRegisterPlayerChatEvent(RA,Player(5),"-check ",false)call TriggerRegisterPlayerChatEvent(RA,Player(6),"-check ",false)call TriggerRegisterPlayerChatEvent(RA,Player(7),"-check ",false)call TriggerRegisterPlayerChatEvent(RA,Player(8),"-check ",false)call TriggerRegisterPlayerChatEvent(RA,Player(9),"-check ",false)call TriggerAddCondition(RA,Condition(function EH))call TriggerAddAction(RA,function OH)set IA=CreateTrigger()call TriggerRegisterPlayerChatEvent(IA,Player(0),"-check2 ",false)call TriggerRegisterPlayerChatEvent(IA,Player(1),"-check2 ",false)call TriggerRegisterPlayerChatEvent(IA,Player(2),"-check2 ",false)call TriggerRegisterPlayerChatEvent(IA,Player(3),"-check2 ",false)call TriggerRegisterPlayerChatEvent(IA,Player(4),"-check2 ",false)call TriggerRegisterPlayerChatEvent(IA,Player(5),"-check2 ",false)call TriggerRegisterPlayerChatEvent(IA,Player(6),"-check2 ",false)call TriggerRegisterPlayerChatEvent(IA,Player(7),"-check2 ",false)call TriggerRegisterPlayerChatEvent(IA,Player(8),"-check2 ",false)call TriggerRegisterPlayerChatEvent(IA,Player(9),"-check2 ",false)call TriggerAddCondition(IA,Condition(function IH))call TriggerAddAction(IA,function NH)set AA=CreateTrigger()call TriggerRegisterTimerEventPeriodic(AA,.01)call TriggerAddAction(AA,function BH)set NA=CreateTrigger()call TriggerAddCondition(NA,Condition(function CH))call TriggerAddAction(NA,function fH)set bA=CreateTrigger()call TriggerRegisterPlayerChatEvent(bA,Player(0),"-dps",true)call TriggerRegisterPlayerChatEvent(bA,Player(1),"-dps",true)call TriggerRegisterPlayerChatEvent(bA,Player(2),"-dps",true)call TriggerRegisterPlayerChatEvent(bA,Player(3),"-dps",true)call TriggerRegisterPlayerChatEvent(bA,Player(4),"-dps",true)call TriggerRegisterPlayerChatEvent(bA,Player(5),"-dps",true)call TriggerRegisterPlayerChatEvent(bA,Player(6),"-dps",true)call TriggerRegisterPlayerChatEvent(bA,Player(7),"-dps",true)call TriggerRegisterPlayerChatEvent(bA,Player(8),"-dps",true)call TriggerRegisterPlayerChatEvent(bA,Player(9),"-dps",true)call TriggerAddCondition(bA,Condition(function gH))call TriggerAddAction(bA,function GH)set BA=CreateTrigger()call TriggerAddAction(BA,function HH)set cA=CreateTrigger()call TriggerRegisterEnterRectSimple(cA,pV)call TriggerAddCondition(cA,Condition(function KH))call TriggerAddAction(cA,function lH)set CA=CreateTrigger()call TriggerRegisterEnterRectSimple(CA,OX)call TriggerAddAction(CA,function mH)set dA=CreateTrigger()call TriggerRegisterEnterRectSimple(dA,lR)call TriggerAddCondition(dA,Condition(function pH))call TriggerAddAction(dA,function PH)set DA=CreateTrigger()call TriggerRegisterEnterRectSimple(DA,DO)call TriggerAddCondition(DA,Condition(function QH))call TriggerAddAction(DA,function sH)set fA=CreateTrigger()call TriggerRegisterEnterRectSimple(fA,yV)call TriggerAddCondition(fA,Condition(function tH))call TriggerAddAction(fA,function TH)set FA=CreateTrigger()call TriggerRegisterEnterRectSimple(FA,PR)call TriggerAddCondition(FA,Condition(function UH))call TriggerAddAction(FA,function wH)set gA=CreateTrigger()call TriggerRegisterEnterRectSimple(gA,MR)call TriggerAddCondition(gA,Condition(function yH))call TriggerAddAction(gA,function YH)set GA=CreateTrigger()call TriggerRegisterEnterRectSimple(GA,TV)call TriggerAddCondition(GA,Condition(function ZH))call TriggerAddAction(GA,function xj)set hA=CreateTrigger()call TriggerRegisterEnterRectSimple(hA,wR)call TriggerAddCondition(hA,Condition(function rj))call TriggerAddAction(hA,function ij)set HA=CreateTrigger()call TriggerRegisterEnterRectSimple(HA,vX)call TriggerAddCondition(HA,Condition(function nj))call TriggerAddAction(HA,function Vj)set jA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(jA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(jA,Condition(function Xj))call TriggerAddAction(jA,function Oj)set JA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(JA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(JA,Condition(function Ij))call TriggerAddAction(JA,function Aj)set kA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(kA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(kA,Condition(function bj))call TriggerAddAction(kA,function Bj)set KA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(KA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(KA,Condition(function Cj))call TriggerAddAction(KA,function dj)set lA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(lA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(lA,Condition(function fj))call TriggerAddAction(lA,function gj)set LA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(LA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(LA,Condition(function hj))call TriggerAddAction(LA,function Hj)set mA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(mA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(mA,Condition(function Jj))call TriggerAddAction(mA,function kj)set MA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(MA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(MA,Condition(function lj))call TriggerAddAction(MA,function mj)set pA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(pA,Condition(function pj))call TriggerAddAction(pA,function Pj)set PA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(PA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(PA,Condition(function Qj))call TriggerAddAction(PA,function sj)set qA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(qA,Condition(function tj))call TriggerAddAction(qA,function uj)set QA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(QA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(QA,Condition(function wj))call TriggerAddAction(QA,function yj)set sA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(sA,Condition(function zj))call TriggerAddAction(sA,function Zj)set SA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(SA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(SA,Condition(function oJ))call TriggerAddAction(SA,function rJ)set tA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(tA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(tA,Condition(function aJ))call TriggerAddAction(tA,function nJ)set TA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(TA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(TA,Condition(function EJ))call TriggerAddAction(TA,function XJ)set uA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(uA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(uA,Condition(function RJ))call TriggerAddAction(uA,function IJ)set UA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(UA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(UA,Condition(function BJ))call TriggerAddAction(UA,function dJ)set wA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(wA,Condition(function fJ))call TriggerAddAction(wA,function FJ)set WA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(WA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(WA,Condition(function GJ))call TriggerAddAction(WA,function hJ)set yA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(yA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(yA,Condition(function jJ))call TriggerAddAction(yA,function JJ)set YA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(YA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(YA,Condition(function KJ))call TriggerAddAction(YA,function lJ)set zA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zA,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(zA,Condition(function mJ))call TriggerAddAction(zA,function MJ)set ZA=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ZA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(ZA,Condition(function PJ))call TriggerAddAction(ZA,function qJ)set vN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(vN,Condition(function sJ))call TriggerAddAction(vN,function tJ)set eN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(eN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(eN,Condition(function uJ))call TriggerAddAction(eN,function UJ)set xN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(xN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(xN,Condition(function WJ))call TriggerAddAction(xN,function YJ)set oN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(oN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(oN,Condition(function ZJ))call TriggerAddAction(oN,function vk)set rN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(rN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(rN,Condition(function xk))call TriggerAddAction(rN,function rk)set iN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(iN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(iN,Condition(function ak))call TriggerAddAction(iN,function Vk)set aN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(aN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(aN,Condition(function Xk))call TriggerAddAction(aN,function Ok)set nN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(nN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(nN,Condition(function Ik))call TriggerAddAction(nN,function Nk)set VN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(VN,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(VN,Condition(function Bk))call TriggerAddAction(VN,function Ck)set EN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(EN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(EN,Condition(function Dk))call TriggerAddAction(EN,function Fk)set XN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(XN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(XN,Condition(function Gk))call TriggerAddAction(XN,function Hk)set ON=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ON,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(ON,Condition(function Jk))call TriggerAddAction(ON,function Kk)set RN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(RN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(RN,Condition(function Lk))call TriggerAddAction(RN,function Mk)set IN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(IN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(IN,Condition(function Pk))call TriggerAddAction(IN,function qk)set AN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(AN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(AN,Condition(function sk))call TriggerAddAction(AN,function Sk)set NN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(NN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(NN,Condition(function Tk))call TriggerAddAction(NN,function Uk)set bN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(bN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(bN,Condition(function Wk))call TriggerAddAction(bN,function yk)set BN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(BN,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(BN,Condition(function Zk))call TriggerAddAction(BN,function eK)set cN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(cN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(cN,Condition(function oK))call TriggerAddAction(cN,function iK)set CN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(CN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(CN,Condition(function nK))call TriggerAddAction(CN,function VK)set dN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(dN,Condition(function XK))call TriggerAddAction(dN,function OK)set DN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DN,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(DN,Condition(function AK))call TriggerAddAction(DN,function bK)set fN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(fN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(fN,Condition(function cK))call TriggerAddAction(fN,function dK)set FN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(FN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(FN,Condition(function fK))call TriggerAddAction(FN,function FK)set gN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(gN,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(gN,Condition(function GK))call TriggerAddAction(gN,function HK)set GN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(GN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(GN,Condition(function JK))call TriggerAddAction(GN,function KK)set hN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(hN,Condition(function MK))call TriggerAddAction(hN,function qK)set HN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(HN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(HN,Condition(function sK))call TriggerAddAction(HN,function SK)set jN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(jN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(jN,Condition(function TK))call TriggerAddAction(jN,function uK)set JN=CreateTrigger()call TriggerRegisterEnterRectSimple(JN,WX)call TriggerAddCondition(JN,Condition(function wK))call TriggerAddAction(JN,function WK)set kN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(kN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(kN,Condition(function YK))call TriggerAddAction(kN,function zK)set KN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(KN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(KN,Condition(function vl))call TriggerAddAction(KN,function el)set lN=CreateTrigger()call TriggerRegisterEnterRectSimple(lN,FR)call TriggerAddCondition(lN,Condition(function ol))call TriggerAddAction(lN,function rl)set LN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(LN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(LN,Condition(function al))call TriggerAddAction(LN,function Vl)set mN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(mN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(mN,Condition(function Xl))call TriggerAddAction(mN,function Ol)set MN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(MN,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(MN,Condition(function Il))call TriggerAddAction(MN,function cl)set pN=CreateTrigger()call TriggerRegisterEnterRectSimple(pN,WX)call TriggerAddCondition(pN,Condition(function dl))call TriggerAddAction(pN,function Dl)set PN=CreateTrigger()call TriggerRegisterEnterRectSimple(PN,UV)call TriggerAddCondition(PN,Condition(function Fl))call TriggerAddAction(PN,function gl)set qN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(qN,Condition(function hl))call TriggerAddAction(qN,function jl)set QN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(QN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(QN,Condition(function kl))call TriggerAddAction(QN,function Kl)set sN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(sN,Condition(function Ll))call TriggerAddAction(sN,function ml)set SN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(SN,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(SN,Condition(function pl))call TriggerAddAction(SN,function ql)set tN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(tN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(tN,Condition(function sl))call TriggerAddAction(tN,function tl)set TN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(TN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(TN,Condition(function ul))call TriggerAddAction(TN,function Ul)set uN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(uN,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(uN,Condition(function Wl))call TriggerAddAction(uN,function Yl)set UN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(UN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(UN,Condition(function Zl))call TriggerAddAction(UN,function eL)set wN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(wN,Condition(function oL))call TriggerAddAction(wN,function rL)set WN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(WN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(WN,Condition(function aL))call TriggerAddAction(WN,function nL)set yN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(yN,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(yN,Condition(function EL))call TriggerAddAction(yN,function XL)set YN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(YN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(YN,Condition(function RL))call TriggerAddAction(YN,function AL)set zN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(zN,Condition(function bL))call TriggerAddAction(zN,function BL)set ZN=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ZN,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(ZN,Condition(function dL))call TriggerAddAction(ZN,function fL)set vb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(vb,Condition(function gL))call TriggerAddAction(vb,function hL)set eb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(eb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(eb,Condition(function jL))call TriggerAddAction(eb,function KL)set xb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(xb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(xb,Condition(function LL))call TriggerAddAction(xb,function pL)set ob=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ob,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(ob,Condition(function qL))call TriggerAddAction(ob,function SL)set rb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(rb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(rb,Condition(function TL))call TriggerAddAction(rb,function wL)set ib=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ib,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(ib,Condition(function yL))call TriggerAddAction(ib,function ZL)set ab=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ab,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(ab,Condition(function em))call TriggerAddAction(ab,function rm)set nb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(nb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(nb,Condition(function am))call TriggerAddAction(nb,function Em)set Vb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Vb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Vb,Condition(function Om))call TriggerAddAction(Vb,function Am)set Eb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Eb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Eb,Condition(function bm))call TriggerAddAction(Eb,function Bm)set Xb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Xb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Xb,Condition(function Cm))call TriggerAddAction(Xb,function dm)set Ob=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ob,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Ob,Condition(function fm))call TriggerAddAction(Ob,function Fm)set Rb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Rb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Rb,Condition(function Gm))call TriggerAddAction(Rb,function hm)set Ib=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ib,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Ib,Condition(function Jm))call TriggerAddAction(Ib,function km)set Ab=CreateTrigger()call TriggerRegisterEnterRectSimple(Ab,WX)call TriggerAddCondition(Ab,Condition(function Lm))call TriggerAddAction(Ab,function mm)set Nb=CreateTrigger()call TriggerRegisterEnterRectSimple(Nb,FR)call TriggerAddCondition(Nb,Condition(function Pm))call TriggerAddAction(Nb,function qm)set bb=CreateTrigger()call TriggerRegisterEnterRectSimple(bb,KR)call TriggerAddCondition(bb,Condition(function Sm))call TriggerAddAction(bb,function tm)set Bb=CreateTrigger()call TriggerRegisterEnterRectSimple(Bb,UV)call TriggerAddCondition(Bb,Condition(function Um))call TriggerAddAction(Bb,function wm)set cb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(cb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(cb,Condition(function ym))call TriggerAddAction(cb,function zm)set Cb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Cb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Cb,Condition(function vM))call TriggerAddAction(Cb,function eM)set db=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(db,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(db,Condition(function oM))call TriggerAddAction(db,function rM)set Db=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Db,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Db,Condition(function aM))call TriggerAddAction(Db,function nM)set fb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(fb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(fb,Condition(function EM))call TriggerAddAction(fb,function XM)set Fb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Fb,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Fb,Condition(function IM))call TriggerAddAction(Fb,function NM)set gb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(gb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(gb,Condition(function BM))call TriggerAddAction(gb,function cM)set Gb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Gb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Gb,Condition(function dM))call TriggerAddAction(Gb,function DM)set hb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(hb,Condition(function FM))call TriggerAddAction(hb,function gM)set Hb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Hb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Hb,Condition(function hM))call TriggerAddAction(Hb,function HM)set jb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(jb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(jb,Condition(function JM))call TriggerAddAction(jb,function kM)set Jb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Jb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Jb,Condition(function lM))call TriggerAddAction(Jb,function LM)set kb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(kb,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(kb,Condition(function pM))call TriggerAddAction(kb,function qM)set Kb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Kb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Kb,Condition(function sM))call TriggerAddAction(Kb,function SM)set lb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(lb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(lb,Condition(function TM))call TriggerAddAction(lb,function uM)set Lb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Lb,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Lb,Condition(function wM))call TriggerAddAction(Lb,function WM)set mb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(mb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(mb,Condition(function YM))call TriggerAddAction(mb,function zM)set Mb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Mb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Mb,Condition(function vp))call TriggerAddAction(Mb,function ep)set pb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pb,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(pb,Condition(function rp))call TriggerAddAction(pb,function ap)set Pb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Pb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Pb,Condition(function Vp))call TriggerAddAction(Pb,function Ep)set qb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(qb,Condition(function Op))call TriggerAddAction(qb,function Rp)set Qb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Qb,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Qb,Condition(function Np))call TriggerAddAction(Qb,function Bp)set sb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(sb,Condition(function Cp))call TriggerAddAction(sb,function dp)set Sb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Sb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Sb,Condition(function fp))call TriggerAddAction(Sb,function Fp)set tb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(tb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(tb,Condition(function Gp))call TriggerAddAction(tb,function hp)set Tb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Tb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Tb,Condition(function jp))call TriggerAddAction(Tb,function Jp)set ub=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ub,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(ub,Condition(function lp))call TriggerAddAction(ub,function mp)set Ub=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ub,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Ub,Condition(function pp))call TriggerAddAction(Ub,function Pp)set wb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(wb,Condition(function Qp))call TriggerAddAction(wb,function sp)set Wb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Wb,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Wb,Condition(function tp))call TriggerAddAction(Wb,function Tp)set yb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(yb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(yb,Condition(function Up))call TriggerAddAction(yb,function wp)set Yb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Yb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Yb,Condition(function yp))call TriggerAddAction(Yb,function Yp)set zb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zb,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(zb,Condition(function eP))call TriggerAddAction(zb,function oP)set Zb=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Zb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Zb,Condition(function iP))call TriggerAddAction(Zb,function aP)set vB=CreateTrigger()call TriggerRegisterEnterRectSimple(vB,kX)call TriggerAddAction(vB,function VP)set eB=CreateTrigger()call TriggerRegisterEnterRectSimple(eB,KX)call TriggerAddAction(eB,function XP)set xB=CreateTrigger()call TriggerRegisterEnterRectSimple(xB,lX)call TriggerAddAction(xB,function RP)set oB=CreateTrigger()call TriggerRegisterEnterRectSimple(oB,wX)call TriggerAddAction(oB,function AP)set rB=CreateTrigger()call TriggerRegisterEnterRectSimple(rB,RE)call TriggerAddCondition(rB,Condition(function bP))call TriggerAddAction(rB,function BP)set iB=CreateTrigger()call TriggerRegisterEnterRectSimple(iB,XX)call TriggerAddCondition(iB,Condition(function CP))call TriggerAddAction(iB,function dP)set aB=CreateTrigger()call TriggerRegisterEnterRectSimple(aB,tO)call TriggerAddCondition(aB,Condition(function fP))call TriggerAddAction(aB,function FP)set nB=CreateTrigger()call TriggerRegisterEnterRectSimple(nB,uO)call TriggerAddCondition(nB,Condition(function GP))call TriggerAddAction(nB,function hP)set VB=CreateTrigger()call TriggerRegisterEnterRectSimple(VB,GR)call TriggerAddCondition(VB,Condition(function jP))call TriggerAddAction(VB,function JP)set EB=CreateTrigger()call TriggerRegisterEnterRectSimple(EB,HR)call TriggerAddCondition(EB,Condition(function KP))call TriggerAddAction(EB,function lP)set XB=CreateTrigger()call TriggerRegisterEnterRectSimple(XB,tR)call TriggerAddCondition(XB,Condition(function mP))call TriggerAddAction(XB,function MP)set OB=CreateTrigger()call TriggerRegisterEnterRectSimple(OB,uR)call TriggerAddCondition(OB,Condition(function PP))call TriggerAddAction(OB,function qP)set RB=CreateTrigger()call TriggerRegisterUnitInRangeSimple(RB,500.,pf)call TriggerAddCondition(RB,Condition(function sP))call TriggerAddAction(RB,function uP)set IB=CreateTrigger()call TriggerRegisterUnitInRangeSimple(IB,500.,Mf)call TriggerAddCondition(IB,Condition(function wP))call TriggerAddAction(IB,function zP)set AB=CreateTrigger()call TriggerRegisterUnitInRangeSimple(AB,500.,mf)call TriggerAddCondition(AB,Condition(function vq))call TriggerAddAction(AB,function rq)set NB=CreateTrigger()call TriggerRegisterEnterRectSimple(NB,BR)call TriggerAddCondition(NB,Condition(function aq))call TriggerAddAction(NB,function Rq)set bB=CreateTrigger()call TriggerRegisterEnterRectSimple(bB,vR)call TriggerRegisterEnterRectSimple(bB,eR)call TriggerRegisterEnterRectSimple(bB,xR)call TriggerAddCondition(bB,Condition(function Aq))call TriggerAddAction(bB,function Nq)set BB=CreateTrigger()call TriggerRegisterLeaveRectSimple(BB,vR)call TriggerRegisterLeaveRectSimple(BB,eR)call TriggerRegisterLeaveRectSimple(BB,xR)call TriggerAddCondition(BB,Condition(function Bq))call TriggerAddAction(BB,function cq)set cB=CreateTrigger()call TriggerRegisterEnterRectSimple(cB,LX)call TriggerAddCondition(cB,Condition(function dq))call TriggerAddAction(cB,function Dq)set CB=CreateTrigger()call TriggerRegisterEnterRectSimple(CB,mX)call TriggerAddCondition(CB,Condition(function Fq))call TriggerAddAction(CB,function gq)set dB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dB,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(dB,Condition(function hq))call TriggerAddAction(dB,function Hq)set DB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DB,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(DB,Condition(function Jq))call TriggerAddAction(DB,function Kq)set fB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(fB,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(fB,Condition(function Lq))call TriggerAddAction(fB,function mq)set FB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(FB,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(FB,Condition(function pq))call TriggerAddAction(FB,function Pq)set gB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(gB,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(gB,Condition(function Qq))call TriggerAddAction(gB,function Sq)set GB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(GB,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(GB,Condition(function Tq))call TriggerAddAction(GB,function uq)set hB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hB,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(hB,Condition(function wq))call TriggerAddAction(hB,function Wq)set HB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(HB,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(HB,Condition(function Yq))call TriggerAddAction(HB,function Zq)set jB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(jB,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(jB,Condition(function eQ))call TriggerAddAction(jB,function xQ)set JB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(JB,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(JB,Condition(function rQ))call TriggerAddAction(JB,function iQ)set kB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(kB,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(kB,Condition(function nQ))call TriggerAddAction(kB,function EQ)set KB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(KB,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(KB,Condition(function OQ))call TriggerAddAction(KB,function RQ)set lB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(lB,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(lB,Condition(function AQ))call TriggerAddAction(lB,function NQ)set LB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(LB,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(LB,Condition(function BQ))call TriggerAddAction(LB,function CQ)set mB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(mB,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(mB,Condition(function DQ))call TriggerAddAction(mB,function fQ)set MB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(MB,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(MB,Condition(function gQ))call TriggerAddAction(MB,function GQ)set pB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pB,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(pB,Condition(function HQ))call TriggerAddAction(pB,function jQ)set PB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(PB,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(PB,Condition(function kQ))call TriggerAddAction(PB,function KQ)set qB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qB,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(qB,Condition(function LQ))call TriggerAddAction(qB,function mQ)set QB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(QB,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(QB,Condition(function pQ))call TriggerAddAction(QB,function PQ)set sB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sB,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(sB,Condition(function QQ))call TriggerAddAction(sB,function sQ)set SB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(SB,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(SB,Condition(function tQ))call TriggerAddAction(SB,function TQ)set tB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(tB,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(tB,Condition(function UQ))call TriggerAddAction(tB,function wQ)set TB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(TB,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(TB,Condition(function yQ))call TriggerAddAction(TB,function YQ)set uB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(uB,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(uB,Condition(function ZQ))call TriggerAddAction(uB,function vs)set UB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(UB,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(UB,Condition(function xs))call TriggerAddAction(UB,function is)set wB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wB,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(wB,Condition(function ns))call TriggerAddAction(wB,function Vs)set WB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(WB,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(WB,Condition(function Xs))call TriggerAddAction(WB,function Os)set yB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(yB,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(yB,Condition(function Is))call TriggerAddAction(yB,function Bs)set YB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(YB,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(YB,Condition(function Cs))call TriggerAddAction(YB,function ds)set zB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zB,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(zB,Condition(function fs))call TriggerAddAction(zB,function gs)set ZB=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ZB,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(ZB,Condition(function hs))call TriggerAddAction(ZB,function Hs)set vc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vc,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(vc,Condition(function Js))call TriggerAddAction(vc,function Ks)set ec=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ec,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(ec,Condition(function ms))call TriggerAddAction(ec,function us)set xc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(xc,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(xc,Condition(function ws))call TriggerAddAction(xc,function zs)set oc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(oc,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(oc,Condition(function vS))call TriggerAddAction(oc,function xS)set rc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(rc,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(rc,Condition(function rS))call TriggerAddAction(rc,function nS)set ic=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ic,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(ic,Condition(function ES))call TriggerAddAction(ic,function OS)set ac=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ac,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(ac,Condition(function IS))call TriggerAddAction(ac,function NS)set nc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(nc,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(nc,Condition(function BS))call TriggerAddAction(nc,function CS)set Vc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Vc,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Vc,Condition(function DS))call TriggerAddAction(Vc,function FS)set Ec=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ec,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Ec,Condition(function GS))call TriggerAddAction(Ec,function HS)set Xc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Xc,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Xc,Condition(function JS))call TriggerAddAction(Xc,function KS)set Oc=CreateTrigger()call TriggerRegisterEnterRectSimple(Oc,iX)call TriggerAddCondition(Oc,Condition(function LS))call TriggerAddAction(Oc,function mS)set Rc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Rc,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Rc,Condition(function pS))call TriggerAddAction(Rc,function qS)set Ic=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ic,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Ic,Condition(function sS))call TriggerAddAction(Ic,function tS)set Ac=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ac,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Ac,Condition(function uS))call TriggerAddAction(Ac,function US)set Nc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Nc,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Nc,Condition(function WS))call TriggerAddAction(Nc,function YS)set bc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(bc,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(bc,Condition(function vt))call TriggerAddAction(bc,function Vt)set Bc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bc,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Bc,Condition(function Xt))call TriggerAddAction(Bc,function Ot)set cc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(cc,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(cc,Condition(function It))call TriggerAddAction(cc,function Nt)set Cc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Cc,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Cc,Condition(function Bt))call TriggerAddAction(Cc,function Ct)set dc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dc,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(dc,Condition(function Dt))call TriggerAddAction(dc,function Ht)set Dc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Dc,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Dc,Condition(function Jt))call TriggerAddAction(Dc,function kt)set fc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(fc,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(fc,Condition(function lt))call TriggerAddAction(fc,function Mt)set Fc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Fc,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Fc,Condition(function Pt))call TriggerAddAction(Fc,function Qt)set gc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(gc,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(gc,Condition(function tt))call TriggerAddAction(gc,function Tt)set Gc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Gc,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Gc,Condition(function Ut))call TriggerAddAction(Gc,function Wt)set hc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hc,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(hc,Condition(function Yt))call TriggerAddAction(hc,function Zt)set Hc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Hc,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Hc,Condition(function eT))call TriggerAddAction(Hc,function xT)set jc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(jc,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(jc,Condition(function rT))call TriggerAddAction(jc,function aT)set Jc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Jc,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Jc,Condition(function VT))call TriggerAddAction(Jc,function XT)set kc=CreateTrigger()call TriggerAddAction(kc,function bT)set Kc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Kc,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Kc,Condition(function fT))call TriggerAddAction(Kc,function FT)set lc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(lc,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(lc,Condition(function GT))call TriggerAddAction(lc,function pT)set Lc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Lc,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Lc,Condition(function qT))call TriggerAddAction(Lc,function QT)set mc=CreateTrigger()call TriggerRegisterEnterRectSimple(mc,bj_mapInitialPlayableArea)call TriggerAddAction(mc,function tT)set Mc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Mc,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Mc,Condition(function UT))call TriggerAddAction(Mc,function ou)set pc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pc,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(pc,Condition(function au))call TriggerAddAction(pc,function Ru)set Pc=CreateTrigger()call TriggerAddCondition(Pc,Condition(function Au))call TriggerAddAction(Pc,function Cu)set qc=CreateTrigger()call TriggerAddCondition(qc,Condition(function Du))call TriggerAddAction(qc,function ku)set Qc=CreateTrigger()call TriggerAddCondition(Qc,Condition(function lu))call TriggerAddAction(Qc,function pu)set sc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sc,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(sc,Condition(function Qu))call TriggerAddAction(sc,function oU)set Sc=CreateTrigger()call TriggerAddAction(Sc,function iU)set tc=CreateTrigger()call TriggerAddCondition(tc,Condition(function nU))call TriggerAddAction(tc,function cU)set Tc=CreateTrigger()call DisableTrigger(Tc)call TriggerRegisterTimerExpireEvent(Tc,jV[1])call TriggerAddAction(Tc,function dU)set uc=CreateTrigger()call DisableTrigger(uc)call TriggerRegisterTimerExpireEvent(uc,jV[2])call TriggerAddAction(uc,function fU)set Uc=CreateTrigger()call DisableTrigger(Uc)call TriggerRegisterTimerExpireEvent(Uc,jV[3])call TriggerAddAction(Uc,function gU)set wc=CreateTrigger()call DisableTrigger(wc)call TriggerRegisterTimerExpireEvent(wc,jV[4])call TriggerAddAction(wc,function hU)set Wc=CreateTrigger()call DisableTrigger(Wc)call TriggerRegisterTimerExpireEvent(Wc,jV[5])call TriggerAddAction(Wc,function jU)set yc=CreateTrigger()call DisableTrigger(yc)call TriggerRegisterTimerExpireEvent(yc,jV[6])call TriggerAddAction(yc,function kU)set Yc=CreateTrigger()call DisableTrigger(Yc)call TriggerRegisterTimerExpireEvent(Yc,jV[7])call TriggerAddAction(Yc,function lU)set zc=CreateTrigger()call DisableTrigger(zc)call TriggerRegisterTimerExpireEvent(zc,jV[8])call TriggerAddAction(zc,function mU)set Zc=CreateTrigger()call DisableTrigger(Zc)call TriggerRegisterTimerExpireEvent(Zc,jV[9])call TriggerAddAction(Zc,function pU)set vC=CreateTrigger()call DisableTrigger(vC)call TriggerRegisterTimerExpireEvent(vC,jV[$A])call TriggerAddAction(vC,function qU)set eC=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(eC,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(eC,Condition(function sU))call TriggerAddAction(eC,function Xw)set xC=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(xC,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddAction(xC,function Aw)set oC=CreateTrigger()call TriggerRegisterTimerEventPeriodic(oC,20.)call TriggerAddAction(oC,function Dw)set rC=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(rC,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(rC,Condition(function Fw))call TriggerAddAction(rC,function hw)set iC=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(iC,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(iC,Condition(function jw))call TriggerAddAction(iC,function Jw)set aC=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(aC,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(aC,Condition(function Kw))call TriggerAddAction(aC,function lw)set nC=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(nC,EVENT_PLAYER_UNIT_SELL_ITEM)call TriggerAddCondition(nC,Condition(function mw))call TriggerAddAction(nC,function Mw)set VC=CreateTrigger()call TriggerRegisterPlayerChatEvent(VC,Player(0),"-remove ",false)call TriggerRegisterPlayerChatEvent(VC,Player(1),"-remove ",false)call TriggerRegisterPlayerChatEvent(VC,Player(2),"-remove ",false)call TriggerRegisterPlayerChatEvent(VC,Player(3),"-remove ",false)call TriggerRegisterPlayerChatEvent(VC,Player(4),"-remove ",false)call TriggerRegisterPlayerChatEvent(VC,Player(5),"-remove ",false)call TriggerRegisterPlayerChatEvent(VC,Player(6),"-remove ",false)call TriggerRegisterPlayerChatEvent(VC,Player(7),"-remove ",false)call TriggerRegisterPlayerChatEvent(VC,Player(8),"-remove ",false)call TriggerRegisterPlayerChatEvent(VC,Player(9),"-remove ",false)call TriggerAddCondition(VC,Condition(function Pw))call TriggerAddAction(VC,function ww)set EC=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(EC,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(EC,Condition(function yw))call TriggerAddAction(EC,function eW)set XC=CreateTrigger()call TriggerRegisterPlayerChatEvent(XC,Player(0),"-done",true)call TriggerRegisterPlayerChatEvent(XC,Player(1),"-done",true)call TriggerRegisterPlayerChatEvent(XC,Player(2),"-done",true)call TriggerRegisterPlayerChatEvent(XC,Player(3),"-done",true)call TriggerRegisterPlayerChatEvent(XC,Player(4),"-done",true)call TriggerRegisterPlayerChatEvent(XC,Player(5),"-done",true)call TriggerRegisterPlayerChatEvent(XC,Player(6),"-done",true)call TriggerRegisterPlayerChatEvent(XC,Player(7),"-done",true)call TriggerRegisterPlayerChatEvent(XC,Player(8),"-done",true)call TriggerRegisterPlayerChatEvent(XC,Player(9),"-done",true)call TriggerAddAction(XC,function aW)set OC=CreateTrigger()call TriggerRegisterPlayerChatEvent(OC,Player(0),"-enter",true)call TriggerRegisterPlayerChatEvent(OC,Player(1),"-enter",true)call TriggerRegisterPlayerChatEvent(OC,Player(2),"-enter",true)call TriggerRegisterPlayerChatEvent(OC,Player(3),"-enter",true)call TriggerRegisterPlayerChatEvent(OC,Player(4),"-enter",true)call TriggerRegisterPlayerChatEvent(OC,Player(5),"-enter",true)call TriggerRegisterPlayerChatEvent(OC,Player(6),"-enter",true)call TriggerRegisterPlayerChatEvent(OC,Player(7),"-enter",true)call TriggerRegisterPlayerChatEvent(OC,Player(8),"-enter",true)call TriggerRegisterPlayerChatEvent(OC,Player(9),"-enter",true)call TriggerAddCondition(OC,Condition(function VW))call TriggerAddAction(OC,function bW)set RC=CreateTrigger()call DisableTrigger(RC)call TriggerRegisterAnyUnitEventBJ(RC,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(RC,function KW)set IC=CreateTrigger()call DisableTrigger(IC)call TriggerRegisterAnyUnitEventBJ(IC,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(IC,function sW)set AC=CreateTrigger()call DisableTrigger(AC)call TriggerRegisterAnyUnitEventBJ(AC,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(AC,function YW)set NC=CreateTrigger()call DisableTrigger(NC)call TriggerRegisterAnyUnitEventBJ(NC,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(NC,function oy)set bC=CreateTrigger()call DisableTrigger(bC)call TriggerRegisterAnyUnitEventBJ(bC,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(bC,function Ey)set BC=CreateTrigger()call DisableTrigger(BC)call TriggerRegisterAnyUnitEventBJ(BC,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(BC,function fy)set cC=CreateTrigger()call DisableTrigger(cC)call TriggerRegisterAnyUnitEventBJ(cC,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(cC,function Ly)set CC=CreateTrigger()call DisableTrigger(CC)call TriggerRegisterAnyUnitEventBJ(CC,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(CC,function ty)set dC=CreateTrigger()call DisableTrigger(dC)call TriggerRegisterAnyUnitEventBJ(dC,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(dC,function vY)set DC=CreateTrigger()call TriggerRegisterEnterRectSimple(DC,gO)call TriggerAddCondition(DC,Condition(function xY))call TriggerAddAction(DC,function oY)set fC=CreateTrigger()call TriggerRegisterEnterRectSimple(fC,GO)call TriggerAddCondition(fC,Condition(function iY))call TriggerAddAction(fC,function aY)set FC=CreateTrigger()call TriggerRegisterEnterRectSimple(FC,hO)call TriggerAddCondition(FC,Condition(function VY))call TriggerAddAction(FC,function EY)set gC=CreateTrigger()call TriggerRegisterEnterRectSimple(gC,HO)call TriggerAddCondition(gC,Condition(function OY))call TriggerAddAction(gC,function RY)set GC=CreateTrigger()call DisableTrigger(GC)call TriggerAddAction(GC,function bY)set hC=CreateTrigger()call DisableTrigger(hC)call TriggerRegisterAnyUnitEventBJ(hC,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(hC,Condition(function cY))call TriggerAddAction(hC,function FY)set HC=CreateTrigger()call DisableTrigger(HC)call TriggerRegisterAnyUnitEventBJ(HC,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(HC,Condition(function hY))call TriggerAddAction(HC,function HY)set jC=CreateTrigger()call TriggerRegisterEnterRectSimple(jC,CO)call TriggerAddCondition(jC,Condition(function JY))call TriggerAddAction(jC,function PY)set JC=CreateTrigger()call DisableTrigger(JC)call TriggerRegisterAnyUnitEventBJ(JC,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(JC,Condition(function QY))call TriggerAddAction(JC,function YY)set kC=CreateTrigger()call DisableTrigger(kC)call TriggerRegisterEnterRectSimple(kC,nX)call TriggerAddCondition(kC,Condition(function ZY))call TriggerAddAction(kC,function oz)set KC=CreateTrigger()call DisableTrigger(KC)call TriggerRegisterEnterRectSimple(KC,EX)call TriggerAddCondition(KC,Condition(function iz))call TriggerAddAction(KC,function Ez)set lC=CreateTrigger()call DisableTrigger(lC)call TriggerRegisterEnterRectSimple(lC,VX)call TriggerAddCondition(lC,Condition(function Oz))call TriggerAddAction(lC,function Nz)set LC=CreateTrigger()call DisableTrigger(LC)call TriggerRegisterEnterRectSimple(LC,aX)call TriggerAddCondition(LC,Condition(function Bz))call TriggerAddAction(LC,function Dz)set mC=CreateTrigger()call TriggerRegisterTimerExpireEvent(mC,bo)call TriggerAddAction(mC,function Gz)set MC=CreateTrigger()call DisableTrigger(MC)call TriggerRegisterAnyUnitEventBJ(MC,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(MC,Condition(function Hz))call TriggerAddAction(MC,function Pz)set pC=CreateTrigger()call DisableTrigger(pC)call TriggerRegisterAnyUnitEventBJ(pC,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(pC,Condition(function Qz))call TriggerAddAction(pC,function eZ)set PC=CreateTrigger()call DisableTrigger(PC)call TriggerRegisterAnyUnitEventBJ(PC,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(PC,Condition(function oZ))call TriggerAddAction(PC,function SZ)set qC=CreateTrigger()call DisableTrigger(qC)call TriggerRegisterTimerEventPeriodic(qC,2.)call TriggerAddAction(qC,function uZ)set QC=CreateTrigger()call DisableTrigger(QC)call TriggerAddAction(QC,function wZ)set sC=CreateTrigger()call TriggerRegisterEnterRectSimple(sC,PE)call TriggerAddCondition(sC,Condition(function yZ))call TriggerAddAction(sC,function YZ)set SC=CreateTrigger()call TriggerRegisterEnterRectSimple(SC,QE)call TriggerAddCondition(SC,Condition(function ZZ))call TriggerAddAction(SC,function v0)set tC=CreateTrigger()call TriggerRegisterEnterRectSimple(tC,SE)call TriggerAddCondition(tC,Condition(function x0))call TriggerAddAction(tC,function o0)set TC=CreateTrigger()call TriggerRegisterEnterRectSimple(TC,TE)call TriggerAddCondition(TC,Condition(function i0))call TriggerAddAction(TC,function n0)set uC=CreateTrigger()call DisableTrigger(uC)call TriggerRegisterTimerEventPeriodic(uC,.1)call TriggerAddAction(uC,function D0)set UC=CreateTrigger()call TriggerRegisterUnitInRangeSimple(UC,40.,eF)call TriggerRegisterUnitInRangeSimple(UC,40.,xF)call TriggerRegisterUnitInRangeSimple(UC,40.,oF)call TriggerRegisterUnitInRangeSimple(UC,40.,rF)call TriggerRegisterUnitInRangeSimple(UC,40.,iF)call TriggerRegisterUnitInRangeSimple(UC,40.,aF)call TriggerRegisterUnitInRangeSimple(UC,40.,XF)call TriggerRegisterUnitInRangeSimple(UC,40.,zf)call TriggerRegisterUnitInRangeSimple(UC,40.,Yf)call TriggerRegisterUnitInRangeSimple(UC,40.,vF)call TriggerRegisterUnitInRangeSimple(UC,40.,Zf)call TriggerRegisterUnitInRangeSimple(UC,40.,nF)call TriggerRegisterUnitInRangeSimple(UC,40.,VF)call TriggerRegisterUnitInRangeSimple(UC,40.,EF)call TriggerRegisterUnitInRangeSimple(UC,40.,yf)call TriggerRegisterUnitInRangeSimple(UC,40.,OF)call TriggerAddCondition(UC,Condition(function F0))call TriggerAddAction(UC,function g0)set wC=CreateTrigger()call TriggerRegisterTimerEventPeriodic(wC,4.5)call TriggerAddAction(wC,function h0)set WC=CreateTrigger()call TriggerRegisterEnterRectSimple(WC,NX)call TriggerAddCondition(WC,Condition(function j0))call TriggerAddAction(WC,function J0)set yC=CreateTrigger()call DisableTrigger(yC)call TriggerRegisterTimerEventPeriodic(yC,3.)call TriggerAddAction(yC,function u0)set YC=CreateTrigger()call DisableTrigger(YC)call TriggerRegisterTimerEventPeriodic(YC,4.)call TriggerAddAction(YC,function x1)set zC=CreateTrigger()call DisableTrigger(zC)call TriggerRegisterTimerEventPeriodic(zC,3.5)call TriggerAddAction(zC,function I1)set ZC=CreateTrigger()call TriggerRegisterEnterRectSimple(ZC,fX)call TriggerAddCondition(ZC,Condition(function N1))call TriggerAddAction(ZC,function B1)set vd=CreateTrigger()call TriggerRegisterEnterRectSimple(vd,FX)call TriggerAddCondition(vd,Condition(function C1))call TriggerAddAction(vd,function D1)set ed=CreateTrigger()call TriggerRegisterEnterRectSimple(ed,gX)call TriggerAddCondition(ed,Condition(function F1))call TriggerAddAction(ed,function G1)set xd=CreateTrigger()call TriggerRegisterEnterRectSimple(xd,GX)call TriggerAddCondition(xd,Condition(function H1))call TriggerAddAction(xd,function J1)set od=CreateTrigger()call TriggerRegisterEnterRectSimple(od,hX)call TriggerAddCondition(od,Condition(function K1))call TriggerAddAction(od,function L1)set rd=CreateTrigger()call TriggerRegisterEnterRectSimple(rd,HX)call TriggerAddCondition(rd,Condition(function M1))call TriggerAddAction(rd,function P1)set id=CreateTrigger()call TriggerRegisterEnterRectSimple(id,jX)call TriggerAddCondition(id,Condition(function Q1))call TriggerAddAction(id,function u1)set ad=CreateTrigger()call TriggerRegisterEnterRectSimple(ad,OR)call TriggerAddAction(ad,function w1)set nd=CreateTrigger()call TriggerRegisterEnterRectSimple(nd,ME)call TriggerAddAction(nd,function y1)set Vd=CreateTrigger()call DisableTrigger(Vd)call TriggerRegisterAnyUnitEventBJ(Vd,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Vd,Condition(function z1))call TriggerAddAction(Vd,function Z1)set Ed=CreateTrigger()call TriggerRegisterPlayerChatEvent(Ed,Player(0),"-done",true)call TriggerRegisterPlayerChatEvent(Ed,Player(1),"-done",true)call TriggerRegisterPlayerChatEvent(Ed,Player(2),"-done",true)call TriggerRegisterPlayerChatEvent(Ed,Player(3),"-done",true)call TriggerRegisterPlayerChatEvent(Ed,Player(4),"-done",true)call TriggerRegisterPlayerChatEvent(Ed,Player(5),"-done",true)call TriggerRegisterPlayerChatEvent(Ed,Player(6),"-done",true)call TriggerRegisterPlayerChatEvent(Ed,Player(7),"-done",true)call TriggerRegisterPlayerChatEvent(Ed,Player(8),"-done",true)call TriggerRegisterPlayerChatEvent(Ed,Player(9),"-done",true)call TriggerAddCondition(Ed,Condition(function e2))call TriggerAddAction(Ed,function r2)set Xd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Xd,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Xd,Condition(function a2))call TriggerAddAction(Xd,function E2)set Od=CreateTrigger()call DisableTrigger(Od)call TriggerAddAction(Od,function D2)set Rd=CreateTrigger()call DisableTrigger(Rd)call TriggerAddAction(Rd,function U2)set Id=CreateTrigger()call TriggerRegisterEnterRectSimple(Id,bj_mapInitialPlayableArea)call TriggerAddAction(Id,function Z2)set Ad=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ad,EVENT_PLAYER_HERO_LEVEL)call TriggerAddAction(Ad,function i3)set Nd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Nd,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Nd,Condition(function n3))call TriggerAddAction(Nd,function E3)set bd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(bd,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(bd,Condition(function R3))call TriggerAddAction(bd,function I3)set Bd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bd,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Bd,Condition(function N3))call TriggerAddAction(Bd,function b3)set cd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(cd,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(cd,Condition(function c3))call TriggerAddAction(cd,function p3)set Cd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Cd,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Cd,Condition(function q3))call TriggerAddAction(Cd,function z3)set dd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dd,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(dd,Condition(function i4))call TriggerAddAction(dd,function a4)set Dd=CreateTrigger()call TriggerRegisterPlayerChatEvent(Dd,Player(0),"-kill",true)call TriggerRegisterPlayerChatEvent(Dd,Player(1),"-kill",true)call TriggerRegisterPlayerChatEvent(Dd,Player(2),"-kill",true)call TriggerRegisterPlayerChatEvent(Dd,Player(3),"-kill",true)call TriggerRegisterPlayerChatEvent(Dd,Player(4),"-kill",true)call TriggerRegisterPlayerChatEvent(Dd,Player(5),"-kill",true)call TriggerRegisterPlayerChatEvent(Dd,Player(6),"-kill",true)call TriggerRegisterPlayerChatEvent(Dd,Player(7),"-kill",true)call TriggerRegisterPlayerChatEvent(Dd,Player(8),"-kill",true)call TriggerRegisterPlayerChatEvent(Dd,Player(9),"-kill",true)call TriggerAddCondition(Dd,Condition(function V4))call TriggerAddAction(Dd,function O4)set fd=CreateTrigger()call TriggerRegisterPlayerChatEvent(fd,Player(0),"-out",true)call TriggerRegisterPlayerChatEvent(fd,Player(1),"-out",true)call TriggerRegisterPlayerChatEvent(fd,Player(2),"-out",true)call TriggerRegisterPlayerChatEvent(fd,Player(3),"-out",true)call TriggerRegisterPlayerChatEvent(fd,Player(4),"-out",true)call TriggerRegisterPlayerChatEvent(fd,Player(5),"-out",true)call TriggerRegisterPlayerChatEvent(fd,Player(6),"-out",true)call TriggerRegisterPlayerChatEvent(fd,Player(7),"-out",true)call TriggerRegisterPlayerChatEvent(fd,Player(8),"-out",true)call TriggerRegisterPlayerChatEvent(fd,Player(9),"-out",true)call TriggerAddCondition(fd,Condition(function I4))call TriggerAddAction(fd,function d4)set Fd=CreateTrigger()call TriggerRegisterPlayerChatEvent(Fd,Player(0),"-revive",true)call TriggerRegisterPlayerChatEvent(Fd,Player(1),"-revive",true)call TriggerRegisterPlayerChatEvent(Fd,Player(2),"-revive",true)call TriggerRegisterPlayerChatEvent(Fd,Player(3),"-revive",true)call TriggerRegisterPlayerChatEvent(Fd,Player(4),"-revive",true)call TriggerRegisterPlayerChatEvent(Fd,Player(5),"-revive",true)call TriggerRegisterPlayerChatEvent(Fd,Player(6),"-revive",true)call TriggerRegisterPlayerChatEvent(Fd,Player(7),"-revive",true)call TriggerRegisterPlayerChatEvent(Fd,Player(8),"-revive",true)call TriggerRegisterPlayerChatEvent(Fd,Player(9),"-revive",true)call TriggerAddCondition(Fd,Condition(function f4))call TriggerAddAction(Fd,function J4)set gd=CreateTrigger()call TriggerRegisterPlayerChatEvent(gd,Player(0),"-reset",true)call TriggerRegisterPlayerChatEvent(gd,Player(1),"-reset",true)call TriggerRegisterPlayerChatEvent(gd,Player(2),"-reset",true)call TriggerRegisterPlayerChatEvent(gd,Player(3),"-reset",true)call TriggerRegisterPlayerChatEvent(gd,Player(4),"-reset",true)call TriggerRegisterPlayerChatEvent(gd,Player(5),"-reset",true)call TriggerRegisterPlayerChatEvent(gd,Player(6),"-reset",true)call TriggerRegisterPlayerChatEvent(gd,Player(7),"-reset",true)call TriggerRegisterPlayerChatEvent(gd,Player(8),"-reset",true)call TriggerRegisterPlayerChatEvent(gd,Player(9),"-reset",true)call TriggerAddAction(gd,function K4)set Gd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Gd,EVENT_PLAYER_UNIT_SPELL_FINISH)call TriggerAddCondition(Gd,Condition(function m4))call TriggerAddAction(Gd,function t4)set hd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hd,EVENT_PLAYER_UNIT_SPELL_FINISH)call TriggerAddCondition(hd,Condition(function U4))call TriggerAddAction(hd,function e5)set Hd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Hd,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Hd,Condition(function o5))call TriggerAddAction(Hd,function V5)set jd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(jd,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(jd,Condition(function X5))call TriggerAddAction(jd,function O5)set Jd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Jd,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Jd,Condition(function A5))call TriggerAddAction(Jd,function k5)set kd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(kd,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(kd,Condition(function l5))call TriggerAddAction(kd,function m5)set Kd=CreateTrigger()call TriggerRegisterTimerEventPeriodic(Kd,.2)call TriggerAddAction(Kd,function Z5)set ld=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ld,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(ld,Condition(function e6))call TriggerAddAction(ld,function r6)set Ld=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ld,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Ld,Condition(function a6))call TriggerAddAction(Ld,function V6)set md=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(md,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(md,Condition(function X6))call TriggerAddAction(md,function O6)set Md=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Md,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Md,Condition(function I6))call TriggerAddAction(Md,function A6)set pd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pd,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(pd,Condition(function b6))call TriggerAddAction(pd,function c6)set Pd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Pd,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Pd,Condition(function d6))call TriggerAddAction(Pd,function S6)set qd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qd,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(qd,Condition(function T6))call TriggerAddAction(qd,function u6)set Qd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Qd,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Qd,Condition(function w6))call TriggerAddAction(Qd,function Y6)set sd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sd,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(sd,Condition(function Z6))call TriggerAddAction(sd,function e7)set Sd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Sd,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Sd,Condition(function o7))call TriggerAddAction(Sd,function E7)set td=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(td,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(td,Condition(function O7))call TriggerAddAction(td,function A7)set Td=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Td,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(Td,Condition(function b7))call TriggerAddAction(Td,function c7)set ud=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ud,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(ud,Condition(function d7))call TriggerAddAction(ud,function f7)set Ud=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ud,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Ud,Condition(function g7))call TriggerAddAction(Ud,function H7)set wd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wd,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(wd,Condition(function J7))call TriggerAddAction(wd,function l7)set Wd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Wd,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Wd,Condition(function m7))call TriggerAddAction(Wd,function q7)set yd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(yd,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(yd,Condition(function s7))call TriggerAddAction(yd,function U7)set Yd=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Yd,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Yd,Condition(function y7))call TriggerAddAction(Yd,function E8)set zd=CreateTrigger()call TriggerAddAction(zd,function b8)set Zd=CreateTrigger()call DisableTrigger(Zd)call TriggerRegisterTimerEventPeriodic(Zd,.02)call TriggerAddAction(Zd,function h8)set vD=CreateTrigger()call TriggerRegisterEnterRectSimple(vD,bj_mapInitialPlayableArea)call TriggerAddCondition(vD,Condition(function j8))call TriggerAddAction(vD,function M8)set eD=CreateTrigger()call TriggerAddCondition(eD,Condition(function P8))call TriggerAddAction(eD,function Q8)set xD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(xD,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(xD,Condition(function S8))call TriggerAddAction(xD,function T8)set oD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(oD,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(oD,Condition(function U8))call TriggerAddAction(oD,function w8)set rD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(rD,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(rD,Condition(function y8))call TriggerAddAction(rD,function vIv)set iD=CreateTrigger()call TriggerRegisterDialogEvent(iD,br)call TriggerAddCondition(iD,Condition(function vNv))call TriggerAddAction(iD,function vlv)set aD=CreateTrigger()call TriggerRegisterDialogEvent(aD,br)call TriggerAddCondition(aD,Condition(function vmv))call TriggerAddAction(aD,function vSv)set nD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(nD,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(nD,Condition(function vuv))call TriggerAddAction(nD,function vUv)set VD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(VD,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(VD,Condition(function vyv))call TriggerAddAction(VD,function vYv)set ED=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ED,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(ED,Condition(function v_v))call TriggerAddAction(ED,function v0v)set XD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(XD,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(XD,Condition(function v3v))call TriggerAddAction(XD,function evv)set OD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(OD,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(OD,Condition(function eov))call TriggerAddAction(OD,function env)set RD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(RD,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(RD,Condition(function eXv))call TriggerAddAction(RD,function edv)set ID=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ID,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(ID,Condition(function eFv))call TriggerAddAction(ID,function eJv)set AD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(AD,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(AD,Condition(function elv))call TriggerAddAction(AD,function eLv)set ND=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ND,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(ND,Condition(function epv))call TriggerAddAction(ND,function eWv)set bD=CreateTrigger()call TriggerRegisterEnterRectSimple(bD,rX)call TriggerAddCondition(bD,Condition(function eYv))call TriggerAddAction(bD,function ezv)set BD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(BD,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(BD,Condition(function e_v))call TriggerAddAction(BD,function e0v)set cD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(cD,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(cD,Condition(function e2v))call TriggerAddAction(cD,function e3v)set CD=CreateTrigger()call DisableTrigger(CD)call TriggerRegisterTimerEventPeriodic(CD,5.)call TriggerAddAction(CD,function e7v)set dD=CreateTrigger()call TriggerRegisterEnterRectSimple(dD,xX)call TriggerAddCondition(dD,Condition(function e9v))call TriggerAddAction(dD,function xov)set DD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DD,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(DD,Condition(function xiv))call TriggerAddAction(DD,function xVv)set fD=CreateTrigger()call TriggerRegisterTimerExpireEvent(fD,nx)call TriggerAddAction(fD,function xNv)set FD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(FD,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(FD,Condition(function xBv))call TriggerAddAction(FD,function xJv)set gD=CreateTrigger()call DisableTrigger(gD)call TriggerRegisterPlayerKeyEventBJ(gD,Player(0),0,3)call TriggerRegisterPlayerKeyEventBJ(gD,Player(1),0,3)call TriggerRegisterPlayerKeyEventBJ(gD,Player(2),0,3)call TriggerRegisterPlayerKeyEventBJ(gD,Player(3),0,3)call TriggerRegisterPlayerKeyEventBJ(gD,Player(4),0,3)call TriggerRegisterPlayerKeyEventBJ(gD,Player(5),0,3)call TriggerRegisterPlayerKeyEventBJ(gD,Player(6),0,3)call TriggerRegisterPlayerKeyEventBJ(gD,Player(7),0,3)call TriggerRegisterPlayerKeyEventBJ(gD,Player(8),0,3)call TriggerRegisterPlayerKeyEventBJ(gD,Player(9),0,3)call TriggerAddCondition(gD,Condition(function xKv))call TriggerAddAction(gD,function xpv)set GD=CreateTrigger()call DisableTrigger(GD)call TriggerRegisterPlayerKeyEventBJ(GD,Player(0),0,2)call TriggerRegisterPlayerKeyEventBJ(GD,Player(1),0,2)call TriggerRegisterPlayerKeyEventBJ(GD,Player(2),0,2)call TriggerRegisterPlayerKeyEventBJ(GD,Player(3),0,2)call TriggerRegisterPlayerKeyEventBJ(GD,Player(4),0,2)call TriggerRegisterPlayerKeyEventBJ(GD,Player(5),0,2)call TriggerRegisterPlayerKeyEventBJ(GD,Player(6),0,2)call TriggerRegisterPlayerKeyEventBJ(GD,Player(7),0,2)call TriggerRegisterPlayerKeyEventBJ(GD,Player(8),0,2)call TriggerRegisterPlayerKeyEventBJ(GD,Player(9),0,2)call TriggerAddCondition(GD,Condition(function xqv))call TriggerAddAction(GD,function xTv)set hD=CreateTrigger()call DisableTrigger(hD)call TriggerRegisterPlayerKeyEventBJ(hD,Player(0),0,0)call TriggerRegisterPlayerKeyEventBJ(hD,Player(1),0,0)call TriggerRegisterPlayerKeyEventBJ(hD,Player(2),0,0)call TriggerRegisterPlayerKeyEventBJ(hD,Player(3),0,0)call TriggerRegisterPlayerKeyEventBJ(hD,Player(4),0,0)call TriggerRegisterPlayerKeyEventBJ(hD,Player(5),0,0)call TriggerRegisterPlayerKeyEventBJ(hD,Player(6),0,0)call TriggerRegisterPlayerKeyEventBJ(hD,Player(7),0,0)call TriggerRegisterPlayerKeyEventBJ(hD,Player(8),0,0)call TriggerRegisterPlayerKeyEventBJ(hD,Player(9),0,0)call TriggerAddCondition(hD,Condition(function xUv))call TriggerAddAction(hD,function xzv)set HD=CreateTrigger()call DisableTrigger(HD)call TriggerRegisterPlayerKeyEventBJ(HD,Player(0),0,1)call TriggerRegisterPlayerKeyEventBJ(HD,Player(1),0,1)call TriggerRegisterPlayerKeyEventBJ(HD,Player(2),0,1)call TriggerRegisterPlayerKeyEventBJ(HD,Player(3),0,1)call TriggerRegisterPlayerKeyEventBJ(HD,Player(4),0,1)call TriggerRegisterPlayerKeyEventBJ(HD,Player(5),0,1)call TriggerRegisterPlayerKeyEventBJ(HD,Player(6),0,1)call TriggerRegisterPlayerKeyEventBJ(HD,Player(7),0,1)call TriggerRegisterPlayerKeyEventBJ(HD,Player(8),0,1)call TriggerRegisterPlayerKeyEventBJ(HD,Player(9),0,1)call TriggerAddCondition(HD,Condition(function x_v))call TriggerAddAction(HD,function x4v)set jD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(jD,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(jD,Condition(function x6v))call TriggerAddAction(jD,function x7v)set JD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(JD,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(JD,Condition(function ovv))call TriggerAddAction(JD,function oev)set kD=CreateTrigger()call DisableTrigger(kD)call TriggerAddAction(kD,function oVv)set KD=CreateTrigger()call DisableTrigger(KD)call TriggerAddAction(KD,function odv)set lD=CreateTrigger()call DisableTrigger(lD)call TriggerAddAction(lD,function o_v)set LD=CreateTrigger()call DisableTrigger(LD)call TriggerAddAction(LD,function o4v)set mD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(mD,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(mD,Condition(function o7v))call TriggerAddAction(mD,function rov)set MD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(MD,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(MD,Condition(function rav))call TriggerAddAction(MD,function rRv)set pD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pD,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(pD,Condition(function rNv))call TriggerAddAction(pD,function rDv)set PD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(PD,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(PD,Condition(function rgv))call TriggerAddAction(PD,function rkv)set qD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qD,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(qD,Condition(function rlv))call TriggerAddAction(qD,function rqv)set QD=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(QD,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(QD,Condition(function rSv))call TriggerAddAction(QD,function r4v)set sD=CreateTrigger()call DisableTrigger(sD)call TriggerAddAction(sD,function r6v)set SD=CreateTrigger()call DisableTrigger(SD)call TriggerAddAction(SD,function iev)set tD=CreateTrigger()call DisableTrigger(tD)call TriggerAddAction(tD,function irv)set TD=CreateTrigger()call TriggerRegisterTimerExpireEvent(TD,Un[1])call TriggerAddAction(TD,function iav)set uD=CreateTrigger()call TriggerRegisterTimerExpireEvent(uD,Un[2])call TriggerAddAction(uD,function iVv)set UD=CreateTrigger()call TriggerRegisterTimerExpireEvent(UD,Un[3])call TriggerAddAction(UD,function iXv)set wD=CreateTrigger()call TriggerRegisterTimerExpireEvent(wD,Un[4])call TriggerAddAction(wD,function iRv)set WD=CreateTrigger()call TriggerRegisterTimerExpireEvent(WD,Un[5])call TriggerAddAction(WD,function iAv)set yD=CreateTrigger()call TriggerRegisterTimerExpireEvent(yD,Un[6])call TriggerAddAction(yD,function ibv)set YD=CreateTrigger()call TriggerRegisterTimerExpireEvent(YD,Un[7])call TriggerAddAction(YD,function icv)set zD=CreateTrigger()call TriggerRegisterTimerExpireEvent(zD,Un[8])call TriggerAddAction(zD,function idv)set ZD=CreateTrigger()call TriggerRegisterTimerExpireEvent(ZD,Un[9])call TriggerAddAction(ZD,function ifv)set vf=CreateTrigger()call TriggerRegisterTimerExpireEvent(vf,Un[$A])call TriggerAddAction(vf,function igv)set ef=CreateTrigger()call TriggerRegisterPlayerKeyEventBJ(ef,Player(0),0,3)call TriggerRegisterPlayerKeyEventBJ(ef,Player(1),0,3)call TriggerRegisterPlayerKeyEventBJ(ef,Player(2),0,3)call TriggerRegisterPlayerKeyEventBJ(ef,Player(3),0,3)call TriggerRegisterPlayerKeyEventBJ(ef,Player(4),0,3)call TriggerRegisterPlayerKeyEventBJ(ef,Player(5),0,3)call TriggerRegisterPlayerKeyEventBJ(ef,Player(6),0,3)call TriggerRegisterPlayerKeyEventBJ(ef,Player(7),0,3)call TriggerRegisterPlayerKeyEventBJ(ef,Player(8),0,3)call TriggerRegisterPlayerKeyEventBJ(ef,Player(9),0,3)call TriggerAddCondition(ef,Condition(function ijv))call TriggerAddAction(ef,function ikv)set xf=CreateTrigger()call TriggerRegisterPlayerKeyEventBJ(xf,Player(0),0,2)call TriggerRegisterPlayerKeyEventBJ(xf,Player(1),0,2)call TriggerRegisterPlayerKeyEventBJ(xf,Player(2),0,2)call TriggerRegisterPlayerKeyEventBJ(xf,Player(3),0,2)call TriggerRegisterPlayerKeyEventBJ(xf,Player(4),0,2)call TriggerRegisterPlayerKeyEventBJ(xf,Player(5),0,2)call TriggerRegisterPlayerKeyEventBJ(xf,Player(6),0,2)call TriggerRegisterPlayerKeyEventBJ(xf,Player(7),0,2)call TriggerRegisterPlayerKeyEventBJ(xf,Player(8),0,2)call TriggerRegisterPlayerKeyEventBJ(xf,Player(9),0,2)call TriggerAddCondition(xf,Condition(function imv))call TriggerAddAction(xf,function ipv)set of=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(of,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(of,Condition(function iqv))call TriggerAddAction(of,function iTv)set rf=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(rf,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(rf,Condition(function iUv))call TriggerAddAction(rf,function iwv)set af=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(af,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(af,Condition(function iyv))call TriggerAddAction(af,function iYv)set nf=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(nf,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(nf,Condition(function iZv))call TriggerAddAction(nf,function i_v)set Vf=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Vf,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Vf,Condition(function i1v))call TriggerAddAction(Vf,function i2v)set Ef=CreateTrigger()call TriggerRegisterEnterRectSimple(Ef,IE)call TriggerAddCondition(Ef,Condition(function i4v))call TriggerAddAction(Ef,function i5v)set Xf=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Xf,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Xf,Condition(function i7v))call TriggerAddAction(Xf,function i9v)set Of=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Of,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Of,Condition(function aev))call TriggerAddAction(Of,function axv)set Rf=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Rf,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Rf,Condition(function arv))call TriggerAddAction(Rf,function aiv)set If=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(If,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(If,Condition(function anv))call TriggerAddAction(If,function aCv)set Af=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Af,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Af,Condition(function aDv))call TriggerAddAction(Af,function afv)set Nf=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Nf,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Nf,Condition(function agv))call TriggerAddAction(Nf,function aGv)set bf=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(bf,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(bf,Condition(function aHv))call TriggerAddAction(bf,function ajv)set Bf=CreateTrigger()call TriggerRegisterUnitInRangeSimple(Bf,500.,mf)call TriggerRegisterUnitInRangeSimple(Bf,500.,Mf)call TriggerRegisterUnitInRangeSimple(Bf,500.,pf)call TriggerAddCondition(Bf,Condition(function akv))call TriggerAddAction(Bf,function apv)set cf=CreateTrigger()call TriggerRegisterPlayerChatEvent(cf,Player(0),"-rank",true)call TriggerRegisterPlayerChatEvent(cf,Player(1),"-rank",true)call TriggerRegisterPlayerChatEvent(cf,Player(2),"-rank",true)call TriggerRegisterPlayerChatEvent(cf,Player(3),"-rank",true)call TriggerRegisterPlayerChatEvent(cf,Player(4),"-rank",true)call TriggerRegisterPlayerChatEvent(cf,Player(5),"-rank",true)call TriggerRegisterPlayerChatEvent(cf,Player(6),"-rank",true)call TriggerRegisterPlayerChatEvent(cf,Player(7),"-rank",true)call TriggerRegisterPlayerChatEvent(cf,Player(8),"-rank",true)call TriggerRegisterPlayerChatEvent(cf,Player(9),"-rank",true)call TriggerAddCondition(cf,Condition(function aqv))call TriggerAddAction(cf,function a0v)set Cf=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Cf,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Cf,Condition(function a2v))call TriggerAddAction(Cf,function nnv)set df=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(df,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(df,Condition(function nEv))call TriggerAddAction(df,function nOv)set Df=CreateTrigger()call TriggerRegisterPlayerChatEvent(Df,Player(0),"-pvp ",false)call TriggerRegisterPlayerChatEvent(Df,Player(1),"-pvp ",false)call TriggerRegisterPlayerChatEvent(Df,Player(2),"-pvp ",false)call TriggerRegisterPlayerChatEvent(Df,Player(3),"-pvp ",false)call TriggerRegisterPlayerChatEvent(Df,Player(4),"-pvp ",false)call TriggerRegisterPlayerChatEvent(Df,Player(5),"-pvp ",false)call TriggerRegisterPlayerChatEvent(Df,Player(6),"-pvp ",false)call TriggerRegisterPlayerChatEvent(Df,Player(7),"-pvp ",false)call TriggerRegisterPlayerChatEvent(Df,Player(8),"-pvp ",false)call TriggerRegisterPlayerChatEvent(Df,Player(9),"-pvp ",false)call TriggerAddCondition(Df,Condition(function nIv))call TriggerAddAction(Df,function nfv)set ff=CreateTrigger()call TriggerRegisterPlayerChatEvent(ff,Player(0),"-pvp 10",true)call TriggerRegisterPlayerChatEvent(ff,Player(1),"-pvp 10",true)call TriggerRegisterPlayerChatEvent(ff,Player(2),"-pvp 10",true)call TriggerRegisterPlayerChatEvent(ff,Player(3),"-pvp 10",true)call TriggerRegisterPlayerChatEvent(ff,Player(4),"-pvp 10",true)call TriggerRegisterPlayerChatEvent(ff,Player(5),"-pvp 10",true)call TriggerRegisterPlayerChatEvent(ff,Player(6),"-pvp 10",true)call TriggerRegisterPlayerChatEvent(ff,Player(7),"-pvp 10",true)call TriggerRegisterPlayerChatEvent(ff,Player(8),"-pvp 10",true)call TriggerRegisterPlayerChatEvent(ff,Player(9),"-pvp 10",true)call TriggerAddCondition(ff,Condition(function ngv))call TriggerAddAction(ff,function nLv)set Ff=CreateTrigger()call TriggerRegisterPlayerChatEvent(Ff,Player(0),"-cancel",true)call TriggerRegisterPlayerChatEvent(Ff,Player(1),"-cancel",true)call TriggerRegisterPlayerChatEvent(Ff,Player(2),"-cancel",true)call TriggerRegisterPlayerChatEvent(Ff,Player(3),"-cancel",true)call TriggerRegisterPlayerChatEvent(Ff,Player(4),"-cancel",true)call TriggerRegisterPlayerChatEvent(Ff,Player(5),"-cancel",true)call TriggerRegisterPlayerChatEvent(Ff,Player(6),"-cancel",true)call TriggerRegisterPlayerChatEvent(Ff,Player(7),"-cancel",true)call TriggerRegisterPlayerChatEvent(Ff,Player(8),"-cancel",true)call TriggerRegisterPlayerChatEvent(Ff,Player(9),"-cancel",true)call TriggerAddCondition(Ff,Condition(function nMv))call TriggerAddAction(Ff,function npv)set gf=CreateTrigger()call TriggerRegisterPlayerChatEvent(gf,Player(0),"-yes",true)call TriggerRegisterPlayerChatEvent(gf,Player(1),"-yes",true)call TriggerRegisterPlayerChatEvent(gf,Player(2),"-yes",true)call TriggerRegisterPlayerChatEvent(gf,Player(3),"-yes",true)call TriggerRegisterPlayerChatEvent(gf,Player(4),"-yes",true)call TriggerRegisterPlayerChatEvent(gf,Player(5),"-yes",true)call TriggerRegisterPlayerChatEvent(gf,Player(6),"-yes",true)call TriggerRegisterPlayerChatEvent(gf,Player(7),"-yes",true)call TriggerRegisterPlayerChatEvent(gf,Player(8),"-yes",true)call TriggerRegisterPlayerChatEvent(gf,Player(9),"-yes",true)call TriggerAddCondition(gf,Condition(function nqv))call TriggerAddAction(gf,function nTv)set Gf=CreateTrigger()call TriggerRegisterPlayerChatEvent(Gf,Player(0),"-no",true)call TriggerRegisterPlayerChatEvent(Gf,Player(1),"-no",true)call TriggerRegisterPlayerChatEvent(Gf,Player(2),"-no",true)call TriggerRegisterPlayerChatEvent(Gf,Player(3),"-no",true)call TriggerRegisterPlayerChatEvent(Gf,Player(4),"-no",true)call TriggerRegisterPlayerChatEvent(Gf,Player(5),"-no",true)call TriggerRegisterPlayerChatEvent(Gf,Player(6),"-no",true)call TriggerRegisterPlayerChatEvent(Gf,Player(7),"-no",true)call TriggerRegisterPlayerChatEvent(Gf,Player(8),"-no",true)call TriggerRegisterPlayerChatEvent(Gf,Player(9),"-no",true)call TriggerAddCondition(Gf,Condition(function nUv))call TriggerAddAction(Gf,function nwv)set hf=CreateTrigger()call TriggerRegisterEnterRectSimple(hf,YE)call TriggerAddCondition(hf,Condition(function nyv))call TriggerAddAction(hf,function nYv)set Hf=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Hf,EVENT_PLAYER_UNIT_DROP_ITEM)call TriggerRegisterAnyUnitEventBJ(Hf,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddAction(Hf,function nZv)set jf=CreateTrigger()call TriggerRegisterTimerEventSingle(jf,5)call TriggerAddAction(jf,function n2v)set Jf=CreateTrigger()call DisableTrigger(Jf)call TriggerRegisterEnterRectSimple(Jf,tV)call TriggerAddAction(Jf,function n6v)set kf=CreateTrigger()call DisableTrigger(kf)call TriggerRegisterAnyUnitEventBJ(kf,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(kf,Condition(function n8v))call TriggerAddAction(kf,function n9v)set Kf=CreateTrigger()call TriggerRegisterTimerEventSingle(Kf,5)call TriggerAddAction(Kf,function Vov)set lf=CreateTrigger()call DisableTrigger(lf)call TriggerRegisterEnterRectSimple(lf,SR)call TriggerAddAction(lf,function Vnv)set Lf=CreateTrigger()call DisableTrigger(Lf)call TriggerRegisterAnyUnitEventBJ(Lf,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Lf,Condition(function VEv))call TriggerAddAction(Lf,function VXv)call ConditionalTriggerExecute(sI)call ConditionalTriggerExecute(VA)call ConditionalTriggerExecute(BA)call ConditionalTriggerExecute(kc)call ConditionalTriggerExecute(Sc)endfunctionfunction config takes nothing returns nothingcall SetMapName("TRIGSTR_070")call SetMapDescription("TRIGSTR_072")call SetPlayers($A)call SetTeams($A)call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)call DefineStartLocation(0,2432.,-13440.)call DefineStartLocation(1,2432.,-13440.)call DefineStartLocation(2,2432.,-13440.)call DefineStartLocation(3,2432.,-13440.)call DefineStartLocation(4,2432.,-13440.)call DefineStartLocation(5,2432.,-13440.)call DefineStartLocation(6,2432.,-13440.)call DefineStartLocation(7,2432.,-13440.)call DefineStartLocation(8,2432.,-13440.)call DefineStartLocation(9,2432.,-13440.)call SetPlayerStartLocation(Player(0),0)call ForcePlayerStartLocation(Player(0),0)call SetPlayerColor(Player(0),ConvertPlayerColor(0))call SetPlayerRacePreference(Player(0),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(0),false)call SetPlayerController(Player(0),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(1),1)call ForcePlayerStartLocation(Player(1),1)call SetPlayerColor(Player(1),ConvertPlayerColor(1))call SetPlayerRacePreference(Player(1),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(1),false)call SetPlayerController(Player(1),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(2),2)call ForcePlayerStartLocation(Player(2),2)call SetPlayerColor(Player(2),ConvertPlayerColor(2))call SetPlayerRacePreference(Player(2),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(2),false)call SetPlayerController(Player(2),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(3),3)call ForcePlayerStartLocation(Player(3),3)call SetPlayerColor(Player(3),ConvertPlayerColor(3))call SetPlayerRacePreference(Player(3),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(3),false)call SetPlayerController(Player(3),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(4),4)call ForcePlayerStartLocation(Player(4),4)call SetPlayerColor(Player(4),ConvertPlayerColor(4))call SetPlayerRacePreference(Player(4),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(4),false)call SetPlayerController(Player(4),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(5),5)call ForcePlayerStartLocation(Player(5),5)call SetPlayerColor(Player(5),ConvertPlayerColor(5))call SetPlayerRacePreference(Player(5),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(5),false)call SetPlayerController(Player(5),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(6),6)call ForcePlayerStartLocation(Player(6),6)call SetPlayerColor(Player(6),ConvertPlayerColor(6))call SetPlayerRacePreference(Player(6),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(6),false)call SetPlayerController(Player(6),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(7),7)call ForcePlayerStartLocation(Player(7),7)call SetPlayerColor(Player(7),ConvertPlayerColor(7))call SetPlayerRacePreference(Player(7),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(7),false)call SetPlayerController(Player(7),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(8),8)call ForcePlayerStartLocation(Player(8),8)call SetPlayerColor(Player(8),ConvertPlayerColor(8))call SetPlayerRacePreference(Player(8),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(8),false)call SetPlayerController(Player(8),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(9),9)call ForcePlayerStartLocation(Player(9),9)call SetPlayerColor(Player(9),ConvertPlayerColor(9))call SetPlayerRacePreference(Player(9),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(9),false)call SetPlayerController(Player(9),MAP_CONTROL_USER)call InitCustomTeams()call SetStartLocPrioCount(0,9)call SetStartLocPrio(0,0,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,1,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,2,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(1,9)call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,1,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,2,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(2,9)call SetStartLocPrio(2,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,2,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(3,9)call SetStartLocPrio(3,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(4,9)call SetStartLocPrio(4,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(5,9)call SetStartLocPrio(5,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(6,9)call SetStartLocPrio(6,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,5,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(7,9)call SetStartLocPrio(7,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,5,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,6,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(8,9)call SetStartLocPrio(8,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,5,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,6,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,7,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(9,9)call SetStartLocPrio(9,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,5,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,6,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,7,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,8,8,MAP_LOC_PRIO_HIGH)endfunction